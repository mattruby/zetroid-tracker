(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),i=t(16),r=t.n(i),s=t(14),m=t(8),l=t(9),c=t(12),d=t(10),g=t(11),u=t(6),p=t(7),f=t(2),h=t(57),b=t(3),N=t(13),E=t.n(N),v=t(4),O=t(49),y=(t(69),window.L),k=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(c.a)(this,Object(d.a)(a).call(this))).markers={},e.offsetWidth=53,e.offsetHeight=108,e.fitWidth=565,e.fitHeight=619,e.state={containerWidth:565,containerHeight:640,mapWidth:512,mapHeight:532},e.mapRef=Object(n.createRef)(),e.draggableRef=Object(n.createRef)(),e.draggableTarget=Object(n.createRef)(),e.resize=Object(v.debounce)(e.resize,500),e.zoomIn=e.zoomIn.bind(Object(p.a)(Object(p.a)(e))),e.zoomOut=e.zoomOut.bind(Object(p.a)(Object(p.a)(e))),e.toggleWindowLock=e.toggleWindowLock.bind(Object(p.a)(Object(p.a)(e))),e.resetToCenter=e.resetToCenter.bind(Object(p.a)(Object(p.a)(e))),e.addMarker=e.addMarker.bind(Object(p.a)(Object(p.a)(e))),e.onResizeHandler=e.onResizeHandler.bind(Object(p.a)(Object(p.a)(e))),e}return Object(g.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.mapStore.setComponent(this),this.initMap(),this.initDraggable(),this.initReactions()}},{key:"initMap",value:function(){var e=this;this.map=y.map("map-".concat(this.props.id),Object.assign({},{crs:y.CRS.Simple,center:[-2128,2048],zoom:-3,maxBounds:[[0,0],[-4256,4096]],maxBoundsViscosity:1,attributionControl:!1,zoomControl:!1},this.props.mapOptions)),window[Object(v.camelCase)(this.props.mapStore.name)]=this.map,this.props.locations.forEach(function(a){e.addMarker(a)}),y.tileLayer(this.props.tileLayerTemplate,Object.assign({},{minZoom:-3,maxZoom:2,nativeZooms:[0],tileSize:y.point(256,224)},this.props.tileLayerOptions)).addTo(this.map),this.map.setZoom(-3),this.resize()}},{key:"initDraggable",value:function(){var e=this;this.draggable=new h.a(this.draggableRef.current,{trigger:this.draggableTarget.current,bounds:document.querySelector("#main"),liveSnap:function(e){return Math.round(e/1)},onDragEnd:function(){e.props.mapStore.setPos({x:e.draggable.endX,y:e.draggable.endY})}})}},{key:"initReactions",value:function(){var e=this;Object(f.i)(function(){e.props.locations.forEach(function(a){e.markers[a.id]||a.hidden||e.addMarker(a)}),Object.keys(e.markers).forEach(function(a){var t=e.props.mapStore.locations.get(a);t&&t.hidden?e.removeMarker(a):t||e.removeMarker(a)}),e.props.locations.forEach(function(a){e.markers[a.id]&&e.setProgression(e.markers[a.id],a)}),e.draggable.enabled(!e.props.mapStore.isLocked),b.d.set(e.draggableRef.current,{x:e.props.mapStore.x,y:e.props.mapStore.y}),Object(v.isNull)(e.props.mapStore.x)&&b.d.set(e.draggableRef.current,e.initPosition)})}},{key:"resize",value:function(){Object(v.isNull)(this.props.mapStore.containerWidth)||this.setState({containerWidth:this.props.mapStore.containerWidth,containerHeight:this.props.mapStore.containerHeight,mapWidth:this.props.mapStore.containerWidth-this.offsetWidth,mapHeight:this.props.mapStore.containerHeight-this.offsetHeight}),this.mapRef.current.style.width=this.state.mapWidth+"px",this.mapRef.current.style.height=this.state.mapHeight+"px",this.map.invalidateSize()}},{key:"zoomIn",value:function(){this.map.zoomIn()}},{key:"zoomOut",value:function(){this.map.zoomOut()}},{key:"toggleSnap",value:function(){this.setState({toggleSnap:!this.state.toggleSnap})}},{key:"toggleWindowLock",value:function(){this.props.mapStore.setLocked(!this.props.mapStore.isLocked)}},{key:"resetToCenter",value:function(){this.map.setView([0,0],-3),this.onResizeHandler(null,{size:{width:this.fitWidth,height:this.fitHeight}})}},{key:"addMarker",value:function(e){var a=this,t=this.props.mapStore.locations.get(e.id);this.markers[e.id]=y.marker(e.coords).bindTooltip(t.longName).on("click",function(n){var o=a.markers[e.id];a.props.mapStore.locationDetail.setSelectedLocation(n,o,t)}).addTo(this.map),this.setProgression(this.markers[e.id],e)}},{key:"setProgression",value:function(e,a){var t={UNAVAILABLE:"leaflet-marker-icon-UNAVAILABLE",AVAILABLE:"leaflet-marker-icon-AVAILABLE",COMPLETE:"leaflet-marker-icon-COMPLETE",FAVORITE:"leaflet-marker-icon-HIGHLIGHT"};Object.keys(t).forEach(function(a){e._icon.classList.remove(t[a])});var n=a.isFavorite?t.FAVORITE:t[a.progression];e._icon.classList.add(n)}},{key:"onResizeHandler",value:function(e,a){var t=a.size,n=t.width,o=t.height;this.setState({containerWidth:n,mapWidth:n-this.offsetWidth,containerHeight:o,mapHeight:o-this.offsetHeight}),this.props.mapStore.setWidth(n),this.props.mapStore.setHeight(o),this.resize()}},{key:"removeMarker",value:function(e){this.markers[e].off("click"),this.map.removeLayer(this.markers[e]),delete this.markers[e]}},{key:"render",value:function(){var e=E()("fas",{"fa-lock-open":!this.props.mapStore.isLocked,"fa-lock":this.props.mapStore.isLocked}),a=E()("message-container",{"is-off-screen":!this.props.mapStore.isVisible});return o.a.createElement("div",{ref:this.draggableRef,className:a},o.a.createElement(O.ResizableBox,{width:this.state.containerWidth,height:this.state.containerHeight,minConstraints:[256,256],onResizeStop:this.onResizeHandler},o.a.createElement("div",{style:{width:"100%",height:"100%"},className:"message is-primary map-container has-background-grey-darker is-unselectable"},o.a.createElement("header",{className:"message-header",ref:this.draggableTarget},o.a.createElement("div",{className:"buttons has-addons is-marginless"},o.a.createElement("button",{onClick:this.zoomOut,className:"button"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fas fa-search-minus"}))),o.a.createElement("button",{onClick:this.zoomIn,className:"button"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fas fa-search-plus"})))),o.a.createElement("div",{className:"buttons has-addons is-marginless"},o.a.createElement("button",{title:"Reset zoom and center",onClick:this.resetToCenter,className:"button"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fas fa-compress"}))),o.a.createElement("button",{onClick:this.toggleWindowLock,className:"button"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:e}))))),o.a.createElement("div",{className:"message-body map-body"},o.a.createElement("div",{id:"map-".concat(this.props.id),ref:this.mapRef,className:"map"})))))}},{key:"initPosition",get:function(){var e=document.querySelector("body").getBoundingClientRect(),a=this.state.containerWidth,t=e.width/2-a/2+this.props.mapStore.offset,n=this.props.mapStore.offset+50;return this.props.mapStore.setPos({x:t,y:n}),{x:t,y:n}}}]),a}(n.Component),j=Object(u.b)("store")(Object(u.c)(k)),z=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(c.a)(this,Object(d.a)(a).call(this))).state={isMenuActive:!1},e.toggleMenu=e.toggleMenu.bind(Object(p.a)(Object(p.a)(e))),e.toggleMapVisibility=e.toggleMapVisibility.bind(Object(p.a)(Object(p.a)(e))),e.menu=Object(n.createRef)(),e.burger=Object(n.createRef)(),e}return Object(g.a)(a,e),Object(l.a)(a,[{key:"toggleMenu",value:function(){this.setState({isMenuActive:!this.state.isMenuActive})}},{key:"toggleMapVisibility",value:function(e){var a=this.props.store.getMapByName(e);a.setMapVisibility(!a.isVisible)}},{key:"generateMapVisibilityButtons",value:function(){var e=[];return Object(s.a)(this.props.store.maps.values()).forEach(function(a,t){var n=E()("fas",{"fa-eye":!a.isVisible,"fa-eye-slash":a.isVisible});e.push(o.a.createElement("div",{key:"map-button-".concat(a.id),className:"navbar-item"},o.a.createElement("button",{onClick:function(){return a.setMapVisibility(!a.isVisible)},className:"button is-fullwidth"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:n})),o.a.createElement("span",null,a.longName))))}),e}},{key:"render",value:function(){var e=this,a=E()("navbar-burger","burger",{"is-active":this.state.isMenuActive}),t=E()("navbar-menu",{"is-active":this.state.isMenuActive}),n=this.generateMapVisibilityButtons(),i=Object(v.get)(this,"props.store.locationDetail"),r=E()("fas",{"fa-eye":!i.isVisible,"fa-eye-slash":i.isVisible}),s=E()("fas",{"fa-eye":this.props.store.hideCompleted,"fa-eye-slash":!this.props.store.hideCompleted});return o.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},o.a.createElement("div",{className:"navbar-brand"},o.a.createElement("a",{className:"navbar-item",href:"#"},o.a.createElement("strong",{className:"navbar-brand-title is-uppercase"},"Zetroid Tracker")),o.a.createElement("a",{onClick:this.toggleMenu,ref:this.burger,role:"button",className:a,"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},o.a.createElement("span",{"aria-hidden":"true"}),o.a.createElement("span",{"aria-hidden":"true"}),o.a.createElement("span",{"aria-hidden":"true"}))),o.a.createElement("div",{ref:this.menu,className:t},o.a.createElement("div",{className:"navbar-start"},o.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},o.a.createElement("a",{className:"navbar-link"},"File"),o.a.createElement("div",{className:"navbar-dropdown"},o.a.createElement("a",{className:"navbar-item",onClick:function(){return e.props.store.openModal("FILE_IMPORT")}},"Import"),o.a.createElement("a",{className:"navbar-item",onClick:function(){return e.props.store.openModal("FILE_EXPORT")}},"Export"))),o.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},o.a.createElement("a",{className:"navbar-link"},"View"),o.a.createElement("div",{className:"navbar-dropdown"},n,o.a.createElement("div",{className:"navbar-item"},o.a.createElement("button",{onClick:function(){return i.setVisibility(!i.isVisible)},className:"button is-fullwidth"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:r})),o.a.createElement("span",null,"Location Details Panel"))),o.a.createElement("div",{className:"navbar-item"},o.a.createElement("button",{onClick:function(){return e.props.store.setHideCompleted(!e.props.store.hideCompleted)},className:"button is-fullwidth"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:s})),o.a.createElement("span",null,"Hide Completed Locations")))))),o.a.createElement("div",{className:"navbar-end"},o.a.createElement("div",{className:"navbar-item"},o.a.createElement("button",{onClick:this.props.store.flushLocalStorage,className:"button is-danger"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fas fa-broom"})),o.a.createElement("span",null,"Flush local storage"))),o.a.createElement("div",{className:"navbar-item"},o.a.createElement("button",{className:"button"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fas fa-cog"})))))))}}]),a}(n.Component),w=Object(u.b)("store")(Object(u.c)(z)),L=function(e){function a(){return Object(m.a)(this,a),Object(c.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=E()("modal",{"is-active":this.props.store.isModalOpen});return o.a.createElement("div",{className:e},o.a.createElement("div",{className:"modal-background"}),this.props.children)}}]),a}(n.Component),S=Object(u.b)("store")(Object(u.c)(L)),M=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(c.a)(this,Object(d.a)(a).call(this))).state={snapshot:""},e.snapshotRef=Object(n.createRef)(),e}return Object(g.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this,a=Object(v.get)(this,"props.store.validationMessages",[]);return o.a.createElement("div",{className:"modal-card"},o.a.createElement("header",{className:"modal-card-head"},o.a.createElement("p",{className:"modal-card-title"},"Import generated JSON"),o.a.createElement("button",{className:"delete","aria-label":"close",onClick:this.props.store.closeModal})),o.a.createElement("section",{className:"modal-card-body"},o.a.createElement("p",null,"Paste JSON to load a previously saved state of the application."),o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("textarea",{className:"is-fullwidth textarea",placeholder:"Paste JSON here...",ref:this.snapshotRef}))),o.a.createElement("div",{className:"validation-error is-danger"},a.map(function(e,a){return o.a.createElement("p",{className:"has-text-danger",key:"message-".concat(a)},e)}))),o.a.createElement("footer",{className:"modal-card-foot"},o.a.createElement("button",{className:"button is-success",onClick:function(){return e.props.store.loadSnapshot(e.snapshotRef.current.value)}},"Load"),o.a.createElement("button",{className:"button",onClick:this.props.store.closeModal},"Cancel")))}}]),a}(n.Component),I=Object(u.b)("store")(Object(u.c)(M)),x=t(1),C=function(e){function a(){return Object(m.a)(this,a),Object(c.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"modal-card"},o.a.createElement("header",{className:"modal-card-head"},o.a.createElement("p",{className:"modal-card-title"},"Export generated JSON"),o.a.createElement("button",{className:"delete","aria-label":"close",onClick:this.props.store.closeModal})),o.a.createElement("section",{className:"modal-card-body"},o.a.createElement("p",null,"Copy the JSON below to save the state of the application."),o.a.createElement("div",{className:"field"},o.a.createElement("div",{className:"control"},o.a.createElement("textarea",{readOnly:!0,className:"is-fullwidth textarea",value:JSON.stringify(Object(x.d)(this.props.store))})))),o.a.createElement("footer",{className:"modal-card-foot"},o.a.createElement("button",{className:"button is-success"},"Copy (not working, lol)"),o.a.createElement("button",{className:"button",onClick:this.props.store.closeModal},"Cancel")))}}]),a}(n.Component),R=Object(u.b)("store")(Object(u.c)(C)),A=t(50),B=function(){return Object(A.v4)()},T=(t(28),function(e){function a(){return Object(m.a)(this,a),Object(c.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.item,a=this.props.item.image;return o.a.createElement("span",{className:"item-icon"},o.a.createElement("img",{src:a,alt:Object(v.get)(e,"longName"),title:Object(v.get)(e,"image")}),o.a.createElement("span",null,e.longName))}}]),a}(n.Component)),H=function(e){function a(){return Object(m.a)(this,a),Object(c.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){if(!this.props.items)return o.a.createElement("span",null,"None");if(1===this.props.items.length)return o.a.createElement(T,{item:this.props.items[0]});var e=[],a=[],t=[];return this.props.items.forEach(function(t,n){e.push(o.a.createElement("span",{key:"".concat(t.name,"-icon-").concat(n),className:"item-icon is-not-acquired"},o.a.createElement("img",{src:t.imageSrc,alt:Object(v.get)(t,"longName"),title:Object(v.get)(t,"longName")}))),a.push(o.a.createElement("span",{key:"".concat(t.name,"-text-").concat(n),className:"item-icon-name is-not-acquired is-size-7"},t.longName))}),e.forEach(function(n,o){t.push(e[o],a[o])}),o.a.createElement("div",{className:"item-icon-list"},t)}}]),a}(n.Component),P=Object(u.b)("store")(Object(u.c)(function(e){function a(){return Object(m.a)(this,a),Object(c.a)(this,Object(d.a)(a).call(this))}return Object(g.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e,a=Object(v.get)(this,"props.store.locationDetail"),t=a.selectedLocation,n=a.displayHelp,i=Object(v.get)(t,"details"),r=Object(v.get)(i,"longName"),s=Object(v.get)(i,"itemRequirements",[]),m=E()("button","is-outline",{"has-text-warning":Object(v.get)(t,"isFavorite")}),l=E()("content","box","map-info",{"is-hidden":!a.isVisible});if(t)switch(t.progression){case"UNAVAILABLE":e=o.a.createElement("button",{onClick:function(){return a.selectedLocation.setProgression("AVAILABLE")},className:"button is-danger"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fas fa-lock"})),o.a.createElement("span",null,"Unavailable"));break;case"AVAILABLE":e=o.a.createElement("button",{onClick:function(){return a.selectedLocation.setProgression("COMPLETE")},className:"button is-success"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fas fa-unlock"})),o.a.createElement("span",null,"Available"));break;case"COMPLETE":e=o.a.createElement("button",{onClick:function(){return a.selectedLocation.setProgression("UNAVAILABLE")},className:"button is-dark"},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fas fa-check"})),o.a.createElement("span",null,"Complete"))}return!i||n?o.a.createElement("div",{className:"is-background-white"},o.a.createElement("div",{className:l},o.a.createElement("h1",null,"Help"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("em",null,"Click map marker for more information.")),o.a.createElement("li",null,o.a.createElement("em",null,"Shift + drag to zoom in on an area.")),o.a.createElement("li",null,o.a.createElement("em",null,"Drag on the window title to move map.")),o.a.createElement("li",null,o.a.createElement("em",null,"Mousewheel or ",o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fas fa-search-minus"})),o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fas fa-search-plus"}))," to zoom in/out.")),o.a.createElement("li",null,o.a.createElement("em",null,"Click ",o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fas fa-lock"}))," in upper right to toggle position lock."))))):(r&&(r=o.a.createElement("h1",null,r)),s.length&&(s=o.a.createElement(H,{items:s})),o.a.createElement("div",{className:"is-background-white"},o.a.createElement("div",{className:l},o.a.createElement("div",{className:"details-container"},o.a.createElement("div",{className:"details-controls"},r,o.a.createElement("div",null,o.a.createElement("div",{className:""},o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{onClick:function(){return t.setFavorite(!t.isFavorite)},className:m},o.a.createElement("span",{className:"icon"},o.a.createElement("i",{className:"fas fa-star"}))),e)))),o.a.createElement("div",{className:"details-requirements"},o.a.createElement("h6",null,"Requirements:"),s)))))}}]),a}(n.Component))),V=function(e){function a(){return Object(m.a)(this,a),Object(c.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.store.itemList,a=this.props.item,t=e.isVisible(a),n=E()("item",{"is-not-acquired":!a.acquired,"is-hidden":!t,"is-item-group":!!a.group});return o.a.createElement("div",{onClick:a.activateNext,key:a.id,className:n},o.a.createElement("img",{src:a.imageSrc,alt:a.longName}))}}]),a}(n.Component),D=Object(u.b)("store")(Object(u.c)(V)),q=t(27),G=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(c.a)(this,Object(d.a)(a).call(this))).onDragEndHandler=e.onDragEndHandler.bind(Object(p.a)(Object(p.a)(e))),e}return Object(g.a)(a,e),Object(l.a)(a,[{key:"onDragEndHandler",value:function(e){if(e.destination){var a=this.props.items,t=Object(v.find)(a,{index:e.source.index}),n=Object(v.find)(a,{index:e.destination.index});this.props.store.itemList.updateOrder(t,n)}}},{key:"render",value:function(){var e=this.props.store.itemList;return o.a.createElement(q.a,{onDragEnd:this.onDragEndHandler},o.a.createElement(q.c,{droppableId:"droppable"},function(a,t){var n=[];return e.sortedItems.forEach(function(a,t){var i=null;i=a.group?e.getItemsByGroup(a.group).map(function(e){return o.a.createElement(D,{key:e.id,item:e})}):o.a.createElement(D,{key:a.id,item:a}),n.push(o.a.createElement(q.b,{key:"draggable-".concat(t),draggableId:"draggable-".concat(t),index:t},function(e,a){return o.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),o.a.createElement("div",{className:"item-container"},i))}))}),o.a.createElement("div",{ref:a.innerRef,className:"item-list-container has-background-grey-light"},n,a.placeholder)}))}}]),a}(n.Component),W=Object(u.b)("store")(Object(u.c)(G)),F=function(e){function a(){return Object(m.a)(this,a),Object(c.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"generateMaps",value:function(){var e=[];return Object(s.a)(this.props.store.maps.values()).forEach(function(a){e.push(o.a.createElement(j,{key:"map-".concat(a.id),mapStore:a,locations:Object(s.a)(a.locations.values()),id:B(),tileLayerTemplate:a.tileLayerTemplate}))}),e}},{key:"render",value:function(){var e=this.props.store,a=null;e.itemList.items;if(e.isModalOpen)switch(e.activeModal){case"FILE_IMPORT":a=o.a.createElement(I,null);break;case"FILE_EXPORT":a=o.a.createElement(R,null)}return o.a.createElement(u.a,{store:e},o.a.createElement("div",{className:"main-container"},o.a.createElement(w,null),o.a.createElement("div",{id:"main",className:"main"},this.generateMaps(),o.a.createElement(P,null),o.a.createElement(W,{items:this.props.store.itemList.sortedItems})),o.a.createElement(S,null,a)))}}]),a}(n.Component),_=Object(u.c)(F),J=x.f.model({id:x.f.identifier,name:x.f.string,longName:x.f.string,selected:!1}).actions(function(e){return{setSelected:function(a){e.selected=a}}}),U=x.f.model({id:x.f.identifier,name:x.f.maybeNull(x.f.string),longName:x.f.maybeNull(x.f.string),group:x.f.maybeNull(x.f.string),items:x.f.optional(x.f.array(x.f.late(function(){return U})),[]),hidden:!1,image:"",index:x.f.integer,groupIndex:x.f.maybeNull(x.f.integer),game:x.f.reference(J),acquired:!1,maxQty:x.f.optional(x.f.integer,1),isDefault:!1}).views(function(e){return{get imageSrc(){return"".concat("/zetroid-tracker","/img/items/").concat(e.game.name,"/").concat(e.image,".png")}}}).actions(function(e){return{acquire:function(a){e.group&&Object(x.c)(e).itemList.getItemsByGroup(e.group).forEach(function(e){e.acquired=!1}),e.acquired=a},activateNext:function(){if(e.group){var a=!0,t=Object(x.c)(e).itemList.getItemsByGroup(e.group),n=Object(v.find)(t,{acquired:!0});n||(n=Object(v.find)(t,{isDefault:!0})),n||(n=t[0]);var o=n.groupIndex+1;if(o===t.length)o=0,a=!1;else if(n.isDefault&&!n.acquired)return void n.acquire(!0);t[o].acquire(a)}else e.toggleAcquisition()},setIndex:function(a){e.index=a},toggleAcquisition:function(){e.acquire(!e.acquired)}}}),K=U,Z=t(56),Q=t.n(Z),Y=x.f.model({id:x.f.identifier,items:x.f.array(K),sortOrder:x.f.optional(x.f.array(x.f.integer),[])}).views(function(e){return{getItemByName:function(a){var t=Object(s.a)(e.items.values()),n=null;if(Object(v.find)(t,{name:a}))return Object(v.find)(t,{name:a});var o=t.filter(function(e){return e.group});return o?(o.forEach(function(e){e.items.forEach(function(e){e.name===a&&(n=e)})}),n):null},getItemsByGroup:function(a){var t=Object(v.find)(Object(s.a)(e.items.values()),{group:a});return t?Object(s.a)(t.items.values()):null},hasAcquiredAnyItemsInGroup:function(a){return e.getItemsByGroup(a).some(function(e){return e.acquired})},get groupedItems(){var a={none:[]};e.sortedItems.forEach(function(e){e.group?(a[e.group]||(a[e.group]=[]),a[e.group].push(e)):a.none.push(e)});for(var t=Object.keys(a),n=0;n<t.length;n++){var o=t[n];"none"!==o&&(a[o]=Object(v.sortBy)(a[o],["groupIndex"]))}return a},get sortedItems(){return Object(v.sortBy)(Object(s.a)(e.items.values()),["index"])},isVisible:function(a){var t=!1;return a.group?a.acquired?t=!0:e.hasAcquiredAnyItemsInGroup(a.group)?t=!1:a.isDefault&&(t=!0):t=!0,t}}}).actions(function(e){return{updateOrder:function(a,t){var n=a.index,o=t.index;n!==o&&Q()(e.sortedItems,n,o).forEach(function(e,a){return e.setIndex(a)})}}}),X=x.f.model({id:x.f.identifier,name:x.f.string,longName:x.f.string,image:"",game:x.f.reference(J),coords:x.f.array(x.f.integer),itemRequirements:x.f.array(x.f.string),progression:x.f.optional(x.f.enumeration("Progression types",["UNAVAILABLE","AVAILABLE","COMPLETE"]),"UNAVAILABLE"),isFavorite:!1}).views(function(e){return{get details(){var a;return e.itemRequirements&&(a=e.itemRequirements.map(function(a){return Object(x.c)(e).itemList.getItemByName(a)})),{longName:e.longName,itemRequirements:a}},get defaultMarkerType(){return"UNAVAILABLE"},get tooltipContent(){return e.longName},get hidden(){return!(e.isFavorite||!Object(x.c)(e).hideCompleted||"COMPLETE"!==e.progression)}}}).actions(function(e){return{setProgression:function(a){e.progression=a},setFavorite:function(a){e.isFavorite=a}}}),$=x.f.model({id:x.f.identifier,selectedLocation:x.f.maybeNull(x.f.reference(X)),isVisible:!0}).views(function(e){return{get selectedLocationDetails(){return e.selectedLocation.details},get displayHelp(){return!e.selectedLocation}}}).actions(function(e){return{setSelectedLocation:function(a,t,n){e.selectedLocation=n},setVisibility:function(a){e.isVisible=a}}}),ee=x.f.model({id:x.f.identifier,name:x.f.string,longName:x.f.string,game:x.f.reference(J),locations:x.f.map(X),selectedLocation:x.f.maybe(x.f.reference(X)),locationDetail:x.f.reference($),displayHelp:!0,isVisible:!0,tileLayerTemplate:x.f.string,offset:0,x:x.f.optional(x.f.maybeNull(x.f.number),null),y:x.f.optional(x.f.maybeNull(x.f.number),null),containerWidth:x.f.optional(x.f.maybeNull(x.f.number),null),containerHeight:x.f.optional(x.f.maybeNull(x.f.number),null),isLocked:!1}).volatile(function(){return{component:{}}}).views(function(e){return{get selectedLocationDetails(){return e.selectedLocation.details}}}).actions(function(e){return{setComponent:function(a){e.component=a},setSelectedLocation:function(a,t,n){e.selectedLocation=n},showHelp:function(){e.displayHelp=!0},setMapVisibility:function(a){e.isVisible=a},setPos:function(a){e.x=a.x,e.y=a.y},setWidth:function(a){e.containerWidth=a},setHeight:function(a){e.containerHeight=a},setLocked:function(a){e.isLocked=a}}}),ae=x.f.model({games:x.f.map(J),itemList:Y,maps:x.f.map(ee),locationDetail:$,isModalOpen:!1,activeModal:x.f.maybeNull(x.f.enumeration("Modals",["FILE_IMPORT","FILE_EXPORT"])),validationMessages:x.f.array(x.f.string),LOCAL_STORAGE_KEY:"zetroid-tracker",hideCompleted:!1,shouldSync:!0}).views(function(e){return{getGameByName:function(a){return Object(v.find)(Object(s.a)(e.games.values()),{name:a})},getMapByName:function(a){return Object(v.find)(Object(s.a)(e.maps.values()),{name:a})},get selectedGame(){return Object(v.find)(Object(s.a)(e.games.values()),{selected:!0})}}}).actions(function(e){return{selectGame:function(a){var t=e.getGameByName(a);Object(s.a)(e.games.values()).forEach(function(e){t===e?e.setSelected(!0):e.setSelected(!1)})},openModal:function(a){e.isModalOpen=!0,e.activeModal=a},closeModal:function(){e.activeModal=null,e.isModalOpen=!1},loadSnapshot:function(a){var t;try{t=JSON.parse(a),e.closeModal(),Object(x.a)(e,t)}catch(n){e.validationMessages=["Invalid JSON."]}},flushLocalStorage:function(){window.localStorage&&window.localStorage.removeItem(e.LOCAL_STORAGE_KEY)},setHideCompleted:function(a){e.hideCompleted=a}}}),te=[{group:"mp-upgrade",game:"zelda3",items:[{name:"mp-upgrade-11",longName:"1/1 Magic",game:"zelda3",image:"mpupgrade0",group:"mp-upgrade",groupIndex:0,isDefault:!0},{name:"mp-upgrade-12",longName:"1/2 Magic",game:"zelda3",image:"mpupgrade1",group:"mp-upgrade",groupIndex:1},{name:"mp-upgrade-14",longName:"1/4 Magic",game:"zelda3",image:"mpupgrade2",group:"mp-upgrade",groupIndex:2}]},{group:"agahnim",game:"zelda3",items:[{name:"agahnim-alive",longName:"Agahnim",game:"zelda3",image:"agahnim0",group:"agahnim",groupIndex:0,isDefault:!0},{name:"agahnim-dead",longName:"Agahnim Defeated",game:"zelda3",image:"agahnim1",group:"agahnim",groupIndex:1}]},{group:"armor",game:"zelda3",items:[{name:"jerkin",longName:"Green Jerkin",game:"zelda3",image:"tunic1",group:"armor",groupIndex:0,isDefault:!0},{name:"blue-mail",longName:"Blue Mail",game:"zelda3",image:"tunic2",group:"armor",groupIndex:1},{name:"red-mail",longName:"Red Mail",game:"zelda3",image:"tunic3",group:"armor",groupIndex:2}]},{group:"boomerang",game:"zelda3",items:[{name:"boomerang",longName:"Boomerang",game:"zelda3",image:"boomerang1",group:"boomerang",groupIndex:0,isDefault:!0},{name:"m-boomerang",longName:"Magical Boomerang",game:"zelda3",image:"boomerang2",group:"boomerang",groupIndex:1},{name:"all-boomerangs",longName:"All Boomerangs",game:"zelda3",image:"boomerang3",group:"boomerang",groupIndex:2}]},{group:"bomb",game:"zelda3",items:[{name:"bomb",longName:"Bomb",game:"zelda3",image:"bomb1",group:"bomb",groupIndex:0,isDefault:!0},{name:"oj-bomb",longName:"Bomb",game:"zelda3",image:"bomb2",group:"bomb",groupIndex:1}]},{group:"sword",game:"zelda3",items:[{name:"sword",longName:"Fighter\u2019s Sword",game:"zelda3",image:"sword1",group:"sword",groupIndex:0,isDefault:!0},{name:"master-sword",longName:"Master Sword",game:"zelda3",image:"sword2",group:"sword",groupIndex:1},{name:"tempered-sword",longName:"Tempered Sword",game:"zelda3",image:"sword3",group:"sword",groupIndex:2},{name:"golden-sword",longName:"Golden Sword",game:"zelda3",image:"sword4",group:"sword",groupIndex:3}]},{group:"shield",game:"zelda3",items:[{name:"shield",longName:"Fighter\u2019s Shield",game:"zelda3",image:"shield1",group:"shield",groupIndex:0,isDefault:!0},{name:"red-shield",longName:"Red Shield",game:"zelda3",image:"shield2",group:"shield",groupIndex:1},{name:"mirror-shield",longName:"Mirror Shield",game:"zelda3",image:"shield3",group:"shield",groupIndex:2}]},{group:"glove",game:"zelda3",items:[{name:"glove",longName:"Power Glove",game:"zelda3",image:"glove1",group:"glove",groupIndex:0,isDefault:!0},{name:"titan-mitt",longName:"Titan\u2019s Mitt",game:"zelda3",image:"glove2",group:"glove",groupIndex:1}]},{name:"book",longName:"Book of Mudora",game:"zelda3",image:"book"},{name:"bombos",longName:"Bombos Medallion",game:"zelda3",image:"bombos"},{name:"bottle",longName:"Bottle",game:"zelda3",image:"bottle0",maxQty:4},{name:"bow",longName:"Bow",game:"zelda3",image:"bow"},{name:"net",longName:"Bug-Catching Net",game:"zelda3",image:"net"},{name:"somaria",longName:"Cane of Somaria",game:"zelda3",image:"somaria"},{name:"byrna",longName:"Cane of Byrna",game:"zelda3",image:"byrna"},{name:"ether",longName:"Ether Medallion",game:"zelda3",image:"ether"},{name:"fire-rod",longName:"Fire Rod",game:"zelda3",image:"firerod"},{name:"flute",longName:"Flute",game:"zelda3",image:"flute"},{name:"heart-c",longName:"Heart Container",game:"zelda3",image:"heartcontainer"},{name:"heart-p",longName:"Heart Piece",game:"zelda3",image:"heartpiece",maxQty:24},{name:"hookshot",longName:"Hookshot",game:"zelda3",image:"hookshot"},{name:"ice-rod",longName:"Ice Rod",game:"zelda3",image:"icerod"},{name:"lantern",longName:"Lantern",game:"zelda3",image:"lantern"},{name:"cape",longName:"Magic Cape",game:"zelda3",image:"cape"},{name:"hammer",longName:"Magic Hammer",game:"zelda3",image:"hammer"},{name:"powder",longName:"Magic Powder",game:"zelda3",image:"powder"},{name:"mirror",longName:"Magic Mirror",game:"zelda3",image:"mirror"},{name:"moon-pearl",longName:"Moon Pearl",game:"zelda3",image:"moonpearl"},{name:"mushroom",longName:"Mushroom",game:"zelda3",image:"mushroom"},{name:"boots",longName:"Pegasus Boots",game:"zelda3",image:"boots"},{name:"quake",longName:"Quake Medallion",game:"zelda3",image:"quake"},{name:"shovel",longName:"Shovel",game:"zelda3",image:"shovel"},{name:"s-arrow",longName:"Silver Arrow",game:"zelda3",image:"silvers"},{name:"flippers",longName:"Zora\u2019s Flippers",game:"zelda3",image:"flippers"},{name:"bracelet",longName:"Power Bracelet",game:"zelda1"},{name:"lantern",longName:"Lantern",game:"zelda1"},{name:"food",longName:"Food",game:"zelda1"},{name:"ladder",longName:"Ladder",game:"zelda1"},{name:"letter",longName:"Letter",game:"zelda1"},{name:"m-key",longName:"Magic Key",game:"zelda1"},{name:"m-rod",longName:"Magic Rod",game:"zelda1"},{name:"raft",longName:"Raft",game:"zelda1"},{name:"recorder",longName:"Recorder",game:"zelda1"},{name:"ring",longName:"Red Ring",game:"zelda1"},{name:"triforce-1",longName:"Triforce Piece 1",game:"zelda1"},{name:"triforce-2",longName:"Triforce Piece 2",game:"zelda1"},{name:"triforce-3",longName:"Triforce Piece 3",game:"zelda1"},{name:"triforce-4",longName:"Triforce Piece 4",game:"zelda1"},{name:"triforce-5",longName:"Triforce Piece 5",game:"zelda1"},{name:"triforce-6",longName:"Triforce Piece 6",game:"zelda1"},{name:"triforce-7",longName:"Triforce Piece 7",game:"zelda1"},{name:"triforce-8",longName:"Triforce Piece 8",game:"zelda1"},{name:"charge",longName:"Charge Beam",game:"metroid3"},{name:"ice",longName:"Ice Beam",game:"metroid3"},{name:"wave",longName:"Wave Beam",game:"metroid3"},{name:"spazer",longName:"Spazer",game:"metroid3"},{name:"plasma",longName:"Plasma",game:"metroid3"},{name:"varia",longName:"Varia Suit",game:"metroid3"},{name:"gravity",longName:"Gravity Suit",game:"metroid3"},{name:"morph",longName:"Morph Ball",game:"metroid3"},{name:"bombs",longName:"Bombs",game:"metroid3"},{name:"spring",longName:"Spring Ball",game:"metroid3"},{name:"screw",longName:"Screw Attack",game:"metroid3"},{name:"jump",longName:"High Jump Boots",game:"metroid3"},{name:"space",longName:"Space Jump",game:"metroid3"},{name:"speed",longName:"Speed Booster",game:"metroid3"},{name:"missile",longName:"Missle",game:"metroid3"},{name:"s-missile",longName:"Super Missle",game:"metroid3"},{name:"powerbomb",longName:"Powerbomb",game:"metroid3"},{name:"grappling",longName:"Grappling Hook",game:"metroid3"},{name:"xray",longName:"X-Ray Scanner",game:"metroid3"},{name:"kraid",longName:"Kraid",game:"metroid3"},{name:"phantoon",longName:"Phantoon",game:"metroid3"},{name:"draygon",longName:"Draygon",game:"metroid3"},{name:"ridley",longName:"Ridley",game:"metroid3"},{name:"etank",longName:"Energy Tank",game:"metroid3"},{name:"rtank",longName:"Reserve Tank",game:"metroid3"},{name:"long",longName:"Long Beam",game:"metroid1"},{name:"kraidtotem",longName:"Kraid Totem",game:"metroid1"},{name:"ridleytotem",longName:"Ridley Totem",game:"metroid1"}];Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=ae.create({id:B(),games:{},itemList:Y.create({id:B(),items:[],sortOrder:[]}),maps:{},locationDetail:$.create({id:B(),selectedLocation:null})});Object(x.g)(ne),[{name:"zelda1",longName:"The Legend of Zelda"},{name:"zelda3",longName:"The Legend of Zelda: A Link to the Past"},{name:"metroid1",longName:"Metroid"},{name:"metroid3",longName:"Super Metroid"}].forEach(function(e){ne.games.put(J.create({id:B(),name:e.name,longName:e.longName}))}),ne.selectGame("zelda3"),ne.maps.put(ee.create({id:B(),name:"zelda3-lw",longName:"Light World Map",game:ne.getGameByName("zelda3"),tileLayerTemplate:"".concat("/zetroid-tracker","/img/maps/zelda3/lw/{z}/zelda3-lw.{x}.{y}.png"),locations:{},locationDetail:ne.locationDetail})),ne.maps.put(ee.create({id:B(),name:"zelda3-dw",longName:"Dark World Map",game:ne.getGameByName("zelda3"),tileLayerTemplate:"".concat("/zetroid-tracker","/img/maps/zelda3/dw/{z}/zelda3-dw.{x}.{y}.png"),locations:{},locationDetail:ne.locationDetail,offset:100})),te.filter(function(e){return e.game===ne.selectedGame.name}).forEach(function(e,a){var t=!(!e.group||!e.items.length),n={id:B(),index:Object(v.isUndefined)(e.index)?a:e.index,name:e.name,game:ne.getGameByName(e.game),maxQty:e.maxQty||1};t?(n.isDefault=e.isDefault||!1,n.group=e.group,n.groupIndex=e.groupIndex||null):(n.longName=e.longName,n.image=e.image);var o=t&&e.items.map(function(e){return K.create(Object.assign({},n,e,{id:B(),game:ne.getGameByName(e.game)}))});o.length&&(n.items=o),ne.itemList.sortOrder.push(a),ne.itemList.items.push(K.create(n))}),[{name:"linkhouse",longName:"Link\u2019s House",coords:[-2825,2240],game:"zelda3",map:"zelda3-lw",itemRequirements:["bomb","somaria","bottle","bow","net","golden-sword","cape","hammer"]},{name:"hyrule-castle",longName:"Hyrule Castle",coords:[-1800,2050],game:"zelda3",map:"zelda3-lw",itemRequirements:["boots","hookshot"]},{name:"pyramid",longName:"Pyramid",coords:[-1840,2375],game:"zelda3",map:"zelda3-dw",itemRequirements:["boots","hookshot"]}].forEach(function(e){ne.getMapByName(e.map).locations.put(X.create({id:"loc-".concat(B()),name:e.name,longName:e.longName,coords:e.coords,game:ne.getGameByName(e.game),itemRequirements:e.itemRequirements}))}),window.applySnapshot=x.a,window.getSnapshot=x.d,window.destroy=x.b,window.appStore=ne,window.mapStore=ne.getMapByName("zelda3-lw"),ne.shouldSync&&(Object(x.e)(ne,function(e){window.localStorage&&window.localStorage.setItem(ne.LOCAL_STORAGE_KEY,JSON.stringify(e))}),window.localStorage&&window.localStorage.getItem(ne.LOCAL_STORAGE_KEY)&&Object(x.a)(ne,JSON.parse(window.localStorage.getItem(ne.LOCAL_STORAGE_KEY)))),r.a.render(o.a.createElement(_,{store:ne}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},28:function(e,a,t){},58:function(e,a,t){e.exports=t(110)}},[[58,2,1]]]);
//# sourceMappingURL=main.9c4beefd.chunk.js.map
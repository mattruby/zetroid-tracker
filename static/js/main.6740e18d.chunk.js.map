{"version":3,"sources":["Map.js","NavBar.js","Modal.js","FileImportModal.js","FileExportModal.js","HelpModal.js","Item.js","ItemList.js","EditItemListModal.js","util.js","ItemIcon.js","ItemIconList.js","LocationNotes.js","LocationDetail.js","Layout.js","App.js","Game.store.js","Item.store.js","ItemListUtil.js","ItemList.store.js","Location.store.js","LocationDetail.store.js","Map.store.js","Layout.store.js","App.store.js","data/items.js","data/bosses.js","serviceWorker.js","index.js","data/data.js"],"names":["L","window","Map","_Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","markers","resize","debounce","addMarker","bind","assertThisInitialized","onResizeHandler","layoutNode","setEventListener","data","pick","rect","inherits","createClass","key","value","mapStore","setComponent","initMap","initReactions","_this2","map","concat","id","assign","crs","CRS","Simple","center","zoom","maxBounds","maxBoundsViscosity","attributionControl","zoomControl","mapOptions","locations","forEach","loc","tileLayer","tileLayerTemplate","minZoom","maxZoom","nativeZooms","tileSize","point","tileLayerOptions","addTo","setZoom","camelCase","name","self","autorun","hidden","keys","markerId","get","removeMarker","setProgression","invalidateSize","fitWorld","theLocation","markerIcon","AwesomeMarkers","icon","markerColor","prefix","className","extraClasses","marker","coords","bindTooltip","longName","on","event","locationDetail","setSelectedLocation","markerOptions","tooltipAnchor","isFavorite","isComplete","isAvailable","isViewable","isDungeon","isDungeonComplete","setIcon","newWidth","width","newHeight","height","setWidth","setHeight","off","removeLayer","react_default","a","createElement","ref","mapRef","Component","inject","observer","NavBar","state","isMenuActive","toggleMenu","menu","createRef","burger","setState","burgerClasses","classNames","is-active","menuClasses","hideCompletedClasses","fa-eye","store","hideCompleted","fa-eye-slash","role","aria-label","href","onClick","aria-expanded","data-target","aria-hidden","openModal","setHideCompleted","flushLocalStorage","Modal","modalClasses","isModalOpen","children","FileImportModal","snapshot","snapshotRef","validationMessages","closeModal","placeholder","message","i","loadSnapshot","current","FileExportModal","textboxRef","copyToClipboard","hasBeenCopied","select","document","execCommand","copyBtnClasses","is-primary","is-success","copyBtnTxt","selectedGame","readOnly","JSON","stringify","getSnapshot","HelpModal","apply","arguments","Item","itemListStore","item","isVisible","itemClasses","is-not-acquired","acquired","is-hidden","is-item-group","group","data-qty","qty","isReadOnly","activateNext","shiftKey","src","imageSrc","alt","title","ItemList","onDragEndHandler","result","destination","items","sourceItem","find","index","source","destItem","updateOrder","dragElems","containerClasses","is-draggable-enabled","draggableEnabled","is-draggable-disabled","itemElem","getItemsByGroup","subItem","src_Item","push","react_beautiful_dnd_esm","draggableId","droppableId","provided","innerRef","draggableProps","dragHandleProps","direction","EditItemListModal","sourceStore","getItemListStoreByDroppableId","destStore","sourceItems","sortedItems","destItems","moveItem","activeItemList","onDragEnd","src_ItemList","inactiveItemList","activeBossItemList","inactiveBossItemList","filter","type","applySnapshot","err","console","error","randomId","v4","ItemIcon","iconClasses","checkAcquired","ItemIconList","length","src_ItemIcon","icons","iconText","iconsClasses","iconTextClasses","content","pedestal","getItemOrGroupByName","kakarikoWell","getItemByName","bottleVendor","raceMinigame","selectedContent","notes","noteName","LocationDetail","progressionButton","selectedLocation","details","numItems","reqs","favoriteClasses","has-text-warning","toggleComplete","src_ItemIconList","src_LocationNotes","setFavorite","Layout","model","FlexLayout","Model","fromJson","layout","json","layoutRef","lib_default","factory","onModelChange","saveToLocalStorage","toJson","App","maps","toConsumableArray","values","src_Map","node","component","getComponent","config","getConfig","mapName","src_LocationDetail","listType","modal","activeModal","src_FileImportModal","src_FileExportModal","src_HelpModal","src_EditItemListModal","index_module","src_NavBar","src_Modal","src_Layout","layoutFactory","GameStore","types","identifier","string","selected","actions","setSelected","ItemStore","maybeNull","optional","array","late","image","integer","groupIndex","game","reference","maxQty","isDefault","views","process","acquire","newAcquired","getParentOfType","ItemListStore","forwardDirection","undefined","activateNextQty","shouldAcquire","subItems","currentSubItem","nextGroupIndex","toggleAcquisition","setIndex","newIndex","nextQty","setQty","newQty","ItemListUtil","getItemGroupByName","match","itemFound","itemGroups","itemGroup","hasAcquiredAnyItemsInGroup","some","groupedItems","none","_arr","_i","groupName","sortBy","compose","sortOrder","sourceItemIndex","destItemIndex","swappedItems","move","updateIndices","itemToAdd","sourceItemList","splice","detach","LocationStore","itemRequirements","volatile","viewableRequirements","desertpalace","getRoot","every","customItemRequirements","dungeonRequirements","req","defaultMarkerType","tooltipContent","newFavorite","LocationDetailStore","selectedLocationDetails","mapStoreLocation","MapStore","maybe","offset","containerWidth","number","containerHeight","isLocked","newZoom","LayoutStore","splitterSize","enableEdgeDock","tabEnableClose","tabEnableDrag","tabEnableRename","tabClassName","tabIcon","tabEnableRenderOnDemand","tabDragSpeed","tabSetEnableDeleteWhenEmpty","tabSetEnableDrop","tabSetEnableDrag","tabSetEnableDivide","tabSetEnableMaximize","tabSetClassNameTabStrip","tabSetClassNameHeader","tabSetEnableTabStrip","tabSetHeaderHeight","tabSetTabStripHeight","borderBarSize","borderEnableDrop","borderClassName","layoutPresets","zelda3","STANDARD","global","weight","enableClose","active","borders","size","location","globalConfig","root","getGameStorage","normalize","updateGameLayoutStorage","AppStore","games","enumeration","LOCAL_STORAGE_KEY","shouldSync","getGameByName","getMapByName","itemListStores","selectGame","gameToSelect","modalName","parsedJson","parse","appStorage","createStorage","remove","reload","isHidden","storageData","update","updateGameTreeStorage","tree","itemsData","bossData","Boolean","hostname","activeItemListStore","create","inactiveItemListStore","activeBossItemListStore","inactiveBossItemListStore","appStore","unprotect","put","itemDataFactory","itemList","isItemGroup","itemData","isUndefined","subItemData","destroy","gameStorage","onSnapshot","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.6740e18d.chunk.js","sourcesContent":["import React, { Component, createRef } from 'react';\nimport { autorun } from 'mobx';\nimport { observer, inject } from 'mobx-react';\nimport { debounce, camelCase, pick, } from 'lodash';\nimport '../node_modules/react-resizable/css/styles.css';\n\nconst L = window.L;\nconst Map = class Map extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.resize = debounce(this.resize, 500);\n\t\tthis.addMarker = this.addMarker.bind(this);\n\t\tthis.onResizeHandler = this.onResizeHandler.bind(this);\n\t\tthis.props.layoutNode.setEventListener('resize', function (data) {\n\t\t\tthis.onResizeHandler(pick(data.rect, ['width', 'height']));\n\t\t}.bind(this));\n\t\tthis.props.layoutNode.setEventListener('visibility', function (data) {\n\t\t\tthis.resize();\n\t\t}.bind(this));\n\t}\n\n\tmarkers = {};\n\n\tcomponentDidMount() {\n\t\t// I may not need this.\n\t\tthis.props.mapStore.setComponent(this);\n\t\tthis.initMap();\n\t\tthis.initReactions();\n\t}\n\tinitMap() {\n\t\tthis.map = L.map(`map-${this.props.id}`, Object.assign({}, {\n\t\t\tcrs: L.CRS.Simple,\n\t\t\tcenter: [-2128,2048],\n\t\t\tzoom: this.props.mapStore.zoom,\n\t\t\tmaxBounds: [[0,0], [-4256, 4096]],\n\t\t\tmaxBoundsViscosity: 1,\n\t\t\tattributionControl: false,\n\t\t\tzoomControl: false,\n\t\t}, this.props.mapOptions));\n\t\tthis.props.locations.forEach(loc => {\n\t\t\tthis.addMarker(loc);\n\t\t});\n\t\tL.tileLayer(this.props.tileLayerTemplate, Object.assign({}, {\n\t\t\tminZoom: -3,\n\t\t\tmaxZoom: 2,\n\t\t\tnativeZooms: [0],\n\t\t\ttileSize: L.point(256, 224),\n\t\t}, this.props.tileLayerOptions)).addTo(this.map);\n\t\tthis.map.setZoom(this.props.mapStore.zoom);\n\n\t\t// For debugging.\n\t\twindow[camelCase(this.props.mapStore.name)] = this.map;\n\t}\n\tinitReactions() {\n\t\tconst self = this;\n\n\t\tautorun(() => {\n\t\t\t// Add the markers\n\t\t\tself.props.locations.forEach((loc) => {\n\t\t\t\tif (!self.markers[loc.id]) {\n\t\t\t\t\tif (!loc.hidden) {\n\t\t\t\t\t\tself.addMarker(loc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t// Hide markers marked as hidden or if the location does not exist.\n\t\t\tObject.keys(self.markers).forEach((markerId) => {\n\t\t\t\tconst loc = self.props.mapStore.locations.get(markerId);\n\n\t\t\t\tif (loc && loc.hidden) {\n\t\t\t\t\tself.removeMarker(markerId);\n\t\t\t\t} else if (!loc) {\n\t\t\t\t\tself.removeMarker(markerId);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// Set the progression level for each marker (color coded)\n\t\t\tself.props.locations.forEach((loc) => {\n\t\t\t\tconst marker = self.markers[loc.id];\n\n\t\t\t\tif (!marker) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.setProgression(self.markers[loc.id], loc);\n\t\t\t});\n\t\t});\n\t}\n\tresize() {\n\t\t// Why not just call it outright? Because it's flaky and we need a timeout.\n\t\tthis.map.invalidateSize();\n\t\tthis.map.fitWorld({maxZoom: -2});\n\t}\n\taddMarker(loc) {\n\t\tconst self = this;\n\t\tconst theLocation = this.props.mapStore.locations.get(loc.id);\n\t\tconst markerIcon = L.AwesomeMarkers.icon({\n\t\t\ticon: 'coffee',\n\t\t\tmarkerColor: 'red',\n\t\t\tprefix: 'fa',\n\t\t\tclassName: 'awesome-marker icon',\n\t\t\textraClasses: 'fas'\n\t\t});\n\n\t\tthis.markers[loc.id] = L\n\t\t\t.marker(loc.coords, { icon: markerIcon })\n\t\t\t.bindTooltip(theLocation.longName)\n\t\t\t.on('click', (event) => {\n\t\t\t\tconst marker = self.markers[loc.id];\n\n\t\t\t\tself.props.mapStore.locationDetail.setSelectedLocation(event, marker, theLocation);\n\t\t\t})\n\t\t\t.addTo(this.map)\n\t\t;\n\t\tthis.setProgression(this.markers[loc.id], loc);\n\t}\n\tsetProgression(marker, loc) {\n\t\tconst markerColor = {\n\t\t\tVIEWABLE: 'blue',\n\t\t\tUNAVAILABLE: 'red',\n\t\t\tAVAILABLE: 'green',\n\t\t\tCOMPLETE: 'black',\n\t\t\tFAVORITE: 'orange',\n\t\t};\n\t\tconst icon = {\n\t\t\tVIEWABLE: 'question-circle',\n\t\t\tUNAVAILABLE: 'times-circle',\n\t\t\tAVAILABLE: 'exclamation-circle',\n\t\t\tCOMPLETE: 'check-circle',\n\t\t\tFAVORITE: 'star',\n\t\t\tDUNGEON: 'skull'\n\t\t}\n\t\tconst markerOptions = {\n\t\t\ticon: 'times-circle',\n\t\t\tmarkerColor: 'red',\n\t\t\tprefix: 'fa',\n\t\t\tclassName: 'awesome-marker icon',\n\t\t\textraClasses: 'fas',\n\t\t\ttooltipAnchor: L.point(20,-25),\n\t\t};\n\n\t\tif (loc.isFavorite) {\n\t\t\tmarkerOptions.markerColor = markerColor.FAVORITE;\n\t\t\tmarkerOptions.icon = icon.FAVORITE;\n\t\t} else if (loc.isComplete) {\n\t\t\tmarkerOptions.markerColor = markerColor.COMPLETE;\n\t\t\tmarkerOptions.icon = icon.COMPLETE;\n\t\t} else if (loc.isAvailable) {\n\t\t\tmarkerOptions.markerColor = markerColor.AVAILABLE;\n\t\t\tmarkerOptions.icon = icon.AVAILABLE;\n\t\t} else if (loc.isViewable) {\n\t\t\tmarkerOptions.markerColor = markerColor.VIEWABLE;\n\t\t\tmarkerOptions.icon = icon.VIEWABLE;\n\t\t}\n\t\tif (loc.isDungeon && !loc.isFavorite) {\n\t\t\tmarkerOptions.icon = icon.DUNGEON;\n\t\t\tif (loc.isDungeonComplete) {\n\t\t\t\tmarkerOptions.icon = icon.COMPLETE;\n\t\t\t}\n\t\t}\n\t\tmarker.setIcon(L.AwesomeMarkers.icon(markerOptions));\n\t}\n\tonResizeHandler(data) {\n\t\tconst { width: newWidth, height: newHeight } = data;\n\n\t\tthis.props.mapStore.setWidth(newWidth);\n\t\tthis.props.mapStore.setHeight(newHeight);\n\t\tthis.resize();\n\t}\n\tremoveMarker(markerId) {\n\t\tthis.markers[markerId].off('click');\n\t\tthis.map.removeLayer(this.markers[markerId]);\n\t\tdelete this.markers[markerId];\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"map-container\">\n\t\t\t\t<div\n\t\t\t\t\tid={`map-${this.props.id}`}\n\t\t\t\t\tref={this.mapRef}\n\t\t\t\t\tclassName=\"map\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t\t/*return (\n\t\t\t<div className=\"message is-primary map-container has-background-grey-darker is-unselectable\">\n\t\t\t\t<header className=\"message-header\" ref={this.draggableTarget}>\n\t\t\t\t\t<div className=\"buttons has-addons is-marginless\">\n\t\t\t\t\t\t<button onClick={this.map.zoomOut} className=\"button\">\n\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-search-minus\" /></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button onClick={this.map.zoomIn} className=\"button\">\n\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-search-plus\" /></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"buttons has-addons is-marginless\">\n\t\t\t\t\t\t<button title=\"Reset zoom and center\" onClick={this.resetToCenter} className=\"button\">\n\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-compress\" /></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\t\t\t\t<div className=\"message-body map-body\">\n\t\t\t\t\t<div id={`map-${this.props.id}`} ref={this.mapRef} className=\"map\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);*/\n\t}\n};\n\nexport default inject('store')(observer(Map));\n","import React, { Component, createRef } from 'react';\nimport classNames from 'classnames';\nimport {inject, observer} from 'mobx-react';\nimport { get } from 'lodash';\n\nconst NavBar = class NavBar extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.toggleMenu = this.toggleMenu.bind(this);\n\t\tthis.menu = createRef();\n\t\tthis.burger = createRef();\n\t}\n\n\tstate = {\n\t\tisMenuActive: false,\n\t}\n\n\ttoggleMenu() {\n\t\tthis.setState({isMenuActive: !this.state.isMenuActive});\n\t}\n\n\trender() {\n\t\tconst burgerClasses = classNames('navbar-burger', 'burger', {'is-active': this.state.isMenuActive});\n\t\tconst menuClasses = classNames('navbar-menu', {'is-active': this.state.isMenuActive});\n\t\tconst hideCompletedClasses = classNames('fas', {\n\t\t\t'fa-eye': this.props.store.hideCompleted,\n\t\t\t'fa-eye-slash': !this.props.store.hideCompleted,\n\t\t});\n\n\t\treturn (\n\t\t\t<nav className=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n\t\t\t\t<div className=\"navbar-brand\">\n\t\t\t\t\t<a className=\"navbar-item\" href=\"#\">\n\t\t\t\t\t\t<strong className=\"navbar-brand-title is-uppercase\">Zetroid Tracker</strong>\n\t\t\t\t\t</a>\n\n\t\t\t\t\t<a onClick={this.toggleMenu} ref={this.burger} role=\"button\" className={burgerClasses} aria-label=\"menu\" aria-expanded=\"false\"\n\t\t\t\t\t   data-target=\"navbarBasicExample\">\n\t\t\t\t\t\t<span aria-hidden=\"true\" />\n\t\t\t\t\t\t<span aria-hidden=\"true\" />\n\t\t\t\t\t\t<span aria-hidden=\"true\" />\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\n\t\t\t\t<div ref={this.menu} className={menuClasses}>\n\t\t\t\t\t<div className=\"navbar-start\">\n\t\t\t\t\t\t<div className=\"navbar-item has-dropdown is-hoverable\">\n\t\t\t\t\t\t\t<a className=\"navbar-link\">File</a>\n\n\t\t\t\t\t\t\t<div className=\"navbar-dropdown\">\n\t\t\t\t\t\t\t\t<a className=\"navbar-item\" onClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({isMenuActive: false});\n\t\t\t\t\t\t\t\t\tthis.props.store.openModal('FILE_IMPORT')\n\t\t\t\t\t\t\t\t}}>Import</a>\n\t\t\t\t\t\t\t\t<a className=\"navbar-item\" onClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({isMenuActive: false});\n\t\t\t\t\t\t\t\t\tthis.props.store.openModal('FILE_EXPORT')}\n\t\t\t\t\t\t\t\t}>Export</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"navbar-item has-dropdown is-hoverable\">\n\t\t\t\t\t\t\t<a className=\"navbar-link\">Edit</a>\n\n\t\t\t\t\t\t\t<div className=\"navbar-dropdown\">\n\t\t\t\t\t\t\t\t<a className=\"navbar-item\" onClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({isMenuActive: false});\n\t\t\t\t\t\t\t\t\tthis.props.store.openModal('EDIT_ITEM_LIST')\n\t\t\t\t\t\t\t\t}}>Customize Trackables</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"navbar-item has-dropdown is-hoverable\">\n\t\t\t\t\t\t\t<a className=\"navbar-link\">View</a>\n\n\t\t\t\t\t\t\t<div className=\"navbar-dropdown\">\n\t\t\t\t\t\t\t\t<div className=\"navbar-item\">\n\t\t\t\t\t\t\t\t\t<button onClick={() => this.props.store.setHideCompleted(!this.props.store.hideCompleted)} className=\"button is-fullwidth\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"icon\"><i className={hideCompletedClasses} /></span>\n\t\t\t\t\t\t\t\t\t\t<span>Completed Locations</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"navbar-item\">\n\t\t\t\t\t\t\t<a className=\"navbar-item\" onClick={() => this.props.store.openModal('HELP')}>Help</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"navbar-end\">\n\t\t\t\t\t\t<div className=\"navbar-item\">\n\t\t\t\t\t\t\t<button onClick={this.props.store.flushLocalStorage} className=\"button is-danger\">\n\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-broom\" /></span>\n\t\t\t\t\t\t\t\t<span>Reset All</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"navbar-item\">\n\t\t\t\t\t\t\t<button className=\"button\">\n\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-cog\" /></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n};\n\nexport default inject('store')(observer(NavBar));\n","import React, { Component } from 'react';\nimport {inject, observer} from 'mobx-react';\nimport classNames from 'classnames';\n\nclass Modal extends Component {\n\trender() {\n\t\tconst modalClasses = classNames('modal', {'is-active': this.props.store.isModalOpen});\n\n\t\treturn (\n\t\t\t<div className={modalClasses}>\n\t\t\t\t<div className=\"modal-background\" />\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default inject('store')(observer(Modal));\n","import React, { Component, createRef } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport { get } from 'lodash';\n\nclass FileImportModal extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.snapshotRef = createRef();\n\t}\n\tstate = {\n\t\tsnapshot: '',\n\t}\n\trender() {\n\t\tconst validationMessages = get(this, 'props.store.validationMessages', []);\n\n\t\treturn (\n\t\t\t<div className=\"modal-card\">\n\t\t\t\t<header className=\"modal-card-head\">\n\t\t\t\t\t<p className=\"modal-card-title\">Import generated JSON</p>\n\t\t\t\t\t<button className=\"delete\" aria-label=\"close\" onClick={this.props.store.closeModal} />\n\t\t\t\t</header>\n\t\t\t\t<section className=\"modal-card-body\">\n\t\t\t\t\t<p>Paste JSON to load a previously saved state of the application.</p>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tclassName=\"is-fullwidth textarea\"\n\t\t\t\t\t\t\t\tplaceholder=\"Paste JSON here...\"\n\t\t\t\t\t\t\t\tref={this.snapshotRef}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"validation-error is-danger\">\n\t\t\t\t\t\t{validationMessages.map((message, i) => <p className=\"has-text-danger\" key={`message-${i}`}>{message}</p>)}\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<footer className=\"modal-card-foot\">\n\t\t\t\t\t<button className=\"button is-success\" onClick={() => this.props.store.loadSnapshot(this.snapshotRef.current.value)}>Load</button>\n\t\t\t\t\t<button className=\"button\" onClick={this.props.store.closeModal}>Cancel</button>\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default inject('store')(observer(FileImportModal));\n","import React, { Component, createRef } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport { getSnapshot } from 'mobx-state-tree';\nimport classNames from 'classnames';\n\nclass FileExportModal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.textboxRef = createRef();\n\t\tthis.copyToClipboard = this.copyToClipboard.bind(this);\n\t\tthis.state = {\n\t\t\thasBeenCopied: false,\n\t\t};\n\t}\n\tcopyToClipboard() {\n\t\tthis.textboxRef.current.select();\n\t\tdocument.execCommand('copy');\n\t\tthis.setState({hasBeenCopied: true})\n\t}\n\trender() {\n\t\tconst copyBtnClasses = classNames('button', {\n\t\t\t'is-primary': !this.state.hasBeenCopied,\n\t\t\t'is-success': this.state.hasBeenCopied,\n\t\t});\n\t\tconst copyBtnTxt = this.state.hasBeenCopied ? 'Copied to Clipboard!' : 'Copy';\n\n\t\treturn (\n\t\t\t<div className=\"modal-card\">\n\t\t\t\t<header className=\"modal-card-head\">\n\t\t\t\t\t<p className=\"modal-card-title\">Export generated JSON</p>\n\t\t\t\t\t<button className=\"delete\" aria-label=\"close\" onClick={this.props.store.closeModal} />\n\t\t\t\t</header>\n\t\t\t\t<section className=\"modal-card-body\">\n\t\t\t\t\t<p>Copy the JSON below to save the state of the application for the currently selected game ({this.props.store.selectedGame.longName}).</p>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\treadOnly={true}\n\t\t\t\t\t\t\t\tref={this.textboxRef}\n\t\t\t\t\t\t\t\tclassName=\"is-fullwidth textarea\"\n\t\t\t\t\t\t\t\tvalue={JSON.stringify(getSnapshot(this.props.store))}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<footer className=\"modal-card-foot\">\n\t\t\t\t\t<button className={copyBtnClasses} onClick={this.copyToClipboard}>{copyBtnTxt}</button>\n\t\t\t\t\t<button className=\"button\" onClick={this.props.store.closeModal}>Cancel</button>\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default inject('store')(observer(FileExportModal));\n","import React, { Component, createRef } from 'react';\nimport { observer, inject } from 'mobx-react';\n\nconst HelpModal = class HelpModal extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"modal-card\">\n\t\t\t\t<header className=\"modal-card-head\">\n\t\t\t\t\t<p className=\"modal-card-title\">Help</p>\n\t\t\t\t\t<button className=\"delete\" aria-label=\"close\" onClick={this.props.store.closeModal} />\n\t\t\t\t</header>\n\t\t\t\t<section className=\"modal-card-body\">\n\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li><em>Click map marker for more information.</em></li>\n\t\t\t\t\t\t\t<li><em>Shift + drag to zoom in on an area.</em></li>\n\t\t\t\t\t\t\t<li><em>Drag on the window title to move map.</em></li>\n\t\t\t\t\t\t\t<li><em>Mousewheel or <span className=\"icon\"><i className=\"fas fa-search-minus\" /></span><span className=\"icon\"><i className=\"fas fa-search-plus\" /></span> to zoom in/out.</em></li>\n\t\t\t\t\t\t\t<li><em>Click <span className=\"icon\"><i className=\"fas fa-lock\" /></span> in upper right to toggle position lock.</em></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nexport default inject('store')(observer(HelpModal));\n","import React, { Component } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport classNames from 'classnames';\n\nconst Item = class Item extends Component {\n\tstatic get defaultProps() {\n\t\treturn {\n\t\t\tisReadOnly: false,\n\t\t};\n\t}\n\trender() {\n\t\tconst { itemListStore } = this.props;\n\t\tconst item = this.props.item;\n\t\tconst isVisible = itemListStore.isVisible(item);\n\t\tconst itemClasses = classNames('item', {\n\t\t\t'is-not-acquired': !item.acquired,\n\t\t\t'is-hidden': !isVisible,\n\t\t\t'is-item-group': !!item.group,\n\t\t});\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tdata-qty={item.qty}\n\t\t\t\tonClick={event => {\n\t\t\t\t\tif (!this.props.isReadOnly) {\n\t\t\t\t\t\titem.activateNext(!event.shiftKey);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tkey={item.id}\n\t\t\t\tclassName={itemClasses}>\n\t\t\t\t<img src={item.imageSrc} alt={item.longName} title={item.longName} />\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nexport default inject('store')(observer(Item));","import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport Item from 'Item';\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\nimport { find, } from 'lodash';\nimport classNames from 'classnames';\n\nconst ItemList = class ItemList extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.onDragEndHandler = this.onDragEndHandler.bind(this);\n\t}\n\tonDragEndHandler(result) {\n\t\tif (!result.destination) {\n\t\t\treturn;\n\t\t}\n\t\tconst items = this.props.items;\n\t\tconst sourceItem = find(items, { index: result.source.index });\n\t\tconst destItem = find(items, { index: result.destination.index });\n\n\t\tthis.props.itemListStore.updateOrder(sourceItem, destItem);\n\t}\n\trender() {\n\t\tconst store = this.props.itemListStore;\n\t\tconst dragElems = [];\n\t\tconst containerClasses = classNames('item-list-container', {\n\t\t\t'is-draggable-enabled': this.props.draggableEnabled,\n\t\t\t'is-draggable-disabled': !this.props.draggableEnabled,\n\t\t});\n\n\t\tthis.props.items.forEach((item, i) => {\n\t\t\tlet itemElem = null;\n\n\t\t\tif (item.group) {\n\t\t\t\titemElem = store.getItemsByGroup(item.group).map(subItem => <Item isReadOnly={this.props.isReadOnly} itemListStore={store} key={subItem.id} item={subItem} />);\n\t\t\t} else {\n\t\t\t\titemElem = <Item isReadOnly={this.props.isReadOnly} itemListStore={store} key={item.id} item={item} />;\n\t\t\t}\n\t\t\tif (!this.props.draggableEnabled) {\n\t\t\t\tdragElems.push(\n\t\t\t\t\t<div key={`item-${i}`} className=\"item-container\">\n\t\t\t\t\t\t{itemElem}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tdragElems.push(\n\t\t\t\t\t<Draggable key={`draggable-${i}`} draggableId={`${this.props.itemListStore.droppableId}-draggable-${i}`} index={i}>\n\t\t\t\t\t\t{(provided, snapshot) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n\t\t\t\t\t\t\t\t\t<div className=\"item-container\">\n\t\t\t\t\t\t\t\t\t\t{itemElem}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</Draggable>\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t\tif (!this.props.draggableEnabled) {\n\t\t\treturn (\n\t\t\t\t<div className={containerClasses}>\n\t\t\t\t\t{dragElems}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Droppable droppableId={this.props.itemListStore.droppableId || 'droppable'} direction=\"horizontal\">\n\t\t\t\t{(provided, snapshot) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div ref={provided.innerRef} className={containerClasses}>\n\t\t\t\t\t\t\t{dragElems}\n\t\t\t\t\t\t\t{provided.placeholder}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</Droppable>\n\t\t);\n\t}\n};\n\nexport default inject('store')(observer(ItemList));\n","import React, { Component } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport { getSnapshot, applySnapshot } from 'mobx-state-tree';\nimport ItemList from 'ItemList';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport { find } from 'lodash';\n\nclass EditItemListModal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onDragEndHandler = this.onDragEndHandler.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tthis.snapshot = getSnapshot(this.props.store);\n\t}\n\tonDragEndHandler(result) {\n\t\tif (!result.destination) {\n\t\t\treturn;\n\t\t}\n\t\tconst sourceStore = this.props.store.getItemListStoreByDroppableId(result.source.droppableId);\n\t\tconst destStore = this.props.store.getItemListStoreByDroppableId(result.destination.droppableId);\n\t\tconst sourceItems = sourceStore.sortedItems;\n\t\tconst destItems = destStore.sortedItems;\n\t\tconst sourceItem = find(sourceItems, { index: result.source.index });\n\t\tconst destItem = find(destItems, { index: result.destination.index });\n\t\tif (result.source.droppableId === result.destination.droppableId) {\n\t\t\t// DnD within its own droppable area.\n\t\t\tdestStore.updateOrder(sourceItem, destItem);\n\t\t} else {\n\t\t\t// DnD is being dropped into a droppable different than its own.\n\t\t\tdestStore.moveItem(sourceItem, result.destination.index);\n\t\t}\n\t}\n\trender() {\n\t\tconst store = this.props.store;\n\t\tconst itemListStore = store.activeItemList;\n\t\treturn (\n\t\t\t<div className=\"modal-card edit-item-list-modal\">\n\t\t\t\t<header className=\"modal-card-head\">\n\t\t\t\t\t<p className=\"modal-card-title\">Customize Trackables</p>\n\t\t\t\t\t<button className=\"delete\" aria-label=\"close\" onClick={store.closeModal} />\n\t\t\t\t</header>\n\t\t\t\t<section className=\"modal-card-body\">\n\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t<p>Customize trackable items by dragging and dropping between both the <em>Active Items </em>\n\t\t\t\t\t\t\tand <em>Inactive Items</em> areas.</p>\n\t\t\t\t\t\t<div className=\"item-list-group-container\">\n\t\t\t\t\t\t\t<h4>Items</h4>\n\t\t\t\t\t\t\t<DragDropContext onDragEnd={this.onDragEndHandler}>\n\t\t\t\t\t\t\t\t<div className=\"item-list-group active-item-list-group\">\n\t\t\t\t\t\t\t\t\t<h5 className=\"item-list-group-subtitle\">Active</h5>\n\t\t\t\t\t\t\t\t\t<ItemList\n\t\t\t\t\t\t\t\t\t\titemListStore={itemListStore}\n\t\t\t\t\t\t\t\t\t\titems={itemListStore.sortedItems}\n\t\t\t\t\t\t\t\t\t\tdirection={itemListStore.direction}\n\t\t\t\t\t\t\t\t\t\tisReadOnly={true}\n\t\t\t\t\t\t\t\t\t\tdraggableEnabled={true}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"icon item-exchange-divider\"><i className=\"fas fa-exchange-alt\" /></div>\n\t\t\t\t\t\t\t\t<div className=\"item-list-group inactive-item-list-group\">\n\t\t\t\t\t\t\t\t\t<h5 className=\"item-list-group-subtitle\">Inactive</h5>\n\t\t\t\t\t\t\t\t\t<ItemList\n\t\t\t\t\t\t\t\t\t\titemListStore={store.inactiveItemList}\n\t\t\t\t\t\t\t\t\t\titems={store.inactiveItemList.sortedItems}\n\t\t\t\t\t\t\t\t\t\tisReadOnly={true}\n\t\t\t\t\t\t\t\t\t\tdirection={itemListStore.direction}\n\t\t\t\t\t\t\t\t\t\tdraggableEnabled={true}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</DragDropContext>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"item-list-group-container\">\n\t\t\t\t\t\t\t<h4>Bosses</h4>\n\t\t\t\t\t\t\t<DragDropContext onDragEnd={this.onDragEndHandler}>\n\t\t\t\t\t\t\t\t<div className=\"item-list-group active-item-list-group\">\n\t\t\t\t\t\t\t\t\t<h5 className=\"item-list-group-subtitle\">Active</h5>\n\t\t\t\t\t\t\t\t\t<ItemList\n\t\t\t\t\t\t\t\t\t\titemListStore={store.activeBossItemList}\n\t\t\t\t\t\t\t\t\t\titems={store.activeBossItemList.sortedItems}\n\t\t\t\t\t\t\t\t\t\tdirection={itemListStore.direction}\n\t\t\t\t\t\t\t\t\t\tisReadOnly={true}\n\t\t\t\t\t\t\t\t\t\tdraggableEnabled={true}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"icon item-exchange-divider\"><i className=\"fas fa-exchange-alt\" /></div>\n\t\t\t\t\t\t\t\t<div className=\"item-list-group inactive-item-list-group\">\n\t\t\t\t\t\t\t\t\t<h5 className=\"item-list-group-subtitle\">Inactive</h5>\n\t\t\t\t\t\t\t\t\t<ItemList\n\t\t\t\t\t\t\t\t\t\titemListStore={store.inactiveBossItemList}\n\t\t\t\t\t\t\t\t\t\titems={store.inactiveBossItemList.sortedItems.filter(item => item.type === 'boss')}\n\t\t\t\t\t\t\t\t\t\tisReadOnly={true}\n\t\t\t\t\t\t\t\t\t\tdirection={itemListStore.direction}\n\t\t\t\t\t\t\t\t\t\tdraggableEnabled={true}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</DragDropContext>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<footer className=\"modal-card-foot\">\n\t\t\t\t\t<button className=\"button\" onClick={() => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tapplySnapshot(this.props.store, this.snapshot);\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\tconsole.error('There was a problem loading a previous state.', err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstore.closeModal();\n\t\t\t\t\t}}>Discard Changes</button>\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default inject('store')(observer(EditItemListModal));\n","import { v4 } from 'uuid';\n\nexport const randomId = () => {\n\treturn v4();\n}\n","import React, { Component } from 'react';\nimport { get } from 'lodash';\nimport { inject, observer } from 'mobx-react';\nimport classNames from 'classnames';\n\nconst ItemIcon = class ItemIcon extends Component {\n\trender() {\n\t\tconst item = this.props.item;\n\t\tconst imageSrc = this.props.item.imageSrc;\n\t\tconst iconClasses = classNames('item-icon', {'is-not-acquired': !item.acquired && this.props.checkAcquired})\n\n\t\treturn (\n\t\t\t<span className={iconClasses}>\n\t\t\t\t<img src={imageSrc} alt={get(item, 'longName')} title={get(item, 'longName')} />\n\t\t\t\t{this.props.children}\n\t\t\t</span>\n\t\t);\n\t}\n}\n\nexport default inject('store')(observer(ItemIcon));\n","import React, { Component } from 'react';\nimport ItemIcon from 'ItemIcon';\nimport { get } from 'lodash';\nimport 'scss/App.scss';\nimport classNames from 'classnames';\nimport { observer, inject } from 'mobx-react';\n\nconst ItemIconList = class ItemIconList extends Component {\n\trender() {\n\t\tif (!this.props.items) {\n\t\t\treturn <span>None</span>;\n\t\t}\n\t\tif (this.props.items.length === 1) {\n\t\t\treturn (\n\t\t\t\t<ItemIcon item={this.props.items[0]} checkAcquired>\n\t\t\t\t\t<span>{this.props.items[0].longName}</span>\n\t\t\t\t</ItemIcon>\n\t\t\t);\n\t\t}\n\t\tconst icons = [];\n\t\tconst iconText = [];\n\t\tconst result = [];\n\n\t\tthis.props.items.forEach((item, i) => {\n\t\t\tif (!item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet iconsClasses = classNames('item-icon', {'is-not-acquired': !item.acquired});\n\t\t\tlet iconTextClasses = classNames('item-icon-name is-size-7', {'is-not-acquired': !item.acquired});\n\n\t\t\ticons.push(\n\t\t\t\t<span key={`${item.name}-icon-${i}`} className={iconsClasses}>\n\t\t\t\t\t<img src={item.imageSrc} alt={get(item, 'longName')} title={get(item, 'longName')} />\n\t\t\t\t</span>\n\t\t\t);\n\t\t\ticonText.push(<span key={`${item.name}-text-${i}`} className={iconTextClasses}>{item.longName}</span>);\n\t\t});\n\t\ticons.forEach((icon, i) => {\n\t\t\tresult.push(icons[i], iconText[i]);\n\t\t});\n\t\treturn (\n\t\t\t<div className=\"item-icon-list\">{result}</div>\n\t\t);\n\t}\n};\n\nexport default inject('store')(observer(ItemIconList));\n","import React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport ItemIcon from 'ItemIcon';\nimport { randomId } from './util';\n\nconst LocationNotes = (props) => {\n\tconst content = {\n\t\tpedestal: (<p key={`location-note-${randomId()}`}>Can check with <ItemIcon checkAcquired item={props.store.getItemOrGroupByName('book')} /></p>),\n\t\tkakarikoWell: (<p key={`location-note-${randomId()}`}>Requires one <ItemIcon item={props.store.getItemByName('bomb')} /></p>),\n\t\tbottleVendor: (<p key={`location-note-${randomId()}`}>Pay 100 Rupees</p>),\n\t\traceMinigame: (<p key={`location-note-${randomId()}`}>Requires one <ItemIcon item={props.store.getItemByName('bomb')} /> or <ItemIcon checkAcquired item={props.store.getItemOrGroupByName('boots')} /></p>),\n\t};\n\tconst selectedContent = props.notes.map(noteName => content[noteName]);\n\n\treturn <div>{selectedContent}</div>;\n};\n\nexport default inject('store')(observer(LocationNotes));","import React, { Component } from 'react';\nimport ItemIconList from 'ItemIconList';\nimport { get } from 'lodash';\nimport classNames from 'classnames';\nimport { observer, inject } from 'mobx-react';\nimport LocationNotes from 'LocationNotes';\n\nconst LocationDetail = inject('store')(observer(class LocationDetail extends Component {\n\trender() {\n\t\tconst store = get(this, 'props.store.locationDetail');\n\t\tconst selectedLocation = store.selectedLocation;\n\t\tconst details = get(selectedLocation, 'details');\n\t\tconst numItems = get(details, 'numItems', 1);\n\t\tlet longName = get(details, 'longName');\n\t\tlet reqs = get(details, 'itemRequirements', []);\n\t\tlet notes = get(details, 'notes');\n\t\tlet isViewable = get(details, 'isViewable');\n\t\tconst favoriteClasses = classNames('button', 'is-outline', {\n\t\t\t'has-text-warning': get(selectedLocation, 'isFavorite'),\n\t\t});\n\t\tlet progressionButton;\n\n\t\tif (selectedLocation) {\n\n\t\t\tif (selectedLocation.isComplete) {\n\t\t\t\tprogressionButton = (\n\t\t\t\t\t<button onClick={selectedLocation.toggleComplete} className=\"button is-dark\">\n\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-check\" /></span>\n\t\t\t\t\t\t<span>Complete</span>\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t} else if (selectedLocation.isAvailable) {\n\t\t\t\tprogressionButton = (\n\t\t\t\t\t<button onClick={selectedLocation.toggleComplete} className=\"button is-success\">\n\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-unlock\" /></span>\n\t\t\t\t\t\t<span>Available</span>\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tprogressionButton = (\n\t\t\t\t\t<button onClick={selectedLocation.toggleComplete} className=\"button is-danger\">\n\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-lock\" /></span>\n\t\t\t\t\t\t<span>Unavailable</span>\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif (!details) {\n\t\t\treturn null;\n\t\t}\n\t\tif (longName) {\n\t\t\tlongName = <h1>{longName}</h1>;\n\t\t}\n\t\tif (reqs.length) {\n\t\t\treqs = <ItemIconList items={reqs} />;\n\t\t} else {\n\t\t\treqs = <p><em>None</em></p>;\n\t\t}\n\t\tif (notes.length) {\n\t\t\tnotes = (<div className=\"column details-notes is-narrow\"><h6>Notes:</h6><LocationNotes notes={notes} /></div>);\n\t\t}\n\t\tif (isViewable && !selectedLocation.isComplete) {\n\t\t\tisViewable = (\n\t\t\t\t<div className=\"tags has-addons is-marginless\" title=\"Even though this item is not available to acquire, you can see what the item is\">\n\t\t\t\t\t<span className=\"tag is-info icon\"><i className=\"fas fa-info\" /></span>\n\t\t\t\t\t<span className=\"tag\">viewable</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"is-flex-desktop columns details-container content map-info has-background-white is-marginless\">\n\t\t\t\t<div className=\"column details-location\">\n\n\t\t\t\t\t\t<div className=\"details-title\">\n\t\t\t\t\t\t\t{longName}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"columns\">\n\t\t\t\t\t\t\t<div className=\"column details-controls\">\n\t\t\t\t\t\t\t\t<div className=\"buttons\">\n\t\t\t\t\t\t\t\t\t<button onClick={() => selectedLocation.setFavorite(!selectedLocation.isFavorite)} className={favoriteClasses}>\n\t\t\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-star\" /></span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t{progressionButton}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"column is-narrow\">\n\t\t\t\t\t\t\t\t<div className=\"tags-container\">\n\t\t\t\t\t\t\t\t\t{isViewable}\n\t\t\t\t\t\t\t\t\t<div className=\"tags has-addons is-marginless\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"tag is-info icon\"><i className=\"fas fa-info\" /></span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"tag\">{`${numItems} item${(numItems > 1) ? 's' : ''} here`}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t\t<div className=\"column details-requirements\">\n\t\t\t\t\t<h6>Requirements:</h6>\n\t\t\t\t\t{reqs}\n\t\t\t\t</div>\n\t\t\t\t{notes}\n\t\t\t</div>\n\t\t);\n\t}\n}));\n\nexport default LocationDetail;\n","import React, { Component, createRef } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport FlexLayout from 'flexlayout-react';\n\nconst Layout = class Layout extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmodel: FlexLayout.Model.fromJson(this.props.store.layout.json),\n\t\t}\n\t\tthis.layoutRef = createRef();\n\t}\n\trender() {\n\t\tconst self = this;\n\n\t\treturn (\n\t\t\t<div className=\"layout-container\">\n\t\t\t\t<FlexLayout.Layout\n\t\t\t\t\tref={this.layoutRef}\n\t\t\t\t\tmodel={this.state.model}\n\t\t\t\t\tfactory={this.props.factory}\n\t\t\t\t\tonModelChange={model => {\n\t\t\t\t\t\tself.props.store.layout.saveToLocalStorage(model.toJson())\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nexport default inject('store')(observer(Layout));\n","import React, { Component } from 'react';\nimport { observer, Provider } from 'mobx-react';\nimport Map from 'Map';\nimport NavBar from 'NavBar';\nimport Modal from 'Modal';\nimport FileImportModal from 'FileImportModal';\nimport FileExportModal from 'FileExportModal';\nimport HelpModal from 'HelpModal';\nimport EditItemListModal from 'EditItemListModal';\nimport { randomId } from './util';\nimport { find, get } from 'lodash';\nimport 'scss/App.scss';\nimport LocationDetail from 'LocationDetail';\nimport ItemList from 'ItemList';\nimport Layout from 'Layout';\n\nclass App extends Component {\n\n\n\tcomponentDidMount() {\n\t}\n\n\tgenerateMaps() {\n\t\tconst maps = [];\n\n\t\t[...this.props.store.maps.values()].forEach(map => {\n\t\t\tmaps.push(\n\t\t\t\t<Map\n\t\t\t\t\tkey={`map-${map.id}`}\n\t\t\t\t\tmapStore={map}\n\t\t\t\t\tlocations={[...map.locations.values()]}\n\t\t\t\t\tid={randomId()}\n\t\t\t\t\ttileLayerTemplate={map.tileLayerTemplate}\n\t\t\t\t/>\n\t\t\t)\n\t\t});\n\t\treturn maps;\n\t}\n\tlayoutFactory(node) {\n\t\tconst component = node.getComponent();\n\t\tconst config = node.getConfig();\n\n\t\tif (component === 'Map' && get(config, 'mapName')) {\n\t\t\tconst map = find([...this.props.store.maps.values()], { name: config.mapName });\n\t\t\tif (map) {\n\t\t\t\treturn (\n\t\t\t\t\t<Map\n\t\t\t\t\t\tmapStore={map}\n\t\t\t\t\t\tlocations={[...map.locations.values()]}\n\t\t\t\t\t\tid={randomId()}\n\t\t\t\t\t\ttileLayerTemplate={map.tileLayerTemplate}\n\t\t\t\t\t\tlayoutNode={node}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif (component === 'LocationDetail') {\n\t\t\treturn <LocationDetail />;\n\t\t}\n\t\tif (component === 'ItemList') {\n\t\t\tlet itemListStore;\n\t\t\tlet items;\n\t\t\tlet direction;\n\t\t\tlet draggableEnabled;\n\n\t\t\tswitch (config.listType) {\n\t\t\t\tcase 'boss':\n\t\t\t\t\titemListStore = this.props.store.activeBossItemList;\n\t\t\t\t\titems = this.props.store.activeBossItemList.sortedItems;\n\t\t\t\t\tdirection = this.props.store.activeBossItemList.direction;\n\t\t\t\t\tdraggableEnabled = false;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\titemListStore = this.props.store.activeItemList;\n\t\t\t\t\titems = this.props.store.activeItemList.sortedItems;\n\t\t\t\t\tdirection = this.props.store.activeItemList.direction;\n\t\t\t\t\tdraggableEnabled = false;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<ItemList\n\t\t\t\t\titemListStore={itemListStore}\n\t\t\t\t\titems={items}\n\t\t\t\t\tdirection={direction}\n\t\t\t\t\tdraggableEnabled={draggableEnabled}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n\trender() {\n\t\tconst store = this.props.store;\n\t\tlet modal = null;\n\n\t\tif (store.isModalOpen) {\n\t\t\tswitch (store.activeModal) {\n\t\t\t\tcase 'FILE_IMPORT':\n\t\t\t\t\tmodal = <FileImportModal />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'FILE_EXPORT':\n\t\t\t\t\tmodal = <FileExportModal />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'HELP':\n\t\t\t\t\tmodal = <HelpModal />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'EDIT_ITEM_LIST':\n\t\t\t\t\tmodal = <EditItemListModal />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<Provider store={store}>\n\t\t\t\t<div className=\"main-container\">\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Modal>\n\t\t\t\t\t\t{modal}\n\t\t\t\t\t</Modal>\n\t\t\t\t\t<Layout factory={this.layoutFactory.bind(this)} />\n\t\t\t\t\t{/*<div id=\"main\" className=\"main\">\n\t\t\t\t\t\t{this.generateMaps()}\n\t\t\t\t\t\t<LocationDetail />\n\t\t\t\t\t</div>*/}\n\n\t\t\t\t\t{/*<Map\n\t\t\t\t\t\tmapStore={this.props.store.getMapByName('zelda3-dw')}\n\t\t\t\t\t\tid={randomId()}\n\t\t\t\t\t\ttileLayerTemplate={`${process.env.PUBLIC_URL}/img/maps/zelda3/dw/{z}/zelda3-dw.{x}.{y}.png`}\n\t\t\t\t\t/>*/}\n\t\t\t\t\t{/*<Map\n\t\t\t\t\t\tid={randomId()}\n\t\t\t\t\t\tmapOptions={{\n\t\t\t\t\t\t\tcenter: [-560,640],\n\t\t\t\t\t\t\tzoom: 0,\n\t\t\t\t\t\t\tmaxBounds: [[0,0], [-1120, 1280]],\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttileLayerTemplate={`${process.env.PUBLIC_URL}/img/maps/metroid3/zebes/{z}/metroid3-zebes.{x}.{y}.png`}\n\t\t\t\t\t\ttileLayerOptions={{\n\t\t\t\t\t\t\tminZoom: -1,\n\t\t\t\t\t\t\tmaxZoom: 2,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmapWidth={1280}\n\t\t\t\t\t\tmapHeight={1120}\n\t\t\t\t\t/>*/}\n\t\t\t\t</div>\n\t\t\t</Provider>\n\t\t);\n\t}\n}\n\n\nexport default observer(App);\n","import { types } from 'mobx-state-tree';\n\nconst GameStore = types\n\t.model({\n\t\tid: types.identifier,\n\t\tname: types.string,\n\t\tlongName: types.string,\n\t\tselected: false,\n\t})\n\t.actions((self) => {\n\t\tconst setSelected = (state) => {\n\t\t\tself.selected = state;\n\t\t};\n\n\t\treturn {\n\t\t\tsetSelected,\n\t\t};\n\t})\n;\n\nexport default GameStore;\n","import { types, getParentOfType, } from 'mobx-state-tree';\nimport { find } from 'lodash';\nimport GameStore from 'Game.store';\nimport ItemListStore from 'ItemList.store';\n\nconst ItemStore = types\n\t.model({\n\t\tid: types.identifier,\n\t\t// If null, is probably a group\n\t\tname: types.maybeNull(types.string),\n\t\tlongName: types.maybeNull(types.string),\n\t\tgroup: types.maybeNull(types.string),\n\t\titems: types.optional(types.array(types.late(() => ItemStore)), []),\n\t\t// itemList: types.reference(types.late(() => ItemListStore)),\n\t\thidden: false,\n\t\timage: '',\n\t\tindex: types.integer,\n\t\tgroupIndex: types.maybeNull(types.integer),\n\t\tgame: types.reference(GameStore),\n\t\tacquired: false,\n\t\tqty: types.optional(types.integer, 0),\n\t\tmaxQty: types.optional(types.integer, 1),\n\t\tisDefault: false,\n\t})\n\t.views(self => ({\n\t\tget imageSrc() {\n\t\t\treturn `${process.env.PUBLIC_URL}/img/items/${self.game.name}/${self.image}.png`;\n\t\t},\n\t}))\n\t.actions(self => {\n\t\tconst acquire = (newAcquired) => {\n\t\t\tif (self.group) {\n\t\t\t\tconst itemListStore = getParentOfType(self, ItemListStore);\n\t\t\t\titemListStore.getItemsByGroup(self.group).forEach(item => {\n\t\t\t\t\titem.acquired = false;\n\t\t\t\t});\n\t\t\t}\n\t\t\tself.acquired = newAcquired;\n\t\t};\n\t\t// Toggles item acquisition if not in a group, otherwise, acquires the next item in the group\n\t\tconst activateNext = (forwardDirection = true) => {\n\t\t\tif (self.maxQty > 1) {\n\t\t\t\tself.activateNextQty(forwardDirection);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!self.group) {\n\t\t\t\tself.toggleAcquisition();\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tlet shouldAcquire = true;\n\t\t\tconst itemListStore = getParentOfType(self, ItemListStore);\n\t\t\tconst subItems = itemListStore.getItemsByGroup(self.group);\n\t\t\tlet currentSubItem = find(subItems, { acquired: true });\n\n\t\t\tif (!currentSubItem) {\n\t\t\t\tcurrentSubItem = find(subItems, { isDefault: true });\n\t\t\t}\n\t\t\tif (!currentSubItem) {\n\t\t\t\t// Sensible fallback to the first item.\n\t\t\t\tcurrentSubItem = subItems[0];\n\t\t\t}\n\t\t\tlet nextGroupIndex = forwardDirection ? currentSubItem.groupIndex + 1 : currentSubItem.groupIndex - 1;\n\n\t\t\tif (forwardDirection) {\n\t\t\t\tif (nextGroupIndex === subItems.length) {\n\t\t\t\t\t// We have wrapped around - put it back to default state.\n\t\t\t\t\tnextGroupIndex = 0;\n\t\t\t\t\tshouldAcquire = false;\n\t\t\t\t} else if (currentSubItem.isDefault && !currentSubItem.acquired) {\n\t\t\t\t\tcurrentSubItem.acquire(true);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else if (nextGroupIndex === -1) {\n\t\t\t\tif (currentSubItem.acquired) {\n\t\t\t\t\tnextGroupIndex = 0;\n\t\t\t\t\tshouldAcquire = false;\n\t\t\t\t} else {\n\t\t\t\t\tnextGroupIndex = subItems.length - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst nextSubItem = subItems[nextGroupIndex];\n\t\t\tnextSubItem.acquire(shouldAcquire);\n\t\t};\n\t\tconst toggleAcquisition = () => {\n\t\t\tself.acquire(!self.acquired);\n\t\t}\n\t\tconst setIndex = newIndex => {\n\t\t\tself.index = newIndex;\n\t\t};\n\t\tconst activateNextQty = (forwardDirection = true) => {\n\t\t\tlet nextQty = forwardDirection ? self.qty + 1 : self.qty - 1;\n\n\t\t\tif (forwardDirection) {\n\t\t\t\tif (nextQty > self.maxQty) {\n\t\t\t\t\tself.acquire(false);\n\t\t\t\t\tself.setQty(0);\n\t\t\t\t} else {\n\t\t\t\t\tself.acquire(true);\n\t\t\t\t\tself.setQty(nextQty);\n\t\t\t\t}\n\t\t\t} else if (nextQty < 0) {\n\t\t\t\tself.acquire(true);\n\t\t\t\tself.setQty(self.maxQty);\n\t\t\t} else if (nextQty === 0) {\n\t\t\t\tself.acquire(false);\n\t\t\t\tself.setQty(nextQty);\n\t\t\t} else {\n\t\t\t\tself.acquire(true);\n\t\t\t\tself.setQty(nextQty);\n\t\t\t}\n\t\t};\n\t\tconst setQty = (newQty) => {\n\t\t\tself.qty = newQty;\n\t\t};\n\n\t\treturn {\n\t\t\tacquire,\n\t\t\tactivateNext,\n\t\t\tsetIndex,\n\t\t\ttoggleAcquisition,\n\t\t\tactivateNextQty,\n\t\t\tsetQty,\n\t\t};\n\t})\n;\n\nexport default ItemStore;\n","import { types } from 'mobx-state-tree';\nimport { find, sortBy } from 'lodash';\n\nconst ItemListUtil = types.model()\n\t.views(self => ({\n\t\t// Returns the item group\n\t\tgetItemGroupByName: (group) => {\n\t\t\treturn find([...self.items.values()], { group });\n\t\t},\n\t\t// If search matches an item group, returns it, otherwise, searches against single item names and returns that.\n\t\tgetItemOrGroupByName: (name) => {\n\t\t\tconst items = [...self.items.values()];\n\t\t\tconst match = find(items, { group: name });\n\n\t\t\tif (match) {\n\t\t\t\treturn match;\n\t\t\t}\n\t\t\treturn find(items, { name });\n\t\t},\n\t\t// Gets a single item and if it's a group, search within the subitems and return the match.\n\t\tgetItemByName: (name) => {\n\t\t\tconst items = [...self.items.values()];\n\t\t\tlet itemFound = null;\n\n\t\t\tif (!find(items, { name })) {\n\t\t\t\tconst itemGroups = items.filter(item => item.group);\n\t\t\t\tif (!itemGroups) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\titemGroups.forEach(itemGroup => {\n\t\t\t\t\titemGroup.items.forEach(subItem => {\n\t\t\t\t\t\tif (subItem.name === name) {\n\t\t\t\t\t\t\titemFound = subItem;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\treturn itemFound;\n\t\t\t} else {\n\t\t\t\treturn find(items, { name });\n\t\t\t}\n\t\t},\n\t\t// Returns all the sub items from the item group\n\t\tgetItemsByGroup: (group) => {\n\t\t\tlet itemGroup = find([...self.items.values()], { group });\n\n\t\t\tif (!itemGroup) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\treturn [...itemGroup.items.values()];\n\t\t},\n\t\thasAcquiredAnyItemsInGroup: (group) => {\n\t\t\tconst items = self.getItemsByGroup(group);\n\n\t\t\treturn items.some(item => item.acquired);\n\t\t},\n\t\tget groupedItems() {\n\t\t\tconst result = {\n\t\t\t\tnone: [],\n\t\t\t};\n\n\t\t\tself.sortedItems.forEach(item => {\n\t\t\t\tif (item.group) {\n\t\t\t\t\tif (!result[item.group]) {\n\t\t\t\t\t\tresult[item.group] = [];\n\t\t\t\t\t}\n\t\t\t\t\tresult[item.group].push(item);\n\t\t\t\t} else {\n\t\t\t\t\tresult.none.push(item);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// Sort grouped items by index.\n\t\t\tfor (const groupName of Object.keys(result)) {\n\t\t\t\tif (groupName !== 'none') {\n\t\t\t\t\tresult[groupName] = sortBy(result[groupName], ['groupIndex']);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tget sortedItems() {\n\t\t\treturn sortBy([...self.items.values()], ['index']);\n\t\t},\n\t\tisVisible: (item) => {\n\t\t\tlet result = false;\n\n\t\t\tif (!item.group) {\n\t\t\t\tresult = true;\n\t\t\t} else if (item.acquired) {\n\t\t\t\tresult = true;\n\t\t\t} else if (self.hasAcquiredAnyItemsInGroup(item.group)) {\n\t\t\t\tresult = false;\n\t\t\t} else if (item.isDefault) {\n\t\t\t\tresult = true;\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t}))\n;\n\nexport default ItemListUtil;\n","import { types, detach, getParentOfType } from 'mobx-state-tree';\nimport ItemStore from 'Item.store';\nimport ItemListUtil from 'ItemListUtil';\nimport move from 'lodash-move';\n\nconst ItemListStore = types.compose(ItemListUtil, types.model({\n\t\tid: types.identifier,\n\t\titems: types.array(ItemStore),\n\t\tsortOrder: types.optional(types.array(types.integer), []),\n\t\tdroppableId: types.optional(types.string, ''),\n\t})\n\t.actions(self => {\n\t\tconst updateOrder = (sourceItem, destItem) => {\n\t\t\tconst sourceItemIndex = sourceItem.index;\n\t\t\tconst destItemIndex = destItem.index;\n\n\t\t\tif (sourceItemIndex === destItemIndex) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst swappedItems = move(self.sortedItems, sourceItemIndex, destItemIndex);\n\n\t\t\tself.updateIndices(swappedItems);\n\t\t};\n\t\tconst moveItem = (itemToAdd, index) => {\n\t\t\tif (!itemToAdd) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst sortedItems = self.sortedItems;\n\t\t\tconst sourceItemList = getParentOfType(itemToAdd, ItemListStore);\n\n\t\t\t// Add source item to destination list.\n\t\t\tsortedItems.splice(index, 0, detach((itemToAdd)));\n\t\t\tself.items.push(itemToAdd);\n\t\t\t// Update indices on both sides.\n\t\t\titemToAdd.setIndex(index);\n\t\t\tsourceItemList.updateIndices(sourceItemList.sortedItems);\n\t\t\t// Update itemList reference on the item and any sub-items.\n\t\t\t// itemToAdd.setItemList(self);\n\t\t\t// itemToAdd.items.forEach(item => item.setItemList(self));\n\t\t\tself.updateIndices(sortedItems);\n\t\t};\n\t\tconst updateIndices = (items) => {\n\t\t\titems.forEach((item, i) => item.setIndex(i));\n\t\t};\n\n\t\treturn {\n\t\t\tupdateOrder,\n\t\t\tmoveItem,\n\t\t\tupdateIndices,\n\t\t}\n\t}))\n;\n\nexport default ItemListStore;\n","import { types, getRoot } from 'mobx-state-tree';\nimport GameStore from 'Game.store';\n\nconst LocationStore = types\n\t.model({\n\t\tid: types.identifier,\n\t\tname: types.string,\n\t\tlongName: types.string,\n\t\timage: '',\n\t\tgame: types.reference(GameStore),\n\t\tcoords: types.array(types.integer),\n\t\tnotes: types.optional(types.array(types.string), []),\n\t\titemRequirements: types.optional(types.array(types.string), []),\n\t\tnumItems: 1,\n\t\tisComplete: false,\n\t\tisFavorite: false,\n\t\tisDungeon: false,\n\t})\n\t.volatile(self => ({\n\t\t// All the logic to determine if the location is viewable goes here\n\t\tviewableRequirements: {\n\t\t\tdesertpalace: () => {\n\t\t\t\tconst book = getRoot(self).getItemByName('book');\n\n\t\t\t\tif (book.acquired) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tconst items = ['titan-mitt', 'flute', 'mirror'].map(item => getRoot(self).getItemByName(item));\n\t\t\t\treturn items.every(item => item && item.acquired);\n\t\t\t},\n\t\t},\n\t\t// Most locations require all items to be acquired to be considered available.\n\t\t// Anything logically more complex should be defined here.\n\t\tcustomItemRequirements: {\n\n\t\t},\n\t\tdungeonRequirements: {\n\t\t\tdesertpalace: () => {\n\n\t\t\t},\n\t\t}\n\t}))\n\t.views((self) => ({\n\t\tget details() {\n\t\t\treturn {\n\t\t\t\tlongName: self.longName,\n\t\t\t\titemRequirements: self.items,\n\t\t\t\tnotes: self.notes,\n\t\t\t\tnumItems: self.numItems,\n\t\t\t\tisViewable: self.isViewable,\n\t\t\t};\n\t\t},\n\t\tget items() {\n\t\t\tconst result = [];\n\n\t\t\tif (self.itemRequirements.length) {\n\t\t\t\tself.itemRequirements.forEach(req => {\n\t\t\t\t\tresult.push(getRoot(self).getItemByName(req));\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tget defaultMarkerType() {\n\t\t\treturn 'UNAVAILABLE';\n\t\t},\n\t\tget tooltipContent() {\n\t\t\treturn self.longName;\n\t\t},\n\t\tget hidden() {\n\t\t\tif (!self.isFavorite && getRoot(self).hideCompleted && self.isComplete) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tget isAvailable() {\n\t\t\tif (self.customItemRequirements[self.name]) {\n\t\t\t\treturn self.customItemRequirements[self.name]();\n\t\t\t}\n\t\t\tif (!self.items.length) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn self.items.every(item => item && item.acquired);\n\t\t},\n\t\tget isViewable() {\n\t\t\tif (!self.viewableRequirements[self.name]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn self.viewableRequirements[self.name]();\n\t\t},\n\t\tget isDungeonComplete() {\n\t\t\tif (!self.dungeonRequirements.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst dungeonReqs = self.dungeonRequirements.map(req => getRoot(self).getItemByName(req));\n\n\t\t\treturn dungeonReqs.every(item => item && item.acquired);\n\t\t}\n\t}))\n\t.actions((self) => {\n\t\tconst setFavorite = (newFavorite) => {\n\t\t\tself.isFavorite = newFavorite;\n\t\t};\n\t\tconst toggleComplete = () => {\n\t\t\tself.isComplete = !self.isComplete;\n\t\t};\n\n\t\treturn {\n\t\t\tsetFavorite,\n\t\t\ttoggleComplete,\n\t\t};\n\t})\n;\n\nexport default LocationStore;\n","import { types } from 'mobx-state-tree';\nimport LocationStore from 'Location.store';\n\nconst LocationDetailStore = types\n\t.model({\n\t\tid: types.identifier,\n\t\tselectedLocation: types.maybeNull(types.reference(LocationStore)),\n\t})\n\t.views((self) => ({\n\t\tget selectedLocationDetails() {\n\t\t\treturn self.selectedLocation.details;\n\t\t},\n\t}))\n\t.actions((self) => {\n\t\tconst setSelectedLocation = (event, marker, mapStoreLocation) => {\n\t\t\tself.selectedLocation = mapStoreLocation;\n\t\t};\n\n\t\treturn {\n\t\t\tsetSelectedLocation,\n\t\t};\n\t})\n;\n\nexport default LocationDetailStore;\n","import { types } from 'mobx-state-tree';\nimport GameStore from 'Game.store';\nimport LocationStore from 'Location.store';\nimport LocationDetailStore from 'LocationDetail.store';\n\nconst MapStore = types\n\t.model({\n\t\tid: types.identifier,\n\t\tname: types.string,\n\t\tlongName: types.string,\n\t\tgame: types.reference(GameStore),\n\t\tlocations: types.map(LocationStore),\n\t\tselectedLocation: types.maybe(types.reference(LocationStore)),\n\t\tlocationDetail: types.reference(LocationDetailStore),\n\t\ttileLayerTemplate: types.string,\n\t\toffset: 0,\n\t\tcontainerWidth: types.optional(types.number, 0),\n\t\tcontainerHeight: types.optional(types.number, 0),\n\t\tisLocked: false,\n\t\tzoom: -3,\n\t})\n\t.volatile(() => ({\n\t\tcomponent: {},\n\t}))\n\t.views((self) => ({\n\t\tget selectedLocationDetails() {\n\t\t\treturn self.selectedLocation.details;\n\t\t},\n\t}))\n\t.actions((self) => {\n\t\tconst setComponent = (component) => {\n\t\t\tself.component = component;\n\t\t};\n\t\tconst setWidth = (newWidth) => {\n\t\t\tself.containerWidth = newWidth;\n\t\t}\n\t\tconst setHeight = (newHeight) => {\n\t\t\tself.containerHeight = newHeight;\n\t\t}\n\t\tconst setSelectedLocation = (event, marker, mapStoreLocation) => {\n\t\t\tself.selectedLocation = mapStoreLocation;\n\t\t};\n\t\tconst setZoom = (newZoom) => {\n\t\t\tself.zoom = newZoom;\n\t\t}\n\n\t\treturn {\n\t\t\tsetComponent,\n\t\t\tsetSelectedLocation,\n\t\t\tsetWidth,\n\t\t\tsetHeight,\n\t\t\tsetZoom,\n\t\t};\n\t})\n;\n\nexport default MapStore;\n","import { types, getRoot } from 'mobx-state-tree';\nimport { pick } from 'lodash';\n\nconst LayoutStore = types\n\t.model({\n\t\tid: types.identifier,\n\t\tsplitterSize: 16,\n\t\tenableEdgeDock: true,\n\t\ttabEnableClose: true,\n\t\ttabEnableDrag: true,\n\t\ttabEnableRename: true,\n\t\ttabClassName: types.maybeNull(types.string),\n\t\ttabIcon: types.maybeNull(types.string),\n\t\ttabEnableRenderOnDemand: true,\n\t\ttabDragSpeed: 0.3,\n\t\ttabSetEnableDeleteWhenEmpty: true,\n\t\ttabSetEnableDrop: true,\n\t\ttabSetEnableDrag: true,\n\t\ttabSetEnableDivide: true,\n\t\ttabSetEnableMaximize: true,\n\t\ttabSetClassNameTabStrip: types.maybeNull(types.string),\n\t\ttabSetClassNameHeader: types.maybeNull(types.string),\n\t\ttabSetEnableTabStrip: true,\n\t\ttabSetHeaderHeight: 30,\n\t\ttabSetTabStripHeight: 35,\n\t\tborderBarSize: 40,\n\t\tborderEnableDrop: true,\n\t\tborderClassName: types.maybeNull(types.string),\n\t})\n\t.volatile(self => ({\n\t\tlayoutPresets: {\n\t\t\tzelda3: {\n\t\t\t\tcurrent: {},\n\t\t\t\tSTANDARD: {\n\t\t\t\t\t'global': {},\n\t\t\t\t\t'layout': {\n\t\t\t\t\t\t'type': 'row',\n\t\t\t\t\t\t'id': '#4',\n\t\t\t\t\t\t'children': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'type': 'row',\n\t\t\t\t\t\t\t\t'id': '#11',\n\t\t\t\t\t\t\t\t'weight': 25,\n\t\t\t\t\t\t\t\t'children': [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'type': 'row',\n\t\t\t\t\t\t\t\t\t\t'id': '#23',\n\t\t\t\t\t\t\t\t\t\t'weight': 25,\n\t\t\t\t\t\t\t\t\t\t'children': [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t'type': 'tabset',\n\t\t\t\t\t\t\t\t\t\t\t\t'id': '#22',\n\t\t\t\t\t\t\t\t\t\t\t\t'weight': 50,\n\t\t\t\t\t\t\t\t\t\t\t\t'children': [\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'type': 'tab',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'id': '#24',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'name': 'Light World',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'component': 'Map',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'config': {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmapName: 'zelda3-lw',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'enableClose': false\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t'active': true\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t'type': 'tabset',\n\t\t\t\t\t\t\t\t\t\t\t\t'id': '#10',\n\t\t\t\t\t\t\t\t\t\t\t\t'weight': 50,\n\t\t\t\t\t\t\t\t\t\t\t\t'children': [\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'type': 'tab',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'id': '#6',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'name': 'Dark World',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'component': 'Map',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'mapName': 'zelda3-dw',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'config': {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmapName: 'zelda3-dw',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableClose: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'type': 'tabset',\n\t\t\t\t\t\t\t\t\t\t'id': '#70',\n\t\t\t\t\t\t\t\t\t\t'weight': 5,\n\t\t\t\t\t\t\t\t\t\t'children': [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t'type': 'tab',\n\t\t\t\t\t\t\t\t\t\t\t\t'id': '#1',\n\t\t\t\t\t\t\t\t\t\t\t\t'name': 'Location Details',\n\t\t\t\t\t\t\t\t\t\t\t\t'component': 'LocationDetail',\n\t\t\t\t\t\t\t\t\t\t\t\t'config': {\n\t\t\t\t\t\t\t\t\t\t\t\t\t'id': '1'\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t'enableClose': false\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t'borders': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'type': 'border',\n\t\t\t\t\t\t\t'size': 257,\n\t\t\t\t\t\t\t'location': 'left',\n\t\t\t\t\t\t\t'children': [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'type': 'tab',\n\t\t\t\t\t\t\t\t\t'id': '#3',\n\t\t\t\t\t\t\t\t\t'name': 'Item List',\n\t\t\t\t\t\t\t\t\t'component': 'ItemList',\n\t\t\t\t\t\t\t\t\t'config': {\n\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'enableClose': false\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'type': 'tab',\n\t\t\t\t\t\t\t\t\t'id': '#2',\n\t\t\t\t\t\t\t\t\t'name': 'Boss List',\n\t\t\t\t\t\t\t\t\t'component': 'ItemList',\n\t\t\t\t\t\t\t\t\t'config': {\n\t\t\t\t\t\t\t\t\t\tlistType: 'boss'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'enableClose': false\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'type': 'border',\n\t\t\t\t\t\t\t'location': 'right',\n\t\t\t\t\t\t\t'children': []\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'type': 'border',\n\t\t\t\t\t\t\t'location': 'bottom',\n\t\t\t\t\t\t\t'children': []\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}))\n\t.views(self => ({\n\t\tget globalConfig() {\n\t\t\tconst attrs = [\n\t\t\t\t'splitterSize',\n\t\t\t\t'enableEdgeDock',\n\t\t\t\t'tabEnableClose',\n\t\t\t\t'tabEnableDrag',\n\t\t\t\t'tabEnableRename',\n\t\t\t\t'tabClassName',\n\t\t\t\t'tabIcon',\n\t\t\t\t'tabEnableRenderOnDemand',\n\t\t\t\t'tabDragSpeed',\n\t\t\t\t'tabSetEnableDeleteWhenEmpty',\n\t\t\t\t'tabSetEnableDrop',\n\t\t\t\t'tabSetEnableDrag',\n\t\t\t\t'tabSetEnableDivide',\n\t\t\t\t'tabSetEnableMaximize',\n\t\t\t\t'tabSetClassNameTabStrip',\n\t\t\t\t'tabSetClassNameHeader',\n\t\t\t\t'tabSetEnableTabStrip',\n\t\t\t\t'tabSetHeaderHeight',\n\t\t\t\t'tabSetTabStripHeight',\n\t\t\t\t'borderBarSize',\n\t\t\t\t'borderEnableDrop',\n\t\t\t\t'borderClassName',\n\t\t\t];\n\n\t\t\treturn pick(self, attrs);\n\t\t},\n\t\tget json() {\n\t\t\tlet result;\n\t\t\tconst root = getRoot(self);\n\n\t\t\tresult = root.getGameStorage('layout');\n\t\t\tif (!result) {\n\t\t\t\tresult = self.layoutPresets[root.selectedGame.name].STANDARD;\n\t\t\t}\n\t\t\tresult = self.normalize(result);\n\t\t\treturn result;\n\t\t}\n\t}))\n\t.actions(self => {\n\t\tconst saveToLocalStorage = data => {\n\t\t\tgetRoot(self).updateGameLayoutStorage(data);\n\t\t};\n\t\tconst normalize = json => {\n\t\t\tconst globalConfig = Object.assign({}, json.global, self.globalConfig);\n\n\t\t\tjson.global = globalConfig;\n\t\t\treturn json;\n\t\t};\n\n\t\treturn {\n\t\t\tsaveToLocalStorage,\n\t\t\tnormalize,\n\t\t};\n\t})\n;\n\nexport default LayoutStore;\n","import { types, applySnapshot } from 'mobx-state-tree';\nimport GameStore from 'Game.store';\nimport ItemListStore from 'ItemList.store';\nimport MapStore from 'Map.store';\nimport LocationDetailStore from 'LocationDetail.store';\nimport ItemListUtil from 'ItemListUtil';\nimport LayoutStore from 'Layout.store';\nimport { find } from 'lodash';\nimport { createStorage } from 'persistme';\n\nconst AppStore = types.compose(ItemListUtil, types.model({\n\t\tgames: types.map(GameStore),\n\t\tactiveItemList: ItemListStore,\n\t\tinactiveItemList: ItemListStore,\n\t\tactiveBossItemList: ItemListStore,\n\t\tinactiveBossItemList: ItemListStore,\n\t\tmaps: types.map(MapStore),\n\t\tlocationDetail: LocationDetailStore,\n\t\tisModalOpen: false,\n\t\tactiveModal: types.maybeNull(types.enumeration('Modals', ['FILE_IMPORT', 'FILE_EXPORT', 'HELP', 'EDIT_ITEM_LIST'])),\n\t\tvalidationMessages: types.array(types.string),\n\t\tLOCAL_STORAGE_KEY: 'zetroid-tracker',\n\t\thideCompleted: false,\n\t\tshouldSync: true,\n\t\tlayout: LayoutStore,\n\t})\n\t.views((self) => ({\n\t\tgetGameByName: (name) => {\n\t\t\treturn find([...self.games.values()], { name });\n\t\t},\n\t\tgetMapByName: (name) => {\n\t\t\treturn find([...self.maps.values()], { name });\n\t\t},\n\t\tget selectedGame() {\n\t\t\treturn find([...self.games.values()], { selected: true });\n\t\t},\n\t\tgetItemListStoreByDroppableId: (droppableId) => {\n\t\t\treturn find(self.itemListStores, { droppableId });\n\t\t},\n\t\tget items() {\n\t\t\treturn (\n\t\t\t\tself.activeItemList.items.concat(\n\t\t\t\t\tself.inactiveItemList.items,\n\t\t\t\t\tself.activeBossItemList.items,\n\t\t\t\t\tself.inactiveBossItemList.items,\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\t\tget itemListStores() {\n\t\t\treturn [\n\t\t\t\tself.inactiveItemList,\n\t\t\t\tself.activeItemList,\n\t\t\t\tself.inactiveBossItemList,\n\t\t\t\tself.activeBossItemList,\n\t\t\t];\n\t\t}\n\t}))\n\t.actions((self) => {\n\t\tconst selectGame = (gameToSelect) => {\n\t\t\tconst selectedGame = self.getGameByName(gameToSelect);\n\n\t\t\t[...self.games.values()].forEach((game) => {\n\t\t\t\tif (selectedGame === game) {\n\t\t\t\t\tgame.setSelected(true);\n\t\t\t\t} else {\n\t\t\t\t\tgame.setSelected(false);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tconst openModal = (modalName) => {\n\t\t\tself.isModalOpen = true;\n\t\t\tself.activeModal = modalName;\n\t\t};\n\t\tconst closeModal = () => {\n\t\t\tself.activeModal = null;\n\t\t\tself.isModalOpen = false;\n\t\t};\n\t\tconst loadSnapshot = (json) => {\n\t\t\tlet parsedJson;\n\n\t\t\ttry {\n\t\t\t\tparsedJson = JSON.parse(json);\n\t\t\t\tself.closeModal();\n\t\t\t\tapplySnapshot(self, parsedJson);\n\n\t\t\t} catch (error) {\n\t\t\t\t// Invalid JSON\n\t\t\t\tself.validationMessages = ['Invalid JSON.'];\n\t\t\t}\n\t\t};\n\t\tconst flushLocalStorage = (event, game = null) => {\n\t\t\tconst appStorage = createStorage(self.LOCAL_STORAGE_KEY);\n\t\t\tconst selectedGame = game || self.selectedGame.name;\n\n\t\t\tappStorage.remove(selectedGame);\n\t\t\twindow.location.reload();\n\t\t};\n\t\tconst setHideCompleted = (isHidden) => {\n\t\t\tself.hideCompleted = isHidden;\n\t\t};\n\t\t// Wrapper for persistme to include the selected game in the storage key.\n\t\tconst getGameStorage = (key = null) => {\n\t\t\tconst appStorage = createStorage(self.LOCAL_STORAGE_KEY);\n\t\t\tconst selectedGame = self.selectedGame.name;\n\n\t\t\tif (!key) {\n\t\t\t\treturn appStorage.get(selectedGame);\n\t\t\t}\n\t\t\tconst storageData = appStorage.get(selectedGame);\n\t\t\tif (!storageData) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn storageData[key];\n\t\t};\n\t\tconst updateGameTreeStorage = data => {\n\t\t\tif (!self.shouldSync) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst appStorage = createStorage(self.LOCAL_STORAGE_KEY);\n\t\t\tconst selectedGame = self.selectedGame.name;\n\n\t\t\treturn appStorage.update(selectedGame, {tree: data})\n\t\t};\n\t\tconst updateGameLayoutStorage = data => {\n\t\t\tif (!self.shouldSync) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst appStorage = createStorage(self.LOCAL_STORAGE_KEY);\n\t\t\tconst selectedGame = self.selectedGame.name;\n\n\t\t\treturn appStorage.update(selectedGame, {layout: data})\n\t\t};\n\n\t\treturn {\n\t\t\tselectGame,\n\t\t\topenModal,\n\t\t\tcloseModal,\n\t\t\tloadSnapshot,\n\t\t\tflushLocalStorage,\n\t\t\tsetHideCompleted,\n\t\t\tgetGameStorage,\n\t\t\tupdateGameLayoutStorage,\n\t\t\tupdateGameTreeStorage,\n\t\t};\n\t}))\n;\n\nexport default AppStore;\n","const itemsData = [\n\t{\n\t\tgroup: 'mp-upgrade',\n\t\tgame: 'zelda3',\n\t\titems: [\n\t\t\t{ type: 'item', name: 'mp-upgrade-11',  longName: '1/1 Magic',         game: 'zelda3', image: 'mpupgrade0', group: 'mp-upgrade', groupIndex: 0, isDefault: true, },\n\t\t\t{ type: 'item', name: 'mp-upgrade-12',  longName: '1/2 Magic',         game: 'zelda3', image: 'mpupgrade1', group: 'mp-upgrade', groupIndex: 1, },\n\t\t\t{ type: 'item', name: 'mp-upgrade-14',  longName: '1/4 Magic',         game: 'zelda3', image: 'mpupgrade2', group: 'mp-upgrade', groupIndex: 2, },\n\t\t]\n\t},\n\t// {\n\t// \tgroup: 'agahnim',\n\t// \tgame: 'zelda3',\n\t// \titems: [\n\t// \t\t{ type: 'item', name: 'agahnim-alive',  longName: 'Agahnim',           game: 'zelda3', image: 'agahnim0', group: 'agahnim', groupIndex: 0, isDefault: true, },\n\t// \t\t{ type: 'item', name: 'agahnim-dead',   longName: 'Agahnim Defeated',  game: 'zelda3', image: 'agahnim1', group: 'agahnim', groupIndex: 1, },\n\t// \t],\n\t// },\n\t// { type: 'item', name: 'arrow-upgrade',  longName: 'Arrow Upgrade',     game: 'zelda3', image: '', },\n\t{\n\t\tgroup: 'armor',\n\t\tgame: 'zelda3',\n\t\titems: [\n\t\t\t{ type: 'item', name: 'jerkin',         longName: 'Green Jerkin',      game: 'zelda3', image: 'tunic1', group: 'armor', groupIndex: 0, isDefault: true, },\n\t\t\t{ type: 'item', name: 'blue-mail',      longName: 'Blue Mail',         game: 'zelda3', image: 'tunic2', group: 'armor', groupIndex: 1, },\n\t\t\t{ type: 'item', name: 'red-mail',       longName: 'Red Mail',          game: 'zelda3', image: 'tunic3', group: 'armor', groupIndex: 2, },\n\t\t],\n\t},\n\t{\n\t\tgroup: 'boomerang',\n\t\tgame: 'zelda3',\n\t\titems: [\n\t\t\t{ type: 'item', name: 'boomerang',      longName: 'Boomerang',         game: 'zelda3', image: 'boomerang1', group: 'boomerang', groupIndex: 0, isDefault: true, },\n\t\t\t{ type: 'item', name: 'm-boomerang',    longName: 'Magical Boomerang', game: 'zelda3', image: 'boomerang2', group: 'boomerang', groupIndex: 1,  },\n\t\t\t{ type: 'item', name: 'all-boomerangs',    longName: 'All Boomerangs', game: 'zelda3', image: 'boomerang3', group: 'boomerang', groupIndex: 2,  },\n\t\t],\n\t},\n\t{ type: 'item', name: 'bomb',           longName: 'Bomb',              game: 'zelda3', image: 'bomb1', },\n\t{ type: 'item', name: 'super-bomb',        longName: 'Super Bomb',              game: 'zelda3', image: 'super-bomb', },\n\t{\n\t\tgroup: 'sword',\n\t\tgame: 'zelda3',\n\t\titems: [\n\t\t\t{ type: 'item', name: 'sword',          longName: 'Fighter’s Sword',   game: 'zelda3', image: 'sword1', group: 'sword', groupIndex: 0, isDefault: true, },\n\t\t\t{ type: 'item', name: 'master-sword',   longName: 'Master Sword',      game: 'zelda3', image: 'sword2', group: 'sword', groupIndex: 1, },\n\t\t\t{ type: 'item', name: 'tempered-sword', longName: 'Tempered Sword',    game: 'zelda3', image: 'sword3', group: 'sword', groupIndex: 2, },\n\t\t\t{ type: 'item', name: 'golden-sword',   longName: 'Golden Sword',      game: 'zelda3', image: 'sword4', group: 'sword', groupIndex: 3, },\n\t\t],\n\t},\n\t{\n\t\tgroup: 'shield',\n\t\tgame: 'zelda3',\n\t\titems: [\n\t\t\t{ type: 'item', name: 'shield',         longName: 'Fighter’s Shield',  game: 'zelda3', image: 'shield1', group: 'shield', groupIndex: 0, isDefault: true, },\n\t\t\t{ type: 'item', name: 'red-shield',     longName: 'Red Shield',        game: 'zelda3', image: 'shield2', group: 'shield', groupIndex: 1, },\n\t\t\t{ type: 'item', name: 'mirror-shield',  longName: 'Mirror Shield',     game: 'zelda3', image: 'shield3', group: 'shield', groupIndex: 2, },\n\t\t],\n\t},\n\t{\n\t\tgroup: 'glove',\n\t\tgame: 'zelda3',\n\t\titems: [\n\t\t\t{ type: 'item', name: 'glove',          longName: 'Power Glove',       game: 'zelda3', image: 'glove1', group: 'glove', groupIndex: 0, isDefault: true, },\n\t\t\t{ type: 'item', name: 'titan-mitt',     longName: 'Titan’s Mitt',      game: 'zelda3', image: 'glove2', group: 'glove', groupIndex: 1, },\n\t\t],\n\t},\n\t{ type: 'item', name: 'greenpendant',   longName: 'Pendant of Courage', game: 'zelda3', image: 'greenpendant', },\n\t{ type: 'item', name: 'bluependant',   longName: 'Pendant of Power', game: 'zelda3', image: 'bluependant', },\n\t{ type: 'item', name: 'redpendant',   longName: 'Pendant of Wisdom', game: 'zelda3', image: 'redpendant', },\n\t{ type: 'item', name: 'book',           longName: 'Book of Mudora',    game: 'zelda3', image: 'book', },\n\t{ type: 'item', name: 'bombos',         longName: 'Bombos Medallion',  game: 'zelda3', image: 'bombos', },\n\t{ type: 'item', name: 'bottle',         longName: 'Bottle',            game: 'zelda3', image: 'bottle0', maxQty: 4 },\n\t{ type: 'item', name: 'bow',            longName: 'Bow',               game: 'zelda3', image: 'bow', },\n\t{ type: 'item', name: 'net',            longName: 'Bug-Catching Net',  game: 'zelda3', image: 'net', },\n\t{ type: 'item', name: 'somaria',        longName: 'Cane of Somaria',   game: 'zelda3', image: 'somaria', },\n\t{ type: 'item', name: 'byrna',          longName: 'Cane of Byrna',     game: 'zelda3', image: 'byrna', },\n\t{ type: 'item', name: 'ether',          longName: 'Ether Medallion',   game: 'zelda3', image: 'ether', },\n\t{ type: 'item', name: 'fire-rod',       longName: 'Fire Rod',          game: 'zelda3', image: 'firerod', },\n\t{ type: 'item', name: 'flute',          longName: 'Flute',             game: 'zelda3', image: 'flute', },\n\n\t{ type: 'item', name: 'heart-c',        longName: 'Heart Container',   game: 'zelda3', image: 'heartcontainer', },\n\t{ type: 'item', name: 'heart-p',        longName: 'Heart Piece',       game: 'zelda3', image: 'heartpiece', maxQty: 24, },\n\t{ type: 'item', name: 'hookshot',       longName: 'Hookshot',          game: 'zelda3', image: 'hookshot', },\n\t{ type: 'item', name: 'ice-rod',        longName: 'Ice Rod',           game: 'zelda3', image: 'icerod', },\n\t{ type: 'item', name: 'lantern',        longName: 'Lantern',           game: 'zelda3', image: 'lantern', },\n\t{ type: 'item', name: 'cape',           longName: 'Magic Cape',        game: 'zelda3', image: 'cape', },\n\t{ type: 'item', name: 'hammer',         longName: 'Magic Hammer',      game: 'zelda3', image: 'hammer', },\n\t{ type: 'item', name: 'powder',         longName: 'Magic Powder',      game: 'zelda3', image: 'powder', },\n\t{ type: 'item', name: 'mirror',         longName: 'Magic Mirror',      game: 'zelda3', image: 'mirror', },\n\t{ type: 'item', name: 'moon-pearl',     longName: 'Moon Pearl',        game: 'zelda3', image: 'moonpearl', },\n\t{ type: 'item', name: 'mushroom',       longName: 'Mushroom',          game: 'zelda3', image: 'mushroom', },\n\t{ type: 'item', name: 'boots',          longName: 'Pegasus Boots',     game: 'zelda3', image: 'boots', },\n\t{ type: 'item', name: 'quake',          longName: 'Quake Medallion',   game: 'zelda3', image: 'quake', },\n\n\t{ type: 'item', name: 'shovel',         longName: 'Shovel',            game: 'zelda3', image: 'shovel', },\n\t{ type: 'item', name: 's-arrow',        longName: 'Silver Arrow',      game: 'zelda3', image: 'silvers', },\n\t{ type: 'item', name: 'flippers',       longName: 'Zora’s Flippers',   game: 'zelda3', image: 'flippers', },\n\n\n\n\n\n\t{ type: 'item', name: 'bracelet', longName: 'Power Bracelet', game: 'zelda1', },\n\t{ type: 'item', name: 'lantern', longName: 'Lantern', game: 'zelda1', },\n\t{ type: 'item', name: 'food', longName: 'Food', game: 'zelda1', },\n\t{ type: 'item', name: 'ladder', longName: 'Ladder', game: 'zelda1', },\n\t{ type: 'item', name: 'letter', longName: 'Letter', game: 'zelda1', },\n\t{ type: 'item', name: 'm-key', longName: 'Magic Key', game: 'zelda1', },\n\t{ type: 'item', name: 'm-rod', longName: 'Magic Rod', game: 'zelda1', },\n\t{ type: 'item', name: 'raft', longName: 'Raft', game: 'zelda1', },\n\t{ type: 'item', name: 'recorder', longName: 'Recorder', game: 'zelda1', },\n\t{ type: 'item', name: 'ring', longName: 'Red Ring', game: 'zelda1', },\n\t{ type: 'item', name: 'triforce-1', longName: 'Triforce Piece 1', game: 'zelda1', },\n\t{ type: 'item', name: 'triforce-2', longName: 'Triforce Piece 2', game: 'zelda1', },\n\t{ type: 'item', name: 'triforce-3', longName: 'Triforce Piece 3', game: 'zelda1', },\n\t{ type: 'item', name: 'triforce-4', longName: 'Triforce Piece 4', game: 'zelda1', },\n\t{ type: 'item', name: 'triforce-5', longName: 'Triforce Piece 5', game: 'zelda1', },\n\t{ type: 'item', name: 'triforce-6', longName: 'Triforce Piece 6', game: 'zelda1', },\n\t{ type: 'item', name: 'triforce-7', longName: 'Triforce Piece 7', game: 'zelda1', },\n\t{ type: 'item', name: 'triforce-8', longName: 'Triforce Piece 8', game: 'zelda1', },\n\t{ type: 'item', name: 'charge', longName: 'Charge Beam', game: 'metroid3', },\n\t{ type: 'item', name: 'ice', longName: 'Ice Beam', game: 'metroid3', },\n\t{ type: 'item', name: 'wave', longName: 'Wave Beam', game: 'metroid3', },\n\t{ type: 'item', name: 'spazer', longName: 'Spazer', game: 'metroid3', },\n\t{ type: 'item', name: 'plasma', longName: 'Plasma', game: 'metroid3', },\n\t{ type: 'item', name: 'varia', longName: 'Varia Suit', game: 'metroid3', },\n\t{ type: 'item', name: 'gravity', longName: 'Gravity Suit', game: 'metroid3', },\n\t{ type: 'item', name: 'morph', longName: 'Morph Ball', game: 'metroid3', },\n\t{ type: 'item', name: 'bombs', longName: 'Bombs', game: 'metroid3', },\n\t{ type: 'item', name: 'spring', longName: 'Spring Ball', game: 'metroid3', },\n\t{ type: 'item', name: 'screw', longName: 'Screw Attack', game: 'metroid3', },\n\t{ type: 'item', name: 'jump', longName: 'High Jump Boots', game: 'metroid3', },\n\t{ type: 'item', name: 'space', longName: 'Space Jump', game: 'metroid3', },\n\t{ type: 'item', name: 'speed', longName: 'Speed Booster', game: 'metroid3', },\n\t{ type: 'item', name: 'missile', longName: 'Missle', game: 'metroid3', },\n\t{ type: 'item', name: 's-missile', longName: 'Super Missle', game: 'metroid3', },\n\t{ type: 'item', name: 'powerbomb', longName: 'Powerbomb', game: 'metroid3', },\n\t{ type: 'item', name: 'grappling', longName: 'Grappling Hook', game: 'metroid3', },\n\t{ type: 'item', name: 'xray', longName: 'X-Ray Scanner', game: 'metroid3', },\n\t{ type: 'item', name: 'kraid', longName: 'Kraid', game: 'metroid3', },\n\t{ type: 'item', name: 'phantoon', longName: 'Phantoon', game: 'metroid3', },\n\t{ type: 'item', name: 'draygon', longName: 'Draygon', game: 'metroid3', },\n\t{ type: 'item', name: 'ridley', longName: 'Ridley', game: 'metroid3', },\n\t{ type: 'item', name: 'etank', longName: 'Energy Tank', game: 'metroid3', },\n\t{ type: 'item', name: 'rtank', longName: 'Reserve Tank', game: 'metroid3', },\n\t{ type: 'item', name: 'long', longName: 'Long Beam', game: 'metroid1', },\n\t{ type: 'item', name: 'kraidtotem', longName: 'Kraid Totem', game: 'metroid1', },\n\t{ type: 'item', name: 'ridleytotem', longName: 'Ridley Totem', game: 'metroid1', },\n\t// Zelda 3 bosses\n\t// { type: 'item', name: 'boss0', longName: '', },\n\t// { type: 'item', name: 'boss1', longName: '', },\n\t// { type: 'item', name: 'boss2', longName: '', },\n\t// { type: 'item', name: 'boss3', longName: '', },\n\t// { type: 'item', name: 'boss4', longName: '', },\n\t// { type: 'item', name: 'boss5', longName: '', },\n\t// { type: 'item', name: 'boss6', longName: '', },\n\t// { type: 'item', name: 'boss7', longName: '', },\n\t// { type: 'item', name: 'boss8', longName: '', },\n\t// { type: 'item', name: 'boss9', longName: '', },\n\t// { type: 'item', name: 'boss10', longName: '', },\n];\n\nexport default itemsData;\n","const bossData = [\n\t{ name: 'armos', longName: 'Armos Knights', game: 'zelda3', image: 'boss02', type: 'boss', },\n\t{ name: 'lanmolas', longName: 'Lanmolas', game: 'zelda3', image: 'boss12', type: 'boss', },\n\t{ name: 'moldorm', longName: 'Moldorm', game: 'zelda3', image: 'boss22', type: 'boss', },\n\t{ name: 'helmasaur', longName: 'Helmasaur', game: 'zelda3', image: 'boss32', type: 'boss', },\n\t{ name: 'arrghus', longName: 'Arrghus', game: 'zelda3', image: 'boss42', type: 'boss', },\n\t{ name: 'mothula', longName: 'Mothula', game: 'zelda3', image: 'boss52', type: 'boss', },\n\t{ name: 'blindthief', longName: 'Blind the Thief', game: 'zelda3', image: 'boss62', type: 'boss', },\n\t{ name: 'kholdstare', longName: 'Kholdstare', game: 'zelda3', image: 'boss72', type: 'boss', },\n\t{ name: 'vitreous', longName: 'Vitreous', game: 'zelda3', image: 'boss82', type: 'boss', },\n\t{ name: 'trinexx', longName: 'Trinexx', game: 'zelda3', image: 'boss92', type: 'boss', },\n\t{ name: 'agahnim',  longName: 'Agahnim', game: 'zelda3', image: 'agahnim', type: 'boss', },\n\t{ name: 'chestclosed', longName: 'Closed Chest', game: 'zelda3', image: 'chest-closed', type: 'chest', },\n\t{ name: 'chestopen', longName: 'Open Chest', game: 'zelda3', image: 'chest-open', type: 'chest', },\n];\nconst dungeonData = [\n\t{\n\t\tname: 'desertpalace',\n\t\tlongName:''\n\t}\n]\n\nexport default bossData;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'App';\nimport { unprotect, applySnapshot, getSnapshot, destroy, onSnapshot, detach, getParentOfType } from 'mobx-state-tree';\nimport { randomId } from './util';\nimport AppStore from 'App.store';\nimport MapStore from 'Map.store';\nimport GameStore from 'Game.store';\nimport { gamesData, locationsData } from 'data/data';\nimport ItemStore from 'Item.store';\nimport itemsData from 'data/items';\nimport bossData from 'data/bosses';\nimport LocationStore from 'Location.store';\nimport LocationDetailStore from 'LocationDetail.store';\nimport ItemListStore from 'ItemList.store';\nimport LayoutStore from 'Layout.store';\nimport * as serviceWorker from 'serviceWorker';\nimport { isUndefined, isArray } from 'lodash';\nimport { createStorage } from 'persistme';\n\nconst activeItemListStore = ItemListStore.create({\n\tid: randomId(),\n\titems: [],\n\tsortOrder: [],\n\tdroppableId: 'active-itemList-droppable',\n});\nconst inactiveItemListStore = ItemListStore.create({\n\tid: randomId(),\n\titems: [],\n\tsortOrder: [],\n\tdroppableId: 'inactive-itemList-droppable',\n});\nconst activeBossItemListStore = ItemListStore.create({\n\tid: randomId(),\n\titems: [],\n\tsortOrder: [],\n\tdroppableId: 'active-bossItemList-droppable',\n});\nconst inactiveBossItemListStore = ItemListStore.create({\n\tid: randomId(),\n\titems: [],\n\tsortOrder: [],\n\tdroppableId: 'inactive-bossItemList-droppable',\n});\nconst appStore = AppStore.create({\n\tid: randomId(),\n\tgames: {},\n\t// shouldSync: false,\n\tactiveItemList: activeItemListStore,\n\tinactiveItemList: inactiveItemListStore,\n\tactiveBossItemList: activeBossItemListStore,\n\tinactiveBossItemList: inactiveBossItemListStore,\n\tmaps: {},\n\tlocationDetail: LocationDetailStore.create({\n\t\tid: randomId(),\n\t\tselectedLocation: null,\n\t}),\n\tlayout: LayoutStore.create({\n\t\tid: randomId(),\n\t})\n});\n\nunprotect(appStore);\n// Create game models\ngamesData.forEach((game) => {\n\tappStore.games.put(GameStore.create({\n\t\tid: randomId(),\n\t\tname: game.name,\n\t\tlongName: game.longName,\n\t}));\n});\n// Select the game.\nappStore.selectGame('zelda3');\n// Create map models.\nappStore.maps.put(MapStore.create({\n\tid: randomId(),\n\tname: 'zelda3-lw',\n\tlongName: 'Light World Map',\n\tgame: appStore.getGameByName('zelda3'),\n\ttileLayerTemplate: `${process.env.PUBLIC_URL}/img/maps/zelda3/lw/{z}/zelda3-lw.{x}.{y}.png`,\n\tlocations: {},\n\tlocationDetail: appStore.locationDetail,\n}));\nappStore.maps.put(MapStore.create({\n\tid: randomId(),\n\tname: 'zelda3-dw',\n\tlongName: 'Dark World Map',\n\tgame: appStore.getGameByName('zelda3'),\n\ttileLayerTemplate: `${process.env.PUBLIC_URL}/img/maps/zelda3/dw/{z}/zelda3-dw.{x}.{y}.png`,\n\tlocations: {},\n\tlocationDetail: appStore.locationDetail,\n}));\n// Create item models.\nconst itemDataFactory = (item, index, itemList) => {\n\tconst id = randomId();\n\tconst isItemGroup = !!(item.group && item.items.length);\n\tconst itemData = {\n\t\tid: id,\n\t\tindex: isUndefined(item.index) ? index : item.index,\n\t\tname: item.name,\n\t\tgame: appStore.getGameByName(item.game),\n\t\tmaxQty: item.maxQty || 1,\n\t\t// itemList,\n\t\ttype: item.type,\n\t}\n\n\tif (isItemGroup) {\n\t\titemData.isDefault = item.isDefault || false;\n\t\titemData.group = item.group;\n\t\titemData.groupIndex = item.groupIndex || null;\n\t\titemData.type = item.type;\n\t} else {\n\t\titemData.longName = item.longName;\n\t\titemData.image = item.image\n\t}\n\n\tconst subItemData = isItemGroup && item.items.map(data => {\n\t\treturn ItemStore.create(Object.assign({}, itemData, data, {\n\t\t\tid: randomId(),\n\t\t\tgame: appStore.getGameByName(data.game),\n\t\t}));\n\t});\n\tif (subItemData.length) {\n\t\titemData.items = subItemData;\n\t}\n\treturn itemData;\n};\nitemsData\n\t.filter(item => item.game === appStore.selectedGame.name)\n\t.forEach((item, i) => {\n\t\tconst itemData = itemDataFactory(item, i);\n\n\t\tappStore.activeItemList.sortOrder.push(i);\n\t\tappStore.activeItemList.items.push(ItemStore.create(itemData));\n\t})\n;\nbossData\n\t.filter(item => item.game === appStore.selectedGame.name)\n\t.forEach((item, i) => {\n\t\tconst itemData = itemDataFactory(item, i);\n\n\t\tappStore.activeBossItemList.sortOrder.push(i);\n\t\tappStore.activeBossItemList.items.push(ItemStore.create(itemData));\n\t})\n;\n// Create location models.\nlocationsData.forEach(loc => {\n\tconst selectedMap = appStore.getMapByName(loc.map);\n\n\tselectedMap.locations.put(LocationStore.create({\n\t\tid: `loc-${randomId()}`,\n\t\tname: loc.name,\n\t\tlongName: loc.longName,\n\t\tcoords: loc.coords,\n\t\tgame: appStore.getGameByName(loc.game),\n\t\tnotes: loc.notes,\n\t\tnumItems: loc.numItems,\n\t\titemRequirements: loc.itemRequirements,\n\t\tviewableRequirements: loc.viewableRequirements,\n\t\tisDungeon: !!loc.isDungeon,\n\t}));\n\n});\n// Globals to help with debugging.\n// appStore.games.set(zelda1.id, zelda1);\nwindow.applySnapshot = applySnapshot;\nwindow.getSnapshot = getSnapshot;\nwindow.destroy = destroy;\nwindow.detach = detach;\nwindow.appStore = appStore;\nwindow.mapStore = appStore.getMapByName('zelda3-lw');\nwindow.activeItemList = appStore.activeItemList;\nwindow.inactiveItemList = appStore.inactiveItemList;\nwindow.createStorage = createStorage;\nwindow.getParentOfType = getParentOfType;\nwindow.ItemListStore = ItemListStore;\n\nif (appStore.shouldSync) {\n\tconst gameStorage = appStore.getGameStorage('tree');\n\n\tonSnapshot(appStore, model => {\n\t\tappStore.updateGameTreeStorage(model);\n\t});\n\tif (gameStorage) {\n\t\tapplySnapshot(appStore, gameStorage);\n\t}\n}\nReactDOM.render(<App store={appStore} />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const gamesData = [\n\t{ name: 'zelda1', longName: 'The Legend of Zelda', },\n\t{ name: 'zelda3', longName: 'The Legend of Zelda: A Link to the Past' },\n\t{ name: 'metroid1', longName: 'Metroid' },\n\t{ name: 'metroid3', longName: 'Super Metroid' },\n];\nconst locationsData = [\n\t{\n\t    coords: [-205,170],\n\t    name: 'pedestal',\n\t    longName: 'Master Sword Pedestal',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: ['greenpendant', 'redpendant', 'bluependant'],\n\t\tnotes: ['pedestal'],\n\t},\n\t{\n\t    coords: [-355,500],\n\t    name: 'mushroom',\n\t    longName: 'Mushroom',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: [],\n\t},\n\t{\n\t    coords: [-540,775],\n\t    name: 'foresthideout',\n\t    longName: 'Forest Hideout',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: [],\n\t},\n\t{\n\t    coords: [-300,1230],\n\t    name: 'lumberjacktree',\n\t    longName: 'Lumberjack Tree',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: ['agahnim', 'boots'],\n\t},\n\t{\n\t    coords: [-1745,95],\n\t    name: 'kakarikowell',\n\t    longName: 'Kakariko Well',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: [],\n\t\tnumItems: 4,\n\t\tnotes: ['kakarikoWell']\n\t},\n\t{\n\t    coords: [-1720,530],\n\t    name: 'thieveshut',\n\t    longName: 'Thieves’ Hut',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: [],\n\t\tnumItems: 4,\n\t},\n\t{\n\t    coords: [-1905,390],\n\t    name: 'bottlevendor',\n\t    longName: 'Bottle Vendor',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: [],\n\t\tnotes: ['bottleVendor'],\n\t},\n\t{\n\t    coords: [-2440,110],\n\t    name: 'chickenhouse',\n\t    longName: 'Chicken House',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: [],\n\t\tnotes: ['kakarikoWell'],\n\t},\n\t{\n\t    coords: [-2200,640],\n\t    name: 'bugkid',\n\t    longName: 'Bug Kid',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: ['bottle', ],\n\t},\n\t{\n\t    coords: [-2320,655],\n\t    name: 'tavern',\n\t    longName: 'Tavern',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: [],\n\t},\n\t{\n\t    coords: [-2935,575],\n\t    name: 'racegame',\n\t    longName: 'Race Mini-game',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: [],\n\t\tnotes: ['raceMinigame']\n\t},\n\t{\n\t    coords: [-2695,640],\n\t    name: 'library',\n\t    longName: 'Library',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: ['boots'],\n\t},\n\t{\n\t    coords: [-2710,1210],\n\t    name: 'burieditem',\n\t    longName: 'Buried Item',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: ['shovel', ],\n\t},\n\t{\n\t    coords: [-2300,1330],\n\t    name: 'madbatter',\n\t    longName: 'Mad Batter',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: ['hammer', 'boots', 'powder'],\n\t},\n\t{\n\t    coords: [-3260,305],\n\t    name: 'desertpalace',\n\t    longName: 'Desert Palace',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    itemRequirements: ['book', 'boots'],\n\t\tisDungeon: true,\n\t},\n\t{\n\t    coords: [-3690,100],\n\t    name: 'desertwledge',\n\t    longName: 'Desert West Ledge',\n\t    game: 'zelda3',\n\t    map: 'zelda3-lw',\n\t    // itemRequirements: ['book|mirror', ],\n\t},\n\n];\n\nexport {\n\tgamesData,\n\tlocationsData,\n}\n"],"sourceRoot":""}
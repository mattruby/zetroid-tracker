{"version":3,"sources":["ItemIcon.js","ItemIconList.js","LocationDetail.js","Map.js","NavBar.js","Modal.js","FileImportModal.js","FileExportModal.js","util.js","App.js","Game.store.js","Item.store.js","Location.store.js","Map.store.js","App.store.js","data/items.js","serviceWorker.js","index.js","data/data.js"],"names":["ItemIcon","item","this","props","image","react_default","a","createElement","className","src","alt","get","title","longName","Component","ItemIconList","items","length","src_ItemIcon","icons","iconText","result","forEach","i","push","key","concat","name","icon","LocationDetail","inject","observer","_Component","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggleHighlight","bind","assertThisInitialized","inherits","createClass","value","selectedLocation","markerType","setMarkerType","defaultMarkerType","mapStore","displayHelp","details","reqs","highlightClasses","classNames","has-text-warning","src_ItemIconList","onClick","L","window","Map","markers","offsetWidth","offsetHeight","state","containerWidth","containerHeight","mapWidth","mapHeight","mapRef","createRef","draggableRef","draggableTarget","resize","debounce","zoomIn","zoomOut","toggleWindowLock","resetToCenter","onChangeWidth","onChangeHeight","addMarker","setComponent","initMap","initDraggable","initReactions","_this2","map","id","assign","crs","CRS","Simple","center","zoom","maxBounds","maxBoundsViscosity","attributionControl","zoomControl","mapOptions","camelCase","locations","loc","tileLayer","tileLayerTemplate","minZoom","maxZoom","nativeZooms","tileSize","point","tileLayerOptions","addTo","setZoom","_this3","draggable","Draggable","current","trigger","bounds","document","querySelector","liveSnap","Math","round","onDragEnd","setPos","x","endX","y","endY","self","autorun","keys","markerId","removeMarker","enabled","isLocked","TweenLite","set","isNull","initPosition","setState","style","width","height","invalidateSize","toggleSnap","setLocked","setView","evt","newHeight","parseInt","target","setHeight","newWidth","setWidth","_this4","theLocation","marker","coords","bindTooltip","on","event","setSelectedLocation","typeClasses","UNAVAILABLE","AVAILABLE","HIGHLIGHT","_icon","classList","remove","add","off","removeLayer","lockClasses","fa-lock-open","fa-lock","containerClasses","is-off-screen","isVisible","ref","htmlFor","type","min","max","step","onChange","showHelp","src_LocationDetail","windowRect","getBoundingClientRect","offset","NavBar","isMenuActive","toggleMenu","toggleMapVisibility","menu","burger","mapName","store","getMapByName","setMapVisibility","buttons","toConsumableArray","maps","values","mapClasses","fa-eye","fa-eye-slash","burgerClasses","is-active","menuClasses","mapVisibilityButtons","generateMapVisibilityButtons","role","aria-label","href","aria-expanded","data-target","aria-hidden","openModal","flushLocalStorage","Modal","modalClasses","isModalOpen","children","FileImportModal","snapshot","snapshotRef","validationMessages","closeModal","placeholder","message","loadSnapshot","FileExportModal","readOnly","JSON","stringify","getSnapshot","randomId","v4","App","src_Map","modal","activeModal","src_FileImportModal","src_FileExportModal","index_module","src_NavBar","generateMaps","src_Modal","Game","types","model","identifier","string","selected","actions","setSelected","ItemStore","active","game","reference","GameStore","acquired","LocationStore","array","integer","itemRequirements","optional","enumeration","views","req","getRoot","getItemByName","tooltipContent","MapStore","maybe","maybeNull","number","volatile","component","selectedLocationDetails","mapStoreLocation","newPos","AppStore","games","LOCAL_STORAGE_KEY","getGameByName","find","selectedGame","selectGame","gameToSelect","modalName","json","parsedJson","parse","applySnapshot","error","localStorage","removeItem","itemsData","Boolean","location","hostname","match","appStore","create","unprotect","put","process","destroy","onSnapshot","setItem","getItem","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.64cb3d81.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { get } from 'lodash';\nimport 'scss/App.scss';\n\nclass ItemIcon extends Component {\n\trender() {\n\t\tconst item = this.props.item;\n\t\tconst image = this.props.item.image;\n\n\t\treturn (\n\t\t\t<span className=\"item-icon\">\n\t\t\t\t<img src={image} alt={get(item, 'longName')} title={get(item, 'image')} />\n\t\t\t\t<span>{item.longName}</span>\n\t\t\t</span>\n\t\t);\n\t}\n}\n\nexport default ItemIcon;\n","import React, { Component } from 'react';\nimport ItemIcon from 'ItemIcon';\nimport { get } from 'lodash';\nimport 'scss/App.scss';\n\nclass ItemIconList extends Component {\n\trender() {\n\t\tif (!this.props.items) {\n\t\t\treturn <span>None</span>;\n\t\t}\n\t\tif (this.props.items.length === 1) {\n\t\t\treturn <ItemIcon item={this.props.items[0]} />;\n\t\t}\n\t\tconst icons = [];\n\t\tconst iconText = [];\n\t\tconst result = [];\n\t\tthis.props.items.forEach((item, i) => {\n\t\t\ticons.push(<span key={`${item.name}-icon-${i}`} className=\"item-icon is-not-acquired\"><img src={item.image} alt={get(item, 'longName')} title={get(item, 'image')} /></span>);\n\t\t\ticonText.push(<span key={`${item.name}-text-${i}`} className=\"item-icon-name is-not-acquired is-size-7\">{item.longName}</span>);\n\t\t});\n\t\ticons.forEach((icon, i) => {\n\t\t\tresult.push(icons[i], iconText[i]);\n\t\t});\n\t\treturn (\n\t\t\t<div className=\"item-icon-list\">{result}</div>\n\t\t);\n\t}\n}\n\nexport default ItemIconList;\n","import React, { Component } from 'react';\nimport ItemIconList from 'ItemIconList';\nimport { get } from 'lodash';\nimport classNames from 'classnames';\nimport { observer, inject } from 'mobx-react';\n\nconst LocationDetail = inject('store')(observer(class LocationDetail extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.toggleHighlight = this.toggleHighlight.bind(this);\n\t}\n\ttoggleHighlight() {\n\t\tconst selectedLocation = get(this, 'props.mapStore.selectedLocation');\n\n\t\tif (selectedLocation.markerType !== 'HIGHLIGHT') {\n\t\t\tselectedLocation.setMarkerType('HIGHLIGHT');\n\t\t} else {\n\t\t\tselectedLocation.setMarkerType(selectedLocation.defaultMarkerType);\n\t\t}\n\t}\n\trender() {\n\t\tconst mapStore = this.props.mapStore;\n\t\tconst selectedLocation = mapStore.selectedLocation;\n\t\tconst displayHelp = mapStore.displayHelp;\n\t\tconst details = get(selectedLocation, 'details');\n\t\tlet longName = get(details, 'longName');\n\t\tlet reqs = get(details, 'itemRequirements', []);\n\t\tconst markerType = get(selectedLocation, 'markerType');\n\t\tconst highlightClasses = classNames('button', 'is-outline', {\n\t\t\t'has-text-warning': markerType === 'HIGHLIGHT',\n\t\t});\n\n\t\tif (!details || displayHelp) {\n\t\t\treturn (\n\t\t\t\t<div className=\"content box map-info\">\n\t\t\t\t\t<h1>Help</h1>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li><em>Click map marker for more information.</em></li>\n\t\t\t\t\t\t<li><em>Shift + drag to zoom in on an area.</em></li>\n\t\t\t\t\t\t<li><em>Drag on the window title to move map.</em></li>\n\t\t\t\t\t\t<li><em>Mousewheel or <span className=\"icon\"><i className=\"fas fa-search-minus\" /></span><span className=\"icon\"><i className=\"fas fa-search-plus\" /></span> to zoom in/out.</em></li>\n\t\t\t\t\t\t<li><em>Click <span className=\"icon\"><i className=\"fas fa-lock\" /></span> in upper right to toggle position lock.</em></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tif (longName) {\n\t\t\tlongName = <h1>{longName}</h1>;\n\t\t}\n\t\tif (reqs.length) {\n\t\t\treqs = <ItemIconList items={reqs} />;\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"content box map-info\">\n\t\t\t\t{longName}\n\t\t\t\t<div className=\"details-controls is-clearfix\">\n\t\t\t\t\t<div className=\"is-pulled-left\">\n\t\t\t\t\t\t<div className=\"buttons\">\n\t\t\t\t\t\t\t<button className=\"button is-success\">\n\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-unlock\" /></span>\n\t\t\t\t\t\t\t\t<span>Available</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button className=\"button is-danger\">\n\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-lock\" /></span>\n\t\t\t\t\t\t\t\t<span>Unavailable</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button className=\"button is-grey\">\n\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-check\" /></span>\n\t\t\t\t\t\t\t\t<span>Complete</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"is-pulled-right\">\n\t\t\t\t\t\t<div className=\"buttons\">\n\t\t\t\t\t\t\t<button onClick={this.toggleHighlight} className={highlightClasses}>\n\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-star\" /></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<h6>Requirements:</h6>\n\t\t\t\t{reqs}\n\t\t\t</div>\n\t\t);\n\t}\n}));\n\nexport default LocationDetail;\n","import React, { Component, createRef } from 'react';\nimport { autorun } from 'mobx';\nimport { observer, inject } from 'mobx-react';\nimport LocationDetail from 'LocationDetail';\nimport Draggable from 'gsap/Draggable';\nimport TweenLite from 'gsap/TweenLite';\nimport classNames from 'classnames';\nimport { debounce, camelCase, isNull } from 'lodash';\n\nconst L = window.L;\nconst Map = inject('store')(observer(class Map extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.mapRef = createRef();\n\t\tthis.draggableRef = createRef();\n\t\tthis.draggableTarget = createRef();\n\t\t// Throttle the expensive map resizing for spaz busting.\n\t\tthis.resize = debounce(this.resize, 500);\n\t\tthis.zoomIn = this.zoomIn.bind(this);\n\t\tthis.zoomOut = this.zoomOut.bind(this);\n\t\tthis.toggleWindowLock = this.toggleWindowLock.bind(this);\n\t\tthis.resetToCenter = this.resetToCenter.bind(this);\n\t\tthis.onChangeWidth = this.onChangeWidth.bind(this);\n\t\tthis.onChangeHeight = this.onChangeHeight.bind(this);\n\t\tthis.addMarker = this.addMarker.bind(this);\n\t}\n\n\tmarkers = {};\n\toffsetWidth = 53;\n\toffsetHeight = 108;\n\t// TODO take this out of state\n\tstate = {\n\t\tcontainerWidth: 565,\n\t\tcontainerHeight: 640,\n\t\tmapWidth: 512,\n\t\tmapHeight: 532,\n\t};\n\n\tcomponentDidMount() {\n\t\t// I may not need this.\n\t\tthis.props.mapStore.setComponent(this);\n\t\tthis.initMap();\n\t\tthis.initDraggable();\n\t\tthis.initReactions();\n\t}\n\tinitMap() {\n\t\tthis.map = L.map(`map-${this.props.id}`, Object.assign({}, {\n\t\t\tcrs: L.CRS.Simple,\n\t\t\tcenter: [-2128,2048],\n\t\t\tzoom: -3,\n\t\t\tmaxBounds: [[0,0], [-4256, 4096]],\n\t\t\tmaxBoundsViscosity: 1,\n\t\t\tattributionControl: false,\n\t\t\tzoomControl: false,\n\t\t}, this.props.mapOptions));\n\t\t// For debugging.\n\t\twindow[camelCase(this.props.mapStore.name)] = this.map;\n\t\tthis.props.locations.forEach(loc => {\n\t\t\tthis.addMarker(loc);\n\t\t});\n\t\tL.tileLayer(this.props.tileLayerTemplate, Object.assign({}, {\n\t\t\tminZoom: -3,\n\t\t\tmaxZoom: 2,\n\t\t\tnativeZooms: [0],\n\t\t\ttileSize: L.point(256, 224),\n\t\t}, this.props.tileLayerOptions)).addTo(this.map);\n\n\t\tthis.map.setZoom(-3);\n\t\tthis.resize();\n\t}\n\tinitDraggable() {\n\t\tthis.draggable = new Draggable(this.draggableRef.current, {\n\t\t\ttrigger: this.draggableTarget.current,\n\t\t\tbounds: document.querySelector('body'),\n\t\t\t// No subpixel dragging.\n\t\t\tliveSnap: (value) => Math.round(value / 1),\n\t\t\tonDragEnd: () => {\n\t\t\t\tthis.props.mapStore.setPos({ x: this.draggable.endX, y: this.draggable.endY, });\n\t\t\t}\n\t\t});\n\t}\n\tinitReactions() {\n\t\tconst self = this;\n\n\t\tautorun(() => {\n\t\t\tself.props.locations.forEach((loc) => {\n\t\t\t\tif (!self.markers[loc.id]) {\n\t\t\t\t\tself.addMarker(loc);\n\t\t\t\t}\n\t\t\t});\n\t\t\tObject.keys(self.markers).forEach((markerId) => {\n\t\t\t\tif (!self.props.mapStore.locations.get(markerId)) {\n\t\t\t\t\tself.removeMarker(markerId);\n\t\t\t\t}\n\t\t\t});\n\t\t\tself.props.locations.forEach((loc) => {\n\t\t\t\tself.setMarkerType(self.markers[loc.id], loc);\n\t\t\t});\n\t\t\tself.draggable.enabled(!self.props.mapStore.isLocked);\n\t\t\tTweenLite.set(self.draggableRef.current, {x: self.props.mapStore.x, y: self.props.mapStore.y });\n\t\t\tif (isNull(self.props.mapStore.x)) {\n\t\t\t\tTweenLite.set(self.draggableRef.current, self.initPosition);\n\t\t\t}\n\t\t});\n\t}\n\tresize() {\n\t\tif (!isNull(this.props.mapStore.containerWidth)) {\n\t\t\tthis.setState({\n\t\t\t\tcontainerWidth: this.props.mapStore.containerWidth,\n\t\t\t\tcontainerHeight: this.props.mapStore.containerHeight,\n\t\t\t\tmapWidth: this.props.mapStore.containerWidth - this.offsetWidth,\n\t\t\t\tmapHeight: this.props.mapStore.containerHeight - this.offsetHeight,\n\t\t\t});\n\t\t}\n\t\tthis.mapRef.current.style.width = this.state.mapWidth + 'px';\n\t\tthis.mapRef.current.style.height = this.state.mapHeight + 'px';\n\t\tthis.map.invalidateSize();\n\t}\n\tget initPosition() {\n\t\tconst windowRect = document.querySelector('body').getBoundingClientRect();\n\t\tconst width = this.state.containerWidth;\n\t\tconst x = (windowRect.width / 2) - (width / 2) + this.props.mapStore.offset;\n\t\tconst y = this.props.mapStore.offset + 50;\n\n\t\tthis.props.mapStore.setPos({ x, y });\n\t\treturn { x, y };\n\t}\n\tzoomIn() {\n\t\tthis.map.zoomIn();\n\t}\n\tzoomOut() {\n\t\tthis.map.zoomOut();\n\t}\n\ttoggleSnap() {\n\t\tthis.setState({ toggleSnap: !this.state.toggleSnap });\n\t}\n\ttoggleWindowLock() {\n\t\tthis.props.mapStore.setLocked(!this.props.mapStore.isLocked);\n\t}\n\tresetToCenter() {\n\t\tthis.map.setView([0,0], -3);\n\t}\n\tonChangeHeight(evt) {\n\t\tconst newHeight = parseInt(evt.target.value, 10);\n\n\t\tthis.setState({\n\t\t\tcontainerHeight: newHeight,\n\t\t\tmapHeight: newHeight - this.offsetHeight,\n\t\t});\n\t\tthis.props.mapStore.setHeight(newHeight);\n\t\tthis.resize();\n\t}\n\tonChangeWidth(evt) {\n\t\tconst newWidth = parseInt(evt.target.value, 10);\n\n\t\tthis.setState({\n\t\t\tcontainerWidth: newWidth,\n\t\t\tmapWidth: newWidth - this.offsetWidth,\n\t\t});\n\t\tthis.props.mapStore.setWidth(newWidth);\n\t\tthis.resize();\n\t}\n\taddMarker(loc) {\n\t\tconst self = this;\n\t\tconst theLocation = this.props.mapStore.locations.get(loc.id);\n\n\t\tthis.markers[loc.id] = L\n\t\t\t.marker(loc.coords)\n\t\t\t.bindTooltip(theLocation.longName)\n\t\t\t.on('click', (event) => {\n\t\t\t\tconst marker = self.markers[loc.id];\n\n\t\t\t\tthis.props.mapStore.setSelectedLocation(event, marker, theLocation);\n\t\t\t})\n\t\t\t.addTo(this.map)\n\t\t;\n\t\tthis.setMarkerType(this.markers[loc.id], loc);\n\t}\n\tsetMarkerType(marker, loc) {\n\t\tconst typeClasses = {\n\t\t\tUNAVAILABLE: 'leaflet-marker-icon-unavailable',\n\t\t\tAVAILABLE: 'leaflet-marker-icon-unavailable',\n\t\t\tHIGHLIGHT: 'leaflet-marker-icon-highlight',\n\t\t};\n\n\t\tObject.keys(typeClasses).forEach(item => {\n\t\t\tmarker._icon.classList.remove(typeClasses[item]);\n\t\t});\n\t\tmarker._icon.classList.add(typeClasses[loc.markerType]);\n\t}\n\tremoveMarker(markerId) {\n\t\tthis.markers[markerId].off('click');\n\t\tthis.map.removeLayer(this.markers[markerId]);\n\t\tdelete this.markers[markerId];\n\t}\n\trender() {\n\t\tconst lockClasses = classNames('fas', {\n\t\t\t'fa-lock-open': !this.props.mapStore.isLocked,\n\t\t\t'fa-lock': this.props.mapStore.isLocked\n\t\t});\n\t\tconst containerClasses = classNames('message-container', {'is-off-screen': !this.props.mapStore.isVisible})\n\n\t\treturn (\n\t\t\t<div ref={this.draggableRef} className={containerClasses}>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: this.state.containerWidth + 'px',\n\t\t\t\t\t\theight: this.state.containerHeight + 'px'\n\t\t\t\t\t}}\n\t\t\t\t\tclassName=\"message is-primary map-container has-background-grey-darker is-unselectable\"\n\t\t\t\t>\n\t\t\t\t\t<header className=\"message-header\" ref={this.draggableTarget}>\n\t\t\t\t\t\t<div className=\"buttons has-addons is-marginless\">\n\t\t\t\t\t\t\t<button onClick={this.zoomOut} className=\"button\">\n\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-search-minus\" /></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button onClick={this.zoomIn} className=\"button\">\n\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-search-plus\" /></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button title=\"Reset zoom and center\" onClick={this.resetToCenter} className=\"button\">\n\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-compress\" /></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div className=\"size-controls\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"width\" className=\"is-unselectable\">Width </label>\n\t\t\t\t\t\t\t\t\t<input value={this.props.mapStore.containerWidth || 565} type=\"range\" id=\"width\" min=\"565\" max=\"2000\" step={20} onChange={this.onChangeWidth} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"height\" className=\"is-unselectable\">Height </label>\n\t\t\t\t\t\t\t\t\t<input value={this.props.mapStore.containerHeight || 640} type=\"range\" id=\"height\" min=\"640\" max=\"2000\" step={20} onChange={this.onChangeHeight} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"buttons has-addons is-marginless\">\n\t\t\t\t\t\t\t<button onClick={this.props.mapStore.showHelp} className=\"button\"><span className=\"icon\"><i className=\"fas fa-question\" /></span></button>\n\t\t\t\t\t\t\t<button onClick={this.toggleWindowLock} className=\"button\"><span className=\"icon\"><i className={lockClasses} /></span></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</header>\n\t\t\t\t\t<div className=\"message-body map-body\">\n\t\t\t\t\t\t<div id={`map-${this.props.id}`} ref={this.mapRef} className=\"map\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<LocationDetail mapStore={this.props.mapStore} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}));\n\nexport default Map;\n","import React, { Component, createRef } from 'react';\nimport classNames from 'classnames';\nimport {inject, observer} from \"mobx-react\";\n\nconst NavBar = inject('store')(observer(class NavBar extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.toggleMenu = this.toggleMenu.bind(this);\n\t\tthis.toggleMapVisibility = this.toggleMapVisibility.bind(this);\n\t\tthis.menu = createRef();\n\t\tthis.burger = createRef();\n\t}\n\n\tstate = {\n\t\tisMenuActive: false,\n\t}\n\n\ttoggleMenu() {\n\t\tthis.setState({isMenuActive: !this.state.isMenuActive});\n\t}\n\n\ttoggleMapVisibility(mapName) {\n\t\tconst map = this.props.store.getMapByName(mapName);\n\n\t\tmap.setMapVisibility(!map.isVisible);\n\t}\n\tgenerateMapVisibilityButtons() {\n\t\tconst buttons = [];\n\n\t\t[...this.props.store.maps.values()].forEach((map, i) => {\n\t\t\tconst mapClasses = classNames('fas', {\n\t\t\t\t'fa-eye': !map.isVisible,\n\t\t\t\t'fa-eye-slash': map.isVisible,\n\t\t\t});\n\n\t\t\tbuttons.push(\n\t\t\t\t<div key={`map-button-${map.id}`} className=\"navbar-item\">\n\t\t\t\t\t<button onClick={() => map.setMapVisibility(!map.isVisible)} className=\"button is-fullwidth\">\n\t\t\t\t\t\t<span className=\"icon\"><i className={mapClasses} /></span>\n\t\t\t\t\t\t<span>{map.longName}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t\treturn buttons;\n\t}\n\trender() {\n\t\tconst burgerClasses = classNames('navbar-burger', 'burger', {'is-active': this.state.isMenuActive});\n\t\tconst menuClasses = classNames('navbar-menu', {'is-active': this.state.isMenuActive});\n\t\tconst mapVisibilityButtons = this.generateMapVisibilityButtons();\n\n\t\treturn (\n\t\t\t<nav className=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n\t\t\t\t<div className=\"navbar-brand\">\n\t\t\t\t\t<a className=\"navbar-item\" href=\"#\">\n\t\t\t\t\t\t<strong className=\"navbar-brand-title is-uppercase\">Zetroid Tracker</strong>\n\t\t\t\t\t</a>\n\n\t\t\t\t\t<a onClick={this.toggleMenu} ref={this.burger} role=\"button\" className={burgerClasses} aria-label=\"menu\" aria-expanded=\"false\"\n\t\t\t\t\t   data-target=\"navbarBasicExample\">\n\t\t\t\t\t\t<span aria-hidden=\"true\" />\n\t\t\t\t\t\t<span aria-hidden=\"true\" />\n\t\t\t\t\t\t<span aria-hidden=\"true\" />\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\n\t\t\t\t<div ref={this.menu} className={menuClasses}>\n\t\t\t\t\t<div className=\"navbar-start\">\n\t\t\t\t\t\t<div className=\"navbar-item has-dropdown is-hoverable\">\n\t\t\t\t\t\t\t<a className=\"navbar-link\">\n\t\t\t\t\t\t\t\tFile\n\t\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t\t<div className=\"navbar-dropdown\">\n\t\t\t\t\t\t\t\t<a className=\"navbar-item\" onClick={() => this.props.store.openModal('FILE_IMPORT')}>\n\t\t\t\t\t\t\t\t\tImport\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<a className=\"navbar-item\" onClick={() => this.props.store.openModal('FILE_EXPORT')}>\n\t\t\t\t\t\t\t\t\tExport\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"navbar-item has-dropdown is-hoverable\">\n\t\t\t\t\t\t\t<a className=\"navbar-link\">\n\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t\t<div className=\"navbar-dropdown\">\n\t\t\t\t\t\t\t\t{mapVisibilityButtons}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"navbar-end\">\n\t\t\t\t\t\t<div className=\"navbar-item\">\n\t\t\t\t\t\t\t<button onClick={this.props.store.flushLocalStorage} className=\"button is-danger\">\n\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-broom\" /></span>\n\t\t\t\t\t\t\t\t<span>Flush local storage</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"navbar-item\">\n\t\t\t\t\t\t\t<button className=\"button\">\n\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-cog\" /></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n}));\n\nexport default NavBar;\n","import React, { Component } from 'react';\nimport {inject, observer} from 'mobx-react';\nimport classNames from 'classnames';\n\nclass Modal extends Component {\n\trender() {\n\t\tconst modalClasses = classNames('modal', {'is-active': this.props.store.isModalOpen});\n\n\t\treturn (\n\t\t\t<div className={modalClasses}>\n\t\t\t\t<div className=\"modal-background\" />\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default inject('store')(observer(Modal));\n","import React, { Component, createRef } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport { get } from 'lodash';\n\nclass FileImportModal extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.snapshotRef = createRef();\n\t}\n\tstate = {\n\t\tsnapshot: '',\n\t}\n\trender() {\n\t\tconst validationMessages = get(this, 'props.store.validationMessages', []);\n\n\t\treturn (\n\t\t\t<div className=\"modal-card\">\n\t\t\t\t<header className=\"modal-card-head\">\n\t\t\t\t\t<p className=\"modal-card-title\">Import generated JSON</p>\n\t\t\t\t\t<button className=\"delete\" aria-label=\"close\" onClick={this.props.store.closeModal} />\n\t\t\t\t</header>\n\t\t\t\t<section className=\"modal-card-body\">\n\t\t\t\t\t<p>Paste JSON to load a previously saved state of the application.</p>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tclassName=\"is-fullwidth textarea\"\n\t\t\t\t\t\t\t\tplaceholder=\"Paste JSON here...\"\n\t\t\t\t\t\t\t\tref={this.snapshotRef}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"validation-error is-danger\">\n\t\t\t\t\t\t{validationMessages.map((message, i) => <p className=\"has-text-danger\" key={`message-${i}`}>{message}</p>)}\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<footer className=\"modal-card-foot\">\n\t\t\t\t\t<button className=\"button is-success\" onClick={() => this.props.store.loadSnapshot(this.snapshotRef.current.value)}>Load</button>\n\t\t\t\t\t<button className=\"button\" onClick={this.props.store.closeModal}>Cancel</button>\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default inject('store')(observer(FileImportModal));\n","import React, { Component } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport { getSnapshot } from 'mobx-state-tree';\n\nclass FileExportModal extends Component {\n\t// constructor() {\n\t// \tsuper();\n\t// \tthis.snapshotRef = createRef();\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"modal-card\">\n\t\t\t\t<header className=\"modal-card-head\">\n\t\t\t\t\t<p className=\"modal-card-title\">Export generated JSON</p>\n\t\t\t\t\t<button className=\"delete\" aria-label=\"close\" onClick={this.props.store.closeModal} />\n\t\t\t\t</header>\n\t\t\t\t<section className=\"modal-card-body\">\n\t\t\t\t\t<p>Copy the JSON below to save the state of the application.</p>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\treadOnly={true}\n\t\t\t\t\t\t\t\tclassName=\"is-fullwidth textarea\"\n\t\t\t\t\t\t\t\tvalue={JSON.stringify(getSnapshot(this.props.store))}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<footer className=\"modal-card-foot\">\n\t\t\t\t\t<button className=\"button is-success\">Copy (not working, lol)</button>\n\t\t\t\t\t<button className=\"button\" onClick={this.props.store.closeModal}>Cancel</button>\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default inject('store')(observer(FileExportModal));\n","import { v4 } from 'uuid';\n\nexport const randomId = () => {\n\treturn v4();\n}","import React, { Component } from 'react';\nimport { observer, Provider } from 'mobx-react';\nimport Map from 'Map';\nimport NavBar from 'NavBar';\nimport Modal from 'Modal';\nimport FileImportModal from 'FileImportModal';\nimport FileExportModal from 'FileExportModal';\nimport { randomId } from './util';\nimport 'scss/App.scss';\n\nclass App extends Component {\n\t// constructor() {\n\t// \tsuper();\n\t// }\n\n\tcomponentDidMount() {\n\t}\n\n\tgenerateMaps() {\n\t\tconst maps = [];\n\n\t\t[...this.props.store.maps.values()].forEach(map => {\n\t\t\tmaps.push(\n\t\t\t\t<Map\n\t\t\t\t\tkey={`map-${map.id}`}\n\t\t\t\t\tmapStore={map}\n\t\t\t\t\tlocations={[...map.locations.values()]}\n\t\t\t\t\tid={randomId()}\n\t\t\t\t\ttileLayerTemplate={map.tileLayerTemplate}\n\t\t\t\t/>\n\t\t\t)\n\t\t});\n\t\treturn maps;\n\t}\n\trender() {\n\t\tconst store = this.props.store;\n\t\tlet modal = null;\n\n\t\tif (store.isModalOpen) {\n\t\t\tswitch (store.activeModal) {\n\t\t\t\tcase 'FILE_IMPORT':\n\t\t\t\t\tmodal = <FileImportModal/>;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'FILE_EXPORT':\n\t\t\t\t\tmodal = <FileExportModal/>;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<Provider store={store}>\n\t\t\t\t<div>\n\t\t\t\t\t{/*{[...this.props.store.items.values()].map(item => <img src={item.image} />)}*/}\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t{this.generateMaps()}\n\t\t\t\t\t<Modal>\n\t\t\t\t\t\t{modal}\n\t\t\t\t\t</Modal>\n\t\t\t\t\t{/*<Map\n\t\t\t\t\t\tmapStore={this.props.store.getMapByName('zelda3-dw')}\n\t\t\t\t\t\tid={randomId()}\n\t\t\t\t\t\ttileLayerTemplate={`${process.env.PUBLIC_URL}/img/maps/zelda3/dw/{z}/zelda3-dw.{x}.{y}.png`}\n\t\t\t\t\t/>*/}\n\t\t\t\t\t{/*<Map\n\t\t\t\t\t\tid={randomId()}\n\t\t\t\t\t\tmapOptions={{\n\t\t\t\t\t\t\tcenter: [-560,640],\n\t\t\t\t\t\t\tzoom: 0,\n\t\t\t\t\t\t\tmaxBounds: [[0,0], [-1120, 1280]],\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttileLayerTemplate={`${process.env.PUBLIC_URL}/img/maps/metroid3/zebes/{z}/metroid3-zebes.{x}.{y}.png`}\n\t\t\t\t\t\ttileLayerOptions={{\n\t\t\t\t\t\t\tminZoom: -1,\n\t\t\t\t\t\t\tmaxZoom: 2,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmapWidth={1280}\n\t\t\t\t\t\tmapHeight={1120}\n\t\t\t\t\t/>*/}\n\t\t\t\t</div>\n\t\t\t</Provider>\n\t\t);\n\t}\n}\n\nexport default observer(App);\n","import { types } from 'mobx-state-tree';\n\nconst Game = types\n\t.model({\n\t\tid: types.identifier,\n\t\tname: types.string,\n\t\tlongName: types.string,\n\t\tselected: false,\n\t})\n\t.actions((self) => {\n\t\tconst setSelected = (state) => {\n\t\t\tself.selected = state;\n\t\t};\n\n\t\treturn {\n\t\t\tsetSelected,\n\t\t};\n\t})\n;\n\nexport default Game;\n","import { types } from 'mobx-state-tree';\nimport GameStore from 'Game.store';\n\nconst ItemStore = types.model({\n\tid: types.identifier,\n\tname: types.string,\n\tlongName: types.string,\n\tactive: false,\n\timage: '',\n\tgame: types.reference(GameStore),\n\tacquired: false,\n});\n\nexport default ItemStore;\n","import { types, getRoot } from 'mobx-state-tree';\nimport GameStore from 'Game.store';\n\nconst LocationStore = types\n\t.model({\n\t\tid: types.identifier,\n\t\tname: types.string,\n\t\tlongName: types.string,\n\t\timage: '',\n\t\tgame: types.reference(GameStore),\n\t\tcoords: types.array(types.integer),\n\t\titemRequirements: types.array(types.string),\n\t\tmarkerType: types.optional(types.enumeration('Marker Type', ['UNAVAILABLE', 'AVAILABLE', 'COMPLETE', 'HIGHLIGHT']), 'UNAVAILABLE'),\n\t})\n\t.views((self) => ({\n\t\tget details() {\n\t\t\tlet itemRequirements;\n\n\t\t\tif (self.itemRequirements) {\n\t\t\t\titemRequirements = self.itemRequirements.map(req => getRoot(self).getItemByName(req))\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tlongName: self.longName,\n\t\t\t\titemRequirements,\n\t\t\t};\n\t\t},\n\t\tget defaultMarkerType() {\n\t\t\treturn 'UNAVAILABLE';\n\t\t},\n\t\tget tooltipContent() {\n\t\t\treturn self.longName;\n\t\t},\n\t}))\n\t.actions((self) => {\n\t\tconst setMarkerType = (type) => {\n\t\t\tself.markerType = type;\n\t\t};\n\n\t\treturn {\n\t\t\tsetMarkerType,\n\t\t};\n\t})\n;\n\nexport default LocationStore;\n","import { types } from 'mobx-state-tree';\nimport GameStore from 'Game.store';\nimport LocationStore from 'Location.store';\n\nconst MapStore = types\n\t.model({\n\t\tid: types.identifier,\n\t\tname: types.string,\n\t\tlongName: types.string,\n\t\tgame: types.reference(GameStore),\n\t\tlocations: types.map(LocationStore),\n\t\tselectedLocation: types.maybe(types.reference(LocationStore)),\n\t\tdisplayHelp: true,\n\t\tisVisible: true,\n\t\ttileLayerTemplate: types.string,\n\t\toffset: 0,\n\t\tx: types.optional(types.maybeNull(types.number), null),\n\t\ty: types.optional(types.maybeNull(types.number), null),\n\t\tcontainerWidth: types.optional(types.maybeNull(types.number), null),\n\t\tcontainerHeight: types.optional(types.maybeNull(types.number), null),\n\t\tisLocked: false,\n\t})\n\t.volatile(() => ({\n\t\tcomponent: {},\n\t}))\n\t.views((self) => ({\n\t\tget selectedLocationDetails() {\n\t\t\treturn self.selectedLocation.details;\n\t\t},\n\t}))\n\t.actions((self) => {\n\t\tconst setComponent = (component) => {\n\t\t\tself.component = component;\n\t\t};\n\t\tconst setSelectedLocation = (event, marker, mapStoreLocation) => {\n\t\t\tself.selectedLocation = mapStoreLocation;\n\t\t\tself.displayHelp = false;\n\t\t}\n\t\tconst showHelp = () => {\n\t\t\tself.displayHelp = true;\n\t\t}\n\t\tconst setMapVisibility = (isVisible) => {\n\t\t\tself.isVisible = isVisible;\n\t\t}\n\t\tconst setPos = (newPos) => {\n\t\t\tself.x = newPos.x;\n\t\t\tself.y = newPos.y;\n\t\t}\n\t\tconst setWidth = (newWidth) => {\n\t\t\tself.containerWidth = newWidth;\n\t\t}\n\t\tconst setHeight = (newHeight) => {\n\t\t\tself.containerHeight = newHeight;\n\t\t}\n\t\tconst setLocked = (isLocked) => {\n\t\t\tself.isLocked = isLocked;\n\t\t};\n\n\t\treturn {\n\t\t\tsetComponent,\n\t\t\tsetSelectedLocation,\n\t\t\tshowHelp,\n\t\t\tsetMapVisibility,\n\t\t\tsetPos,\n\t\t\tsetWidth,\n\t\t\tsetHeight,\n\t\t\tsetLocked,\n\t\t};\n\t})\n;\n\nexport default MapStore;\n","import { types, applySnapshot } from 'mobx-state-tree';\nimport GameStore from './Game.store';\nimport ItemStore from './Item.store';\nimport MapStore from 'Map.store';\nimport { find } from 'lodash';\n\nconst AppStore = types\n\t.model({\n\t\tgames: types.map(GameStore),\n\t\titems: types.map(ItemStore),\n\t\tmaps: types.map(MapStore),\n\t\tisModalOpen: false,\n\t\tactiveModal: types.maybeNull(types.enumeration('Modals', ['FILE_IMPORT', 'FILE_EXPORT'])),\n\t\tvalidationMessages: types.array(types.string),\n\t\tLOCAL_STORAGE_KEY: 'zetroid-tracker',\n\t})\n\t.views((self) => ({\n\t\tgetGameByName: (name) => {\n\t\t\treturn find([...self.games.values()], { name });\n\t\t},\n\t\tgetMapByName: (name) => {\n\t\t\treturn find([...self.maps.values()], { name });\n\t\t},\n\t\tgetItemByName: (name) => {\n\t\t\treturn find([...self.items.values()], { name });\n\t\t},\n\t\tget selectedGame() {\n\t\t\treturn find([...self.games.values()], { selected: true });\n\t\t}\n\t}))\n\t.actions((self) => {\n\t\tconst selectGame = (gameToSelect) => {\n\t\t\tconst selectedGame = self.getGameByName(gameToSelect);\n\n\t\t\t[...self.games.values()].forEach((game) => {\n\t\t\t\tif (selectedGame === game) {\n\t\t\t\t\tgame.setSelected(true);\n\t\t\t\t} else {\n\t\t\t\t\tgame.setSelected(false);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tconst openModal = (modalName) => {\n\t\t\tself.isModalOpen = true;\n\t\t\tself.activeModal = modalName;\n\t\t};\n\t\tconst closeModal = () => {\n\t\t\tself.activeModal = null;\n\t\t\tself.isModalOpen = false;\n\t\t};\n\t\tconst loadSnapshot = (json) => {\n\t\t\tlet parsedJson;\n\n\t\t\ttry {\n\t\t\t\tparsedJson = JSON.parse(json);\n\t\t\t\tself.closeModal();\n\t\t\t\tapplySnapshot(self, parsedJson);\n\n\t\t\t} catch (error) {\n\t\t\t\t// Invalid JSON\n\t\t\t\tself.validationMessages = ['Invalid JSON.'];\n\t\t\t}\n\t\t};\n\t\tconst flushLocalStorage = () => {\n\t\t\tif (window.localStorage) {\n\t\t\t\twindow.localStorage.removeItem(self.LOCAL_STORAGE_KEY);\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tselectGame,\n\t\t\topenModal,\n\t\t\tcloseModal,\n\t\t\tloadSnapshot,\n\t\t\tflushLocalStorage,\n\t\t};\n\t})\n;\n\nexport default AppStore;\n","const itemsData = [\n\t{ name: 'mp-upgrade-11',  longName: '1/1 Magic',         game: 'zelda3', image: 'mpupgrade0', },\n\t{ name: 'mp-upgrade-12',  longName: '1/2 Magic',         game: 'zelda3', image: 'mpupgrade0', },\n\t{ name: 'mp-upgrade-14',  longName: '1/4 Magic',         game: 'zelda3', image: 'mpupgrade0', },\n\t{ name: 'agahnim-alive',  longName: 'Agahnim',           game: 'zelda3', image: 'agahnim0', },\n\t{ name: 'agahnim-dead',   longName: 'Agahnim Defeated',  game: 'zelda3', image: 'agahnim1', },\n\t// { name: 'arrow-upgrade',  longName: 'Arrow Upgrade',     game: 'zelda3', image: '', },\n\t{ name: 'blue-mail',      longName: 'Blue Mail',         game: 'zelda3', image: 'tunic2', },\n\t{ name: 'boomerang',      longName: 'Boomerang',         game: 'zelda3', image: 'boomerang1', },\n\t{ name: 'book',           longName: 'Book of Mudora',    game: 'zelda3', image: 'book', },\n\t{ name: 'bomb',           longName: 'Bomb',              game: 'zelda3', image: 'bomb1', },\n\t{ name: 'oj-bomb',        longName: 'Bomb',              game: 'zelda3', image: 'bomb2', },\n\t{ name: 'bombos',         longName: 'Bombos Medallion',  game: 'zelda3', image: 'bombos', },\n\t{ name: 'bottle',         longName: 'Bottle',            game: 'zelda3', image: 'bottle0', },\n\t{ name: 'bow',            longName: 'Bow',               game: 'zelda3', image: 'bow', },\n\t{ name: 'net',            longName: 'Bug-Catching Net',  game: 'zelda3', image: 'net', },\n\t{ name: 'somaria',        longName: 'Cane of Somaria',   game: 'zelda3', image: 'somaria', },\n\t{ name: 'byrna',          longName: 'Cane of Byrna',     game: 'zelda3', image: 'byrna', },\n\t{ name: 'ether',          longName: 'Ether Medallion',   game: 'zelda3', image: 'ether', },\n\t{ name: 'shield',         longName: 'Fighters Shield',  game: 'zelda3', image: 'shield1', },\n\t{ name: 'sword',          longName: 'Fighters Sword',   game: 'zelda3', image: 'sword1', },\n\t{ name: 'fire-rod',       longName: 'Fire Rod',          game: 'zelda3', image: 'firerod', },\n\t{ name: 'flute',          longName: 'Flute',             game: 'zelda3', image: 'flute', },\n\t{ name: 'jerkin',         longName: 'Green Jerkin',      game: 'zelda3', image: 'tunic1', },\n\t{ name: 'golden-sword',   longName: 'Golden Sword',      game: 'zelda3', image: 'sword4', },\n\t{ name: 'heart-c',        longName: 'Heart Container',   game: 'zelda3', image: 'heartcontainer', },\n\t{ name: 'heart-p',        longName: 'Heart Piece',       game: 'zelda3', image: 'heartpiece', },\n\t{ name: 'hookshot',       longName: 'Hookshot',          game: 'zelda3', image: 'hookshot', },\n\t{ name: 'ice-rod',        longName: 'Ice Rod',           game: 'zelda3', image: 'icerod', },\n\t{ name: 'lantern',        longName: 'Lantern',           game: 'zelda3', image: 'lantern', },\n\t{ name: 'm-boomerang',    longName: 'Magical Boomerang', game: 'zelda3', image: 'boomerang2', },\n\t{ name: 'cape',           longName: 'Magic Cape',        game: 'zelda3', image: 'cape', },\n\t{ name: 'hammer',         longName: 'Magic Hammer',      game: 'zelda3', image: 'hammer', },\n\t{ name: 'powder',         longName: 'Magic Powder',      game: 'zelda3', image: 'powder', },\n\t{ name: 'mirror',         longName: 'Magic Mirror',      game: 'zelda3', image: 'mirror', },\n\t{ name: 'master-sword',   longName: 'Master Sword',      game: 'zelda3', image: 'sword2', },\n\t{ name: 'mirror-shield',  longName: 'Mirror Shield',     game: 'zelda3', image: 'shield3', },\n\t{ name: 'moon-pearl',     longName: 'Moon Pearl',        game: 'zelda3', image: 'moonpearl', },\n\t{ name: 'mushroom',       longName: 'Mushroom',          game: 'zelda3', image: 'mushroom', },\n\t{ name: 'boots',          longName: 'Pegasus Boots',     game: 'zelda3', image: 'boots', },\n\t{ name: 'glove',          longName: 'Power Glove',       game: 'zelda3', image: 'glove1', },\n\t{ name: 'quake',          longName: 'Quake Medallion',   game: 'zelda3', image: 'quake', },\n\t{ name: 'red-mail',       longName: 'Red Mail',          game: 'zelda3', image: 'tunic3', },\n\t{ name: 'red-shield',     longName: 'Red Shield',        game: 'zelda3', image: 'shield2', },\n\t{ name: 'shovel',         longName: 'Shovel',            game: 'zelda3', image: 'shovel', },\n\t{ name: 's-arrow',        longName: 'Silver Arrow',      game: 'zelda3', image: 'silvers', },\n\t{ name: 'tempered-sword', longName: 'Tempered Sword',    game: 'zelda3', image: 'sword3', },\n\t{ name: 'titan-mitt',     longName: 'Titans Mitt',      game: 'zelda3', image: 'glove2', },\n\t{ name: 'flippers',       longName: 'Zoras Flippers',   game: 'zelda3', image: 'flippers', },\n\n\n\n\n\n\t{ name: 'bracelet', longName: 'Power Bracelet', game: 'zelda1', },\n\t{ name: 'lantern', longName: 'Lantern', game: 'zelda1', },\n\t{ name: 'food', longName: 'Food', game: 'zelda1', },\n\t{ name: 'ladder', longName: 'Ladder', game: 'zelda1', },\n\t{ name: 'letter', longName: 'Letter', game: 'zelda1', },\n\t{ name: 'm-key', longName: 'Magic Key', game: 'zelda1', },\n\t{ name: 'm-rod', longName: 'Magic Rod', game: 'zelda1', },\n\t{ name: 'raft', longName: 'Raft', game: 'zelda1', },\n\t{ name: 'recorder', longName: 'Recorder', game: 'zelda1', },\n\t{ name: 'ring', longName: 'Red Ring', game: 'zelda1', },\n\t{ name: 'triforce-1', longName: 'Triforce Piece 1', game: 'zelda1', },\n\t{ name: 'triforce-2', longName: 'Triforce Piece 2', game: 'zelda1', },\n\t{ name: 'triforce-3', longName: 'Triforce Piece 3', game: 'zelda1', },\n\t{ name: 'triforce-4', longName: 'Triforce Piece 4', game: 'zelda1', },\n\t{ name: 'triforce-5', longName: 'Triforce Piece 5', game: 'zelda1', },\n\t{ name: 'triforce-6', longName: 'Triforce Piece 6', game: 'zelda1', },\n\t{ name: 'triforce-7', longName: 'Triforce Piece 7', game: 'zelda1', },\n\t{ name: 'triforce-8', longName: 'Triforce Piece 8', game: 'zelda1', },\n\t{ name: 'charge', longName: 'Charge Beam', game: 'metroid3', },\n\t{ name: 'ice', longName: 'Ice Beam', game: 'metroid3', },\n\t{ name: 'wave', longName: 'Wave Beam', game: 'metroid3', },\n\t{ name: 'spazer', longName: 'Spazer', game: 'metroid3', },\n\t{ name: 'plasma', longName: 'Plasma', game: 'metroid3', },\n\t{ name: 'varia', longName: 'Varia Suit', game: 'metroid3', },\n\t{ name: 'gravity', longName: 'Gravity Suit', game: 'metroid3', },\n\t{ name: 'morph', longName: 'Morph Ball', game: 'metroid3', },\n\t{ name: 'bombs', longName: 'Bombs', game: 'metroid3', },\n\t{ name: 'spring', longName: 'Spring Ball', game: 'metroid3', },\n\t{ name: 'screw', longName: 'Screw Attack', game: 'metroid3', },\n\t{ name: 'jump', longName: 'High Jump Boots', game: 'metroid3', },\n\t{ name: 'space', longName: 'Space Jump', game: 'metroid3', },\n\t{ name: 'speed', longName: 'Speed Booster', game: 'metroid3', },\n\t{ name: 'missile', longName: 'Missle', game: 'metroid3', },\n\t{ name: 's-missile', longName: 'Super Missle', game: 'metroid3', },\n\t{ name: 'powerbomb', longName: 'Powerbomb', game: 'metroid3', },\n\t{ name: 'grappling', longName: 'Grappling Hook', game: 'metroid3', },\n\t{ name: 'xray', longName: 'X-Ray Scanner', game: 'metroid3', },\n\t{ name: 'kraid', longName: 'Kraid', game: 'metroid3', },\n\t{ name: 'phantoon', longName: 'Phantoon', game: 'metroid3', },\n\t{ name: 'draygon', longName: 'Draygon', game: 'metroid3', },\n\t{ name: 'ridley', longName: 'Ridley', game: 'metroid3', },\n\t{ name: 'etank', longName: 'Energy Tank', game: 'metroid3', },\n\t{ name: 'rtank', longName: 'Reserve Tank', game: 'metroid3', },\n\t{ name: 'long', longName: 'Long Beam', game: 'metroid1', },\n\t{ name: 'kraidtotem', longName: 'Kraid Totem', game: 'metroid1', },\n\t{ name: 'ridleytotem', longName: 'Ridley Totem', game: 'metroid1', },\n\t// Zelda 3 bosses\n\t// { name: 'boss0', longName: '', },\n\t// { name: 'boss1', longName: '', },\n\t// { name: 'boss2', longName: '', },\n\t// { name: 'boss3', longName: '', },\n\t// { name: 'boss4', longName: '', },\n\t// { name: 'boss5', longName: '', },\n\t// { name: 'boss6', longName: '', },\n\t// { name: 'boss7', longName: '', },\n\t// { name: 'boss8', longName: '', },\n\t// { name: 'boss9', longName: '', },\n\t// { name: 'boss10', longName: '', },\n];\n\nexport default itemsData;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'App';\nimport { unprotect, applySnapshot, getSnapshot, destroy, onSnapshot } from 'mobx-state-tree';\nimport { randomId } from './util';\nimport AppStore from 'App.store';\nimport MapStore from 'Map.store';\nimport GameStore from 'Game.store';\nimport { gamesData, locationsData } from 'data/data';\nimport ItemStore from 'Item.store';\nimport itemsData from 'data/items';\nimport LocationStore from 'Location.store';\nimport * as serviceWorker from 'serviceWorker';\n\nconst appStore = AppStore.create({\n\tid: randomId(),\n\tgames: {},\n\titems: {},\n\tmaps: {},\n});\n\nunprotect(appStore);\n// Create game models\ngamesData.forEach((game) => {\n\tappStore.games.put(GameStore.create({\n\t\tid: randomId(),\n\t\tname: game.name,\n\t\tlongName: game.longName,\n\t}));\n});\n// Create map models.\nappStore.maps.put(MapStore.create({\n\tid: randomId(),\n\tname: 'zelda3-lw',\n\tlongName: 'Light World Map',\n\tgame: appStore.getGameByName('zelda3'),\n\ttileLayerTemplate: `${process.env.PUBLIC_URL}/img/maps/zelda3/lw/{z}/zelda3-lw.{x}.{y}.png`,\n\tlocations: {},\n}));\n// appStore.maps.put(MapStore.create({\n// \tid: randomId(),\n// \tname: 'zelda3-dw',\n// \tlongName: 'Dark World Map',\n// \tgame: appStore.getGameByName('zelda3'),\n// \ttileLayerTemplate: `${process.env.PUBLIC_URL}/img/maps/zelda3/dw/{z}/zelda3-dw.{x}.{y}.png`,\n// \t// isVisible: false,\n// \tlocations: {},\n// \toffset: 100,\n// }));\n// Create item models.\nitemsData.forEach((item) => {\n\tappStore.items.put(ItemStore.create({\n\t\tid: randomId(),\n\t\tname: item.name,\n\t\tlongName: item.longName,\n\t\tgame: appStore.getGameByName(item.game),\n\t\timage: `${process.env.PUBLIC_URL}/img/items/zelda3/${item.image}.png`,\n\t}));\n});\n// Create location models.\nlocationsData.forEach(loc => {\n\tconst selectedMap = appStore.getMapByName(loc.map);\n\n\tselectedMap.locations.put(LocationStore.create({\n\t\tid: `loc-${randomId()}`,\n\t\tname: loc.name,\n\t\tlongName: loc.longName,\n\t\tcoords: loc.coords,\n\t\tgame: appStore.getGameByName(loc.game),\n\t\titemRequirements: loc.itemRequirements,\n\t}));\n\n});\n// Select the game.\nappStore.selectGame('zelda3');\n// Globals to help with debugging.\n// appStore.games.set(zelda1.id, zelda1);\nwindow.applySnapshot = applySnapshot;\nwindow.getSnapshot = getSnapshot;\nwindow.destroy = destroy;\nwindow.appStore = appStore;\nwindow.mapStore = appStore.getMapByName('zelda3-lw');\n\nonSnapshot(appStore, model => {\n\tif (window.localStorage) {\n\t\twindow.localStorage.setItem(appStore.LOCAL_STORAGE_KEY, JSON.stringify(model))\n\t}\n});\nif (window.localStorage && window.localStorage.getItem(appStore.LOCAL_STORAGE_KEY)) {\n\tapplySnapshot(appStore, JSON.parse(window.localStorage.getItem(appStore.LOCAL_STORAGE_KEY)));\n}\nReactDOM.render(<App store={appStore} />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const gamesData = [\n\t{ name: 'zelda1', longName: 'The Legend of Zelda', },\n\t{ name: 'zelda3', longName: 'The Legend of Zelda: A Link to the Past' },\n\t{ name: 'metroid1', longName: 'Metroid' },\n\t{ name: 'metroid3', longName: 'Super Metroid' },\n];\nconst locationsData = [\n\t{\n\t\tname: 'linkhouse',\n\t\tlongName: 'Links House',\n\t\tcoords: [-2825,2240],\n\t\tgame: 'zelda3',\n\t\tmap: 'zelda3-lw',\n\t\titemRequirements: ['bomb', 'somaria', 'bottle', 'bow', 'net', 'golden-sword', 'cape', 'hammer'],\n\t},\n\t{\n\t\tname: 'hyrule-castle',\n\t\tlongName: 'Hyrule Castle',\n\t\tcoords: [-1800,2050],\n\t\tgame: 'zelda3',\n\t\tmap: 'zelda3-lw',\n\t\titemRequirements: ['boots', 'hookshot'],\n\t}\n];\n\nexport {\n\tgamesData,\n\tlocationsData,\n}\n"],"sourceRoot":""}
{"version":3,"sources":["Map.js","NavBar.js","Modal.js","FileImportModal.js","FileExportModal.js","util.js","ItemIcon.js","ItemIconList.js","LocationDetail.js","Item.js","ItemList.js","App.js","Game.store.js","Item.store.js","ItemList.store.js","Location.store.js","LocationDetail.store.js","Map.store.js","App.store.js","data/items.js","serviceWorker.js","index.js","data/data.js"],"names":["L","window","Map","_Component","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","markers","offsetWidth","offsetHeight","fitWidth","fitHeight","state","containerWidth","containerHeight","mapWidth","mapHeight","mapRef","createRef","draggableRef","draggableTarget","resize","debounce","zoomIn","bind","assertThisInitialized","zoomOut","toggleWindowLock","resetToCenter","addMarker","onResizeHandler","inherits","createClass","key","value","props","mapStore","setComponent","initMap","initDraggable","initReactions","_this2","map","concat","id","assign","crs","CRS","Simple","center","zoom","maxBounds","maxBoundsViscosity","attributionControl","zoomControl","mapOptions","camelCase","name","locations","forEach","loc","tileLayer","tileLayerTemplate","minZoom","maxZoom","nativeZooms","tileSize","point","tileLayerOptions","addTo","setZoom","_this3","draggable","Draggable","current","trigger","bounds","document","querySelector","liveSnap","Math","round","onDragEnd","setPos","x","endX","y","endY","self","autorun","hidden","keys","markerId","get","removeMarker","setProgression","enabled","isLocked","TweenLite","set","isNull","initPosition","setState","style","width","height","invalidateSize","toggleSnap","setLocked","setView","size","theLocation","marker","coords","bindTooltip","longName","on","event","locationDetail","setSelectedLocation","typeClasses","UNAVAILABLE","AVAILABLE","COMPLETE","FAVORITE","item","_icon","classList","remove","classToUse","isFavorite","progression","add","data","_data$size","newWidth","newHeight","setWidth","setHeight","off","removeLayer","lockClasses","classNames","fa-lock-open","fa-lock","containerClasses","is-off-screen","isVisible","react_default","a","createElement","ref","className","react_resizable","minConstraints","onResizeStop","onClick","title","windowRect","getBoundingClientRect","offset","Component","inject","observer","NavBar","isMenuActive","toggleMenu","toggleMapVisibility","menu","burger","mapName","store","getMapByName","setMapVisibility","buttons","toConsumableArray","maps","values","i","mapClasses","fa-eye","fa-eye-slash","push","burgerClasses","is-active","menuClasses","mapVisibilityButtons","generateMapVisibilityButtons","locDetailStore","locDetailClasses","hideCompletedClasses","hideCompleted","role","aria-label","href","aria-expanded","data-target","aria-hidden","openModal","setVisibility","setHideCompleted","flushLocalStorage","Modal","modalClasses","isModalOpen","children","FileImportModal","snapshot","snapshotRef","validationMessages","closeModal","placeholder","message","loadSnapshot","FileExportModal","readOnly","JSON","stringify","getSnapshot","randomId","v4","ItemIcon","image","src","alt","ItemIconList","items","length","src_ItemIcon","icons","iconText","result","imageSrc","icon","LocationDetail","progressionButton","selectedLocation","displayHelp","details","reqs","favoriteClasses","has-text-warning","mapInfoClasses","is-hidden","src_ItemIconList","setFavorite","Item","apply","arguments","itemListStore","itemList","itemClasses","is-not-acquired","acquired","is-item-group","group","activateNext","ItemList","onDragEndHandler","destination","sourceItem","find","index","source","destItem","updateOrder","react_beautiful_dnd_esm","droppableId","provided","dragElems","sortedItems","itemElem","getItemsByGroup","subItem","src_Item","draggableId","innerRef","draggableProps","dragHandleProps","App","src_Map","modal","activeModal","src_FileImportModal","src_FileExportModal","index_module","src_NavBar","generateMaps","src_LocationDetail","src_ItemList","src_Modal","Game","types","model","identifier","string","selected","actions","setSelected","ItemStore","maybeNull","optional","array","late","integer","groupIndex","game","reference","GameStore","maxQty","isDefault","views","process","acquire","newAcquired","getRoot","shouldAcquire","subItems","currentSubItem","nextGroupIndex","toggleAcquisition","setIndex","newIndex","ItemListStore","sortOrder","getItemByName","itemFound","itemGroups","filter","itemGroup","hasAcquiredAnyItemsInGroup","some","groupedItems","none","_arr","_i","groupName","sortBy","sourceItemIndex","destItemIndex","move","LocationStore","itemRequirements","enumeration","req","defaultMarkerType","tooltipContent","newFavorite","LocationDetailStore","selectedLocationDetails","mapStoreLocation","MapStore","maybe","number","volatile","component","showHelp","newPos","AppStore","games","LOCAL_STORAGE_KEY","shouldSync","getGameByName","selectedGame","selectGame","gameToSelect","modalName","json","parsedJson","parse","applySnapshot","error","localStorage","removeItem","isHidden","itemsData","Boolean","location","hostname","match","appStore","create","unprotect","put","isItemGroup","itemData","isUndefined","subItemData","destroy","onSnapshot","setItem","getItem","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9c4beefd.chunk.js","sourcesContent":["import React, { Component, createRef } from 'react';\nimport { autorun } from 'mobx';\nimport { observer, inject } from 'mobx-react';\nimport Draggable from 'gsap/Draggable';\nimport TweenLite from 'gsap/TweenLite';\nimport classNames from 'classnames';\nimport { debounce, camelCase, isNull } from 'lodash';\nimport { ResizableBox } from 'react-resizable';\nimport '../node_modules/react-resizable/css/styles.css';\n\nconst L = window.L;\nconst Map = class Map extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.mapRef = createRef();\n\t\tthis.draggableRef = createRef();\n\t\tthis.draggableTarget = createRef();\n\t\t// Throttle the expensive map resizing for spaz busting.\n\t\tthis.resize = debounce(this.resize, 500);\n\t\tthis.zoomIn = this.zoomIn.bind(this);\n\t\tthis.zoomOut = this.zoomOut.bind(this);\n\t\tthis.toggleWindowLock = this.toggleWindowLock.bind(this);\n\t\tthis.resetToCenter = this.resetToCenter.bind(this);\n\t\tthis.addMarker = this.addMarker.bind(this);\n\t\tthis.onResizeHandler = this.onResizeHandler.bind(this);\n\t}\n\n\tmarkers = {};\n\toffsetWidth = 53;\n\toffsetHeight = 108;\n\tfitWidth = 565;\n\tfitHeight = 619;\n\t// TODO take this out of state\n\tstate = {\n\t\tcontainerWidth: 565,\n\t\tcontainerHeight: 640,\n\t\tmapWidth: 512,\n\t\tmapHeight: 532,\n\t};\n\n\tcomponentDidMount() {\n\t\t// I may not need this.\n\t\tthis.props.mapStore.setComponent(this);\n\t\tthis.initMap();\n\t\tthis.initDraggable();\n\t\tthis.initReactions();\n\t}\n\tinitMap() {\n\t\tthis.map = L.map(`map-${this.props.id}`, Object.assign({}, {\n\t\t\tcrs: L.CRS.Simple,\n\t\t\tcenter: [-2128,2048],\n\t\t\tzoom: -3,\n\t\t\tmaxBounds: [[0,0], [-4256, 4096]],\n\t\t\tmaxBoundsViscosity: 1,\n\t\t\tattributionControl: false,\n\t\t\tzoomControl: false,\n\t\t}, this.props.mapOptions));\n\t\t// For debugging.\n\t\twindow[camelCase(this.props.mapStore.name)] = this.map;\n\t\tthis.props.locations.forEach(loc => {\n\t\t\tthis.addMarker(loc);\n\t\t});\n\t\tL.tileLayer(this.props.tileLayerTemplate, Object.assign({}, {\n\t\t\tminZoom: -3,\n\t\t\tmaxZoom: 2,\n\t\t\tnativeZooms: [0],\n\t\t\ttileSize: L.point(256, 224),\n\t\t}, this.props.tileLayerOptions)).addTo(this.map);\n\n\t\tthis.map.setZoom(-3);\n\t\tthis.resize();\n\t}\n\tinitDraggable() {\n\t\tthis.draggable = new Draggable(this.draggableRef.current, {\n\t\t\ttrigger: this.draggableTarget.current,\n\t\t\tbounds: document.querySelector('#main'),\n\t\t\t// No subpixel dragging.\n\t\t\tliveSnap: (value) => Math.round(value / 1),\n\t\t\tonDragEnd: () => {\n\t\t\t\tthis.props.mapStore.setPos({ x: this.draggable.endX, y: this.draggable.endY, });\n\t\t\t}\n\t\t});\n\t}\n\tinitReactions() {\n\t\tconst self = this;\n\n\t\tautorun(() => {\n\t\t\tself.props.locations.forEach((loc) => {\n\t\t\t\tif (!self.markers[loc.id]) {\n\t\t\t\t\tif (!loc.hidden) {\n\t\t\t\t\t\tself.addMarker(loc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tObject.keys(self.markers).forEach((markerId) => {\n\t\t\t\tconst loc = self.props.mapStore.locations.get(markerId);\n\n\t\t\t\tif (loc && loc.hidden) {\n\t\t\t\t\tself.removeMarker(markerId);\n\t\t\t\t} else if (!loc) {\n\t\t\t\t\tself.removeMarker(markerId);\n\t\t\t\t}\n\t\t\t});\n\t\t\tself.props.locations.forEach((loc) => {\n\t\t\t\tconst marker = self.markers[loc.id];\n\n\t\t\t\tif (!marker) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.setProgression(self.markers[loc.id], loc);\n\t\t\t});\n\t\t\tself.draggable.enabled(!self.props.mapStore.isLocked);\n\t\t\tTweenLite.set(self.draggableRef.current, {x: self.props.mapStore.x, y: self.props.mapStore.y });\n\t\t\tif (isNull(self.props.mapStore.x)) {\n\t\t\t\tTweenLite.set(self.draggableRef.current, self.initPosition);\n\t\t\t}\n\t\t});\n\t}\n\tresize() {\n\t\tif (!isNull(this.props.mapStore.containerWidth)) {\n\t\t\tthis.setState({\n\t\t\t\tcontainerWidth: this.props.mapStore.containerWidth,\n\t\t\t\tcontainerHeight: this.props.mapStore.containerHeight,\n\t\t\t\tmapWidth: this.props.mapStore.containerWidth - this.offsetWidth,\n\t\t\t\tmapHeight: this.props.mapStore.containerHeight - this.offsetHeight,\n\t\t\t});\n\t\t}\n\t\tthis.mapRef.current.style.width = this.state.mapWidth + 'px';\n\t\tthis.mapRef.current.style.height = this.state.mapHeight + 'px';\n\t\tthis.map.invalidateSize();\n\t}\n\tget initPosition() {\n\t\tconst windowRect = document.querySelector('body').getBoundingClientRect();\n\t\tconst width = this.state.containerWidth;\n\t\tconst x = (windowRect.width / 2) - (width / 2) + this.props.mapStore.offset;\n\t\tconst y = this.props.mapStore.offset + 50;\n\n\t\tthis.props.mapStore.setPos({ x, y });\n\t\treturn { x, y };\n\t}\n\tzoomIn() {\n\t\tthis.map.zoomIn();\n\t}\n\tzoomOut() {\n\t\tthis.map.zoomOut();\n\t}\n\ttoggleSnap() {\n\t\tthis.setState({ toggleSnap: !this.state.toggleSnap });\n\t}\n\ttoggleWindowLock() {\n\t\tthis.props.mapStore.setLocked(!this.props.mapStore.isLocked);\n\t}\n\tresetToCenter() {\n\t\tthis.map.setView([0,0], -3);\n\t\tthis.onResizeHandler(null, {\n\t\t\tsize: {\n\t\t\t\twidth: this.fitWidth,\n\t\t\t\theight: this.fitHeight,\n\t\t\t},\n\t\t});\n\t}\n\taddMarker(loc) {\n\t\tconst self = this;\n\t\tconst theLocation = this.props.mapStore.locations.get(loc.id);\n\n\t\tthis.markers[loc.id] = L\n\t\t\t.marker(loc.coords)\n\t\t\t.bindTooltip(theLocation.longName)\n\t\t\t.on('click', (event) => {\n\t\t\t\tconst marker = self.markers[loc.id];\n\n\t\t\t\tself.props.mapStore.locationDetail.setSelectedLocation(event, marker, theLocation);\n\t\t\t})\n\t\t\t.addTo(this.map)\n\t\t;\n\t\tthis.setProgression(this.markers[loc.id], loc);\n\t}\n\tsetProgression(marker, loc) {\n\t\tconst typeClasses = {\n\t\t\tUNAVAILABLE: 'leaflet-marker-icon-UNAVAILABLE',\n\t\t\tAVAILABLE: 'leaflet-marker-icon-AVAILABLE',\n\t\t\tCOMPLETE: 'leaflet-marker-icon-COMPLETE',\n\t\t\tFAVORITE: 'leaflet-marker-icon-HIGHLIGHT',\n\t\t};\n\n\t\tObject.keys(typeClasses).forEach(item => {\n\t\t\tmarker._icon.classList.remove(typeClasses[item]);\n\t\t});\n\t\tconst classToUse = loc.isFavorite ? typeClasses.FAVORITE : typeClasses[loc.progression];\n\t\tmarker._icon.classList.add(classToUse);\n\t}\n\tonResizeHandler(event, data) {\n\t\tconst { width: newWidth, height: newHeight } = data.size;\n\n\t\tthis.setState({\n\t\t\tcontainerWidth: newWidth,\n\t\t\tmapWidth: newWidth - this.offsetWidth,\n\t\t\tcontainerHeight: newHeight,\n\t\t\tmapHeight: newHeight - this.offsetHeight,\n\t\t});\n\t\tthis.props.mapStore.setWidth(newWidth);\n\t\tthis.props.mapStore.setHeight(newHeight);\n\t\tthis.resize();\n\t}\n\tremoveMarker(markerId) {\n\t\tthis.markers[markerId].off('click');\n\t\tthis.map.removeLayer(this.markers[markerId]);\n\t\tdelete this.markers[markerId];\n\t}\n\trender() {\n\t\tconst lockClasses = classNames('fas', {\n\t\t\t'fa-lock-open': !this.props.mapStore.isLocked,\n\t\t\t'fa-lock': this.props.mapStore.isLocked\n\t\t});\n\t\tconst containerClasses = classNames('message-container', {'is-off-screen': !this.props.mapStore.isVisible})\n\n\t\treturn (\n\t\t\t<div ref={this.draggableRef} className={containerClasses}>\n\t\t\t\t<ResizableBox\n\t\t\t\t\twidth={this.state.containerWidth}\n\t\t\t\t\theight={this.state.containerHeight}\n\t\t\t\t\tminConstraints={[256, 256]}\n\t\t\t\t\tonResizeStop={this.onResizeHandler}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"message is-primary map-container has-background-grey-darker is-unselectable\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<header className=\"message-header\" ref={this.draggableTarget}>\n\t\t\t\t\t\t\t<div className=\"buttons has-addons is-marginless\">\n\t\t\t\t\t\t\t\t<button onClick={this.zoomOut} className=\"button\">\n\t\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-search-minus\" /></span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button onClick={this.zoomIn} className=\"button\">\n\t\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-search-plus\" /></span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"buttons has-addons is-marginless\">\n\t\t\t\t\t\t\t\t<button title=\"Reset zoom and center\" onClick={this.resetToCenter} className=\"button\">\n\t\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-compress\" /></span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button onClick={this.toggleWindowLock} className=\"button\"><span className=\"icon\"><i className={lockClasses} /></span></button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<div className=\"message-body map-body\">\n\t\t\t\t\t\t\t<div id={`map-${this.props.id}`} ref={this.mapRef} className=\"map\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</ResizableBox>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nexport default inject('store')(observer(Map));\n","import React, { Component, createRef } from 'react';\nimport classNames from 'classnames';\nimport {inject, observer} from 'mobx-react';\nimport { get } from 'lodash';\n\nconst NavBar = class NavBar extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.toggleMenu = this.toggleMenu.bind(this);\n\t\tthis.toggleMapVisibility = this.toggleMapVisibility.bind(this);\n\t\tthis.menu = createRef();\n\t\tthis.burger = createRef();\n\t}\n\n\tstate = {\n\t\tisMenuActive: false,\n\t}\n\n\ttoggleMenu() {\n\t\tthis.setState({isMenuActive: !this.state.isMenuActive});\n\t}\n\n\ttoggleMapVisibility(mapName) {\n\t\tconst map = this.props.store.getMapByName(mapName);\n\n\t\tmap.setMapVisibility(!map.isVisible);\n\t}\n\tgenerateMapVisibilityButtons() {\n\t\tconst buttons = [];\n\n\t\t[...this.props.store.maps.values()].forEach((map, i) => {\n\t\t\tconst mapClasses = classNames('fas', {\n\t\t\t\t'fa-eye': !map.isVisible,\n\t\t\t\t'fa-eye-slash': map.isVisible,\n\t\t\t});\n\n\t\t\tbuttons.push(\n\t\t\t\t<div key={`map-button-${map.id}`} className=\"navbar-item\">\n\t\t\t\t\t<button onClick={() => map.setMapVisibility(!map.isVisible)} className=\"button is-fullwidth\">\n\t\t\t\t\t\t<span className=\"icon\"><i className={mapClasses} /></span>\n\t\t\t\t\t\t<span>{map.longName}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t\treturn buttons;\n\t}\n\trender() {\n\t\tconst burgerClasses = classNames('navbar-burger', 'burger', {'is-active': this.state.isMenuActive});\n\t\tconst menuClasses = classNames('navbar-menu', {'is-active': this.state.isMenuActive});\n\t\tconst mapVisibilityButtons = this.generateMapVisibilityButtons();\n\t\tconst locDetailStore = get(this, 'props.store.locationDetail');\n\t\tconst locDetailClasses = classNames('fas', {\n\t\t\t'fa-eye': !locDetailStore.isVisible,\n\t\t\t'fa-eye-slash': locDetailStore.isVisible,\n\t\t});\n\t\tconst hideCompletedClasses = classNames('fas', {\n\t\t\t'fa-eye': this.props.store.hideCompleted,\n\t\t\t'fa-eye-slash': !this.props.store.hideCompleted,\n\t\t});\n\n\t\treturn (\n\t\t\t<nav className=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n\t\t\t\t<div className=\"navbar-brand\">\n\t\t\t\t\t<a className=\"navbar-item\" href=\"#\">\n\t\t\t\t\t\t<strong className=\"navbar-brand-title is-uppercase\">Zetroid Tracker</strong>\n\t\t\t\t\t</a>\n\n\t\t\t\t\t<a onClick={this.toggleMenu} ref={this.burger} role=\"button\" className={burgerClasses} aria-label=\"menu\" aria-expanded=\"false\"\n\t\t\t\t\t   data-target=\"navbarBasicExample\">\n\t\t\t\t\t\t<span aria-hidden=\"true\" />\n\t\t\t\t\t\t<span aria-hidden=\"true\" />\n\t\t\t\t\t\t<span aria-hidden=\"true\" />\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\n\t\t\t\t<div ref={this.menu} className={menuClasses}>\n\t\t\t\t\t<div className=\"navbar-start\">\n\t\t\t\t\t\t<div className=\"navbar-item has-dropdown is-hoverable\">\n\t\t\t\t\t\t\t<a className=\"navbar-link\">\n\t\t\t\t\t\t\t\tFile\n\t\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t\t<div className=\"navbar-dropdown\">\n\t\t\t\t\t\t\t\t<a className=\"navbar-item\" onClick={() => this.props.store.openModal('FILE_IMPORT')}>\n\t\t\t\t\t\t\t\t\tImport\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<a className=\"navbar-item\" onClick={() => this.props.store.openModal('FILE_EXPORT')}>\n\t\t\t\t\t\t\t\t\tExport\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"navbar-item has-dropdown is-hoverable\">\n\t\t\t\t\t\t\t<a className=\"navbar-link\">\n\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t\t<div className=\"navbar-dropdown\">\n\t\t\t\t\t\t\t\t{mapVisibilityButtons}\n\t\t\t\t\t\t\t\t<div className=\"navbar-item\">\n\t\t\t\t\t\t\t\t\t<button onClick={() => locDetailStore.setVisibility(!locDetailStore.isVisible)} className=\"button is-fullwidth\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"icon\"><i className={locDetailClasses} /></span>\n\t\t\t\t\t\t\t\t\t\t<span>Location Details Panel</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"navbar-item\">\n\t\t\t\t\t\t\t\t\t<button onClick={() => this.props.store.setHideCompleted(!this.props.store.hideCompleted)} className=\"button is-fullwidth\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"icon\"><i className={hideCompletedClasses} /></span>\n\t\t\t\t\t\t\t\t\t\t<span>Hide Completed Locations</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"navbar-end\">\n\t\t\t\t\t\t<div className=\"navbar-item\">\n\t\t\t\t\t\t\t<button onClick={this.props.store.flushLocalStorage} className=\"button is-danger\">\n\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-broom\" /></span>\n\t\t\t\t\t\t\t\t<span>Flush local storage</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"navbar-item\">\n\t\t\t\t\t\t\t<button className=\"button\">\n\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-cog\" /></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n};\n\nexport default inject('store')(observer(NavBar));\n","import React, { Component } from 'react';\nimport {inject, observer} from 'mobx-react';\nimport classNames from 'classnames';\n\nclass Modal extends Component {\n\trender() {\n\t\tconst modalClasses = classNames('modal', {'is-active': this.props.store.isModalOpen});\n\n\t\treturn (\n\t\t\t<div className={modalClasses}>\n\t\t\t\t<div className=\"modal-background\" />\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default inject('store')(observer(Modal));\n","import React, { Component, createRef } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport { get } from 'lodash';\n\nclass FileImportModal extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.snapshotRef = createRef();\n\t}\n\tstate = {\n\t\tsnapshot: '',\n\t}\n\trender() {\n\t\tconst validationMessages = get(this, 'props.store.validationMessages', []);\n\n\t\treturn (\n\t\t\t<div className=\"modal-card\">\n\t\t\t\t<header className=\"modal-card-head\">\n\t\t\t\t\t<p className=\"modal-card-title\">Import generated JSON</p>\n\t\t\t\t\t<button className=\"delete\" aria-label=\"close\" onClick={this.props.store.closeModal} />\n\t\t\t\t</header>\n\t\t\t\t<section className=\"modal-card-body\">\n\t\t\t\t\t<p>Paste JSON to load a previously saved state of the application.</p>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tclassName=\"is-fullwidth textarea\"\n\t\t\t\t\t\t\t\tplaceholder=\"Paste JSON here...\"\n\t\t\t\t\t\t\t\tref={this.snapshotRef}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"validation-error is-danger\">\n\t\t\t\t\t\t{validationMessages.map((message, i) => <p className=\"has-text-danger\" key={`message-${i}`}>{message}</p>)}\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<footer className=\"modal-card-foot\">\n\t\t\t\t\t<button className=\"button is-success\" onClick={() => this.props.store.loadSnapshot(this.snapshotRef.current.value)}>Load</button>\n\t\t\t\t\t<button className=\"button\" onClick={this.props.store.closeModal}>Cancel</button>\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default inject('store')(observer(FileImportModal));\n","import React, { Component } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport { getSnapshot } from 'mobx-state-tree';\n\nclass FileExportModal extends Component {\n\t// constructor() {\n\t// \tsuper();\n\t// \tthis.snapshotRef = createRef();\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"modal-card\">\n\t\t\t\t<header className=\"modal-card-head\">\n\t\t\t\t\t<p className=\"modal-card-title\">Export generated JSON</p>\n\t\t\t\t\t<button className=\"delete\" aria-label=\"close\" onClick={this.props.store.closeModal} />\n\t\t\t\t</header>\n\t\t\t\t<section className=\"modal-card-body\">\n\t\t\t\t\t<p>Copy the JSON below to save the state of the application.</p>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\treadOnly={true}\n\t\t\t\t\t\t\t\tclassName=\"is-fullwidth textarea\"\n\t\t\t\t\t\t\t\tvalue={JSON.stringify(getSnapshot(this.props.store))}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<footer className=\"modal-card-foot\">\n\t\t\t\t\t<button className=\"button is-success\">Copy (not working, lol)</button>\n\t\t\t\t\t<button className=\"button\" onClick={this.props.store.closeModal}>Cancel</button>\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default inject('store')(observer(FileExportModal));\n","import { v4 } from 'uuid';\n\nexport const randomId = () => {\n\treturn v4();\n}","import React, { Component } from 'react';\nimport { get } from 'lodash';\nimport 'scss/App.scss';\n\nclass ItemIcon extends Component {\n\trender() {\n\t\tconst item = this.props.item;\n\t\tconst image = this.props.item.image;\n\n\t\treturn (\n\t\t\t<span className=\"item-icon\">\n\t\t\t\t<img src={image} alt={get(item, 'longName')} title={get(item, 'image')} />\n\t\t\t\t<span>{item.longName}</span>\n\t\t\t</span>\n\t\t);\n\t}\n}\n\nexport default ItemIcon;\n","import React, { Component } from 'react';\nimport ItemIcon from 'ItemIcon';\nimport { get } from 'lodash';\nimport 'scss/App.scss';\n\nclass ItemIconList extends Component {\n\trender() {\n\t\tif (!this.props.items) {\n\t\t\treturn <span>None</span>;\n\t\t}\n\t\tif (this.props.items.length === 1) {\n\t\t\treturn <ItemIcon item={this.props.items[0]} />;\n\t\t}\n\t\tconst icons = [];\n\t\tconst iconText = [];\n\t\tconst result = [];\n\t\t// debugger;\n\t\tthis.props.items.forEach((item, i) => {\n\t\t\t// debugger;\n\t\t\ticons.push(<span key={`${item.name}-icon-${i}`} className=\"item-icon is-not-acquired\"><img src={item.imageSrc} alt={get(item, 'longName')} title={get(item, 'longName')} /></span>);\n\t\t\ticonText.push(<span key={`${item.name}-text-${i}`} className=\"item-icon-name is-not-acquired is-size-7\">{item.longName}</span>);\n\t\t});\n\t\ticons.forEach((icon, i) => {\n\t\t\tresult.push(icons[i], iconText[i]);\n\t\t});\n\t\treturn (\n\t\t\t<div className=\"item-icon-list\">{result}</div>\n\t\t);\n\t}\n}\n\nexport default ItemIconList;\n","import React, { Component } from 'react';\nimport ItemIconList from 'ItemIconList';\nimport { get } from 'lodash';\nimport classNames from 'classnames';\nimport { observer, inject } from 'mobx-react';\n\nconst LocationDetail = inject('store')(observer(class LocationDetail extends Component {\n\tconstructor() {\n\t\tsuper();\n\t}\n\trender() {\n\t\tconst store = get(this, 'props.store.locationDetail');\n\t\tconst selectedLocation = store.selectedLocation;\n\t\tconst displayHelp = store.displayHelp;\n\t\tconst details = get(selectedLocation, 'details');\n\t\tlet longName = get(details, 'longName');\n\t\tlet reqs = get(details, 'itemRequirements', []);\n\t\tconst favoriteClasses = classNames('button', 'is-outline', {\n\t\t\t'has-text-warning': get(selectedLocation, 'isFavorite'),\n\t\t});\n\t\tconst mapInfoClasses = classNames('content', 'box', 'map-info', {'is-hidden': !store.isVisible});\n\t\tlet progressionButton;\n\n\t\tif (selectedLocation) {\n\n\t\t\tswitch (selectedLocation.progression) {\n\t\t\t\tcase 'UNAVAILABLE':\n\t\t\t\t\tprogressionButton = (\n\t\t\t\t\t\t<button onClick={() => store.selectedLocation.setProgression('AVAILABLE')} className=\"button is-danger\">\n\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-lock\" /></span>\n\t\t\t\t\t\t\t<span>Unavailable</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'AVAILABLE':\n\t\t\t\t\tprogressionButton = (\n\t\t\t\t\t\t<button onClick={() => store.selectedLocation.setProgression('COMPLETE')} className=\"button is-success\">\n\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-unlock\" /></span>\n\t\t\t\t\t\t\t<span>Available</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'COMPLETE':\n\t\t\t\t\tprogressionButton = (\n\t\t\t\t\t\t<button onClick={() => store.selectedLocation.setProgression('UNAVAILABLE')} className=\"button is-dark\">\n\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-check\" /></span>\n\t\t\t\t\t\t\t<span>Complete</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!details || displayHelp) {\n\t\t\treturn (\n\t\t\t\t<div className=\"is-background-white\">\n\t\t\t\t\t<div className={mapInfoClasses}>\n\t\t\t\t\t\t<h1>Help</h1>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li><em>Click map marker for more information.</em></li>\n\t\t\t\t\t\t\t<li><em>Shift + drag to zoom in on an area.</em></li>\n\t\t\t\t\t\t\t<li><em>Drag on the window title to move map.</em></li>\n\t\t\t\t\t\t\t<li><em>Mousewheel or <span className=\"icon\"><i className=\"fas fa-search-minus\" /></span><span className=\"icon\"><i className=\"fas fa-search-plus\" /></span> to zoom in/out.</em></li>\n\t\t\t\t\t\t\t<li><em>Click <span className=\"icon\"><i className=\"fas fa-lock\" /></span> in upper right to toggle position lock.</em></li>\n\t\t\t\t\t\t</ul>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tif (longName) {\n\t\t\tlongName = <h1>{longName}</h1>;\n\t\t}\n\t\tif (reqs.length) {\n\t\t\treqs = <ItemIconList items={reqs} />;\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"is-background-white\">\n\t\t\t\t<div className={mapInfoClasses}>\n\t\t\t\t\t<div className=\"details-container\">\n\t\t\t\t\t\t<div className=\"details-controls\">\n\t\t\t\t\t\t\t{longName}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t\t\t<div className=\"buttons\">\n\t\t\t\t\t\t\t\t\t\t<button onClick={() => selectedLocation.setFavorite(!selectedLocation.isFavorite)} className={favoriteClasses}>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"icon\"><i className=\"fas fa-star\" /></span>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t{progressionButton}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"details-requirements\">\n\t\t\t\t\t\t\t<h6>Requirements:</h6>\n\t\t\t\t\t\t\t{reqs}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}));\n\nexport default LocationDetail;\n","import React, { Component } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport classNames from 'classnames';\n\nconst Item = class Item extends Component {\n\trender() {\n\t\tconst itemListStore = this.props.store.itemList;\n\t\tconst item = this.props.item;\n\t\tconst isVisible = itemListStore.isVisible(item);\n\t\tconst itemClasses = classNames('item', {\n\t\t\t'is-not-acquired': !item.acquired,\n\t\t\t'is-hidden': !isVisible,\n\t\t\t'is-item-group': !!item.group,\n\t\t});\n\n\t\treturn (\n\t\t\t<div onClick={item.activateNext} key={item.id} className={itemClasses}>\n\t\t\t\t<img src={item.imageSrc} alt={item.longName}/>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nexport default inject('store')(observer(Item));","import React, { Component } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport Item from 'Item';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { find } from 'lodash';\n\nconst ItemList = class ItemList extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.onDragEndHandler = this.onDragEndHandler.bind(this);\n\t}\n\tonDragEndHandler(result) {\n\t\tif (!result.destination) {\n\t\t\treturn;\n\t\t}\n\t\tconst items = this.props.items;\n\t\tconst sourceItem = find(items, { index: result.source.index });\n\t\tconst destItem = find(items, { index: result.destination.index });\n\n\t\tthis.props.store.itemList.updateOrder(sourceItem, destItem);\n\t}\n\trender() {\n\t\tconst store = this.props.store.itemList;\n\n\t\treturn (\n\t\t\t<DragDropContext onDragEnd={this.onDragEndHandler}>\n\t\t\t\t<Droppable droppableId=\"droppable\">\n\t\t\t\t\t{(provided, snapshot) => {\n\t\t\t\t\t\tconst dragElems = [];\n\n\t\t\t\t\t\tstore.sortedItems.forEach((item, i) => {\n\t\t\t\t\t\t\tlet itemElem = null;\n\n\t\t\t\t\t\t\tif (item.group) {\n\t\t\t\t\t\t\t\titemElem = store.getItemsByGroup(item.group).map(subItem => <Item key={subItem.id} item={subItem} />);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\titemElem = <Item key={item.id} item={item} />;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdragElems.push(\n\t\t\t\t\t\t\t\t<Draggable key={`draggable-${i}`} draggableId={`draggable-${i}`} index={i}>\n\t\t\t\t\t\t\t\t\t{(provided, snapshot) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<div ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"item-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{itemElem}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t</Draggable>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div ref={provided.innerRef} className=\"item-list-container has-background-grey-light\">\n\t\t\t\t\t\t\t\t{dragElems}\n\t\t\t\t\t\t\t\t{provided.placeholder}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t</Droppable>\n\t\t\t</DragDropContext>\n\t\t);\n\t}\n};\n\nexport default inject('store')(observer(ItemList));\n","import React, { Component } from 'react';\nimport { observer, Provider } from 'mobx-react';\nimport Map from 'Map';\nimport NavBar from 'NavBar';\nimport Modal from 'Modal';\nimport FileImportModal from 'FileImportModal';\nimport FileExportModal from 'FileExportModal';\nimport { randomId } from './util';\nimport 'scss/App.scss';\nimport LocationDetail from 'LocationDetail';\nimport ItemList from 'ItemList';\n\nclass App extends Component {\n\t// constructor() {\n\t// \tsuper();\n\t// }\n\n\tcomponentDidMount() {\n\t}\n\n\tgenerateMaps() {\n\t\tconst maps = [];\n\n\t\t[...this.props.store.maps.values()].forEach(map => {\n\t\t\tmaps.push(\n\t\t\t\t<Map\n\t\t\t\t\tkey={`map-${map.id}`}\n\t\t\t\t\tmapStore={map}\n\t\t\t\t\tlocations={[...map.locations.values()]}\n\t\t\t\t\tid={randomId()}\n\t\t\t\t\ttileLayerTemplate={map.tileLayerTemplate}\n\t\t\t\t/>\n\t\t\t)\n\t\t});\n\t\treturn maps;\n\t}\n\trender() {\n\t\tconst store = this.props.store;\n\t\tlet modal = null;\n\t\tconst items = store.itemList.items;\n\n\t\tif (store.isModalOpen) {\n\t\t\tswitch (store.activeModal) {\n\t\t\t\tcase 'FILE_IMPORT':\n\t\t\t\t\tmodal = <FileImportModal/>;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'FILE_EXPORT':\n\t\t\t\t\tmodal = <FileExportModal/>;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<Provider store={store}>\n\t\t\t\t<div className=\"main-container\">\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<div id=\"main\" className=\"main\">\n\t\t\t\t\t\t{this.generateMaps()}\n\t\t\t\t\t\t<LocationDetail />\n\t\t\t\t\t\t<ItemList items={this.props.store.itemList.sortedItems} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<Modal>\n\t\t\t\t\t\t{modal}\n\t\t\t\t\t</Modal>\n\t\t\t\t\t{/*<Map\n\t\t\t\t\t\tmapStore={this.props.store.getMapByName('zelda3-dw')}\n\t\t\t\t\t\tid={randomId()}\n\t\t\t\t\t\ttileLayerTemplate={`${process.env.PUBLIC_URL}/img/maps/zelda3/dw/{z}/zelda3-dw.{x}.{y}.png`}\n\t\t\t\t\t/>*/}\n\t\t\t\t\t{/*<Map\n\t\t\t\t\t\tid={randomId()}\n\t\t\t\t\t\tmapOptions={{\n\t\t\t\t\t\t\tcenter: [-560,640],\n\t\t\t\t\t\t\tzoom: 0,\n\t\t\t\t\t\t\tmaxBounds: [[0,0], [-1120, 1280]],\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttileLayerTemplate={`${process.env.PUBLIC_URL}/img/maps/metroid3/zebes/{z}/metroid3-zebes.{x}.{y}.png`}\n\t\t\t\t\t\ttileLayerOptions={{\n\t\t\t\t\t\t\tminZoom: -1,\n\t\t\t\t\t\t\tmaxZoom: 2,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmapWidth={1280}\n\t\t\t\t\t\tmapHeight={1120}\n\t\t\t\t\t/>*/}\n\t\t\t\t</div>\n\t\t\t</Provider>\n\t\t);\n\t}\n}\n\nexport default observer(App);\n","import { types } from 'mobx-state-tree';\n\nconst Game = types\n\t.model({\n\t\tid: types.identifier,\n\t\tname: types.string,\n\t\tlongName: types.string,\n\t\tselected: false,\n\t})\n\t.actions((self) => {\n\t\tconst setSelected = (state) => {\n\t\t\tself.selected = state;\n\t\t};\n\n\t\treturn {\n\t\t\tsetSelected,\n\t\t};\n\t})\n;\n\nexport default Game;\n","import { types, getRoot } from 'mobx-state-tree';\nimport { find } from 'lodash';\nimport GameStore from 'Game.store';\n\nconst ItemStore = types\n\t.model({\n\t\tid: types.identifier,\n\t\t// If null, is probably a group\n\t\tname: types.maybeNull(types.string),\n\t\tlongName: types.maybeNull(types.string),\n\t\tgroup: types.maybeNull(types.string),\n\t\titems: types.optional(types.array(types.late(() => ItemStore)), []),\n\t\thidden: false,\n\t\timage: '',\n\t\tindex: types.integer,\n\t\tgroupIndex: types.maybeNull(types.integer),\n\t\tgame: types.reference(GameStore),\n\t\tacquired: false,\n\t\tmaxQty: types.optional(types.integer, 1),\n\t\tisDefault: false,\n\t})\n\t.views(self => ({\n\t\tget imageSrc() {\n\t\t\treturn `${process.env.PUBLIC_URL}/img/items/${self.game.name}/${self.image}.png`;\n\t\t},\n\t}))\n\t.actions(self => {\n\t\tconst acquire = (newAcquired) => {\n\t\t\tif (self.group) {\n\t\t\t\tgetRoot(self).itemList.getItemsByGroup(self.group).forEach(item => {\n\t\t\t\t\titem.acquired = false;\n\t\t\t\t});\n\t\t\t}\n\t\t\tself.acquired = newAcquired;\n\t\t};\n\t\t// Toggles item acquisition if not in a group, otherwise, acquires the next item in the group\n\t\tconst activateNext = () => {\n\t\t\tif (!self.group) {\n\t\t\t\tself.toggleAcquisition();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet shouldAcquire = true;\n\t\t\tconst subItems = getRoot(self).itemList.getItemsByGroup(self.group);\n\t\t\tlet currentSubItem = find(subItems, { acquired: true });\n\t\t\tif (!currentSubItem) {\n\t\t\t\tcurrentSubItem = find(subItems, { isDefault: true });\n\t\t\t}\n\t\t\tif (!currentSubItem) {\n\t\t\t\t// Sensible fallback to the first item.\n\t\t\t\tcurrentSubItem = subItems[0];\n\t\t\t}\n\t\t\tlet nextGroupIndex = currentSubItem.groupIndex + 1;\n\n\t\t\tif (nextGroupIndex === subItems.length) {\n\t\t\t\t// We have wrapped around - put it back to default state.\n\t\t\t\tnextGroupIndex = 0;\n\t\t\t\tshouldAcquire = false;\n\t\t\t} else if (currentSubItem.isDefault && !currentSubItem.acquired) {\n\t\t\t\tcurrentSubItem.acquire(true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst nextSubItem = subItems[nextGroupIndex];\n\t\t\tnextSubItem.acquire(shouldAcquire);\n\t\t};\n\t\tconst toggleAcquisition = () => {\n\t\t\tself.acquire(!self.acquired);\n\t\t}\n\t\tconst setIndex = newIndex => {\n\t\t\tself.index = newIndex;\n\t\t};\n\n\t\treturn {\n\t\t\tacquire,\n\t\t\tactivateNext,\n\t\t\tsetIndex,\n\t\t\ttoggleAcquisition,\n\t\t};\n\t})\n;\n\nexport default ItemStore;\n","import { types } from 'mobx-state-tree';\nimport ItemStore from 'Item.store';\nimport { find, sortBy, get } from 'lodash';\nimport move from 'lodash-move';\n\nconst ItemListStore = types\n\t.model({\n\t\tid: types.identifier,\n\t\titems: types.array(ItemStore),\n\t\tsortOrder: types.optional(types.array(types.integer), []),\n\t})\n\t.views(self => ({\n\t\tgetItemByName: (name) => {\n\t\t\tconst items = [...self.items.values()];\n\t\t\tlet itemFound = null;\n\n\t\t\tif (!find(items, { name })) {\n\t\t\t\tconst itemGroups = items.filter(item => item.group);\n\t\t\t\tif (!itemGroups) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\titemGroups.forEach(itemGroup => {\n\t\t\t\t\titemGroup.items.forEach(subItem => {\n\t\t\t\t\t\tif (subItem.name === name) {\n\t\t\t\t\t\t\titemFound = subItem;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\treturn itemFound;\n\t\t\t} else {\n\t\t\t\treturn find(items, { name });\n\t\t\t}\n\t\t},\n\t\tgetItemsByGroup: (group) => {\n\t\t\tlet itemGroup = find([...self.items.values()], { group });\n\n\t\t\tif (!itemGroup) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn [...itemGroup.items.values()];\n\t\t},\n\t\thasAcquiredAnyItemsInGroup: (group) => {\n\t\t\tconst items = self.getItemsByGroup(group);\n\n\t\t\treturn items.some(item => item.acquired);\n\t\t},\n\t\tget groupedItems() {\n\t\t\tconst result = {\n\t\t\t\tnone: [],\n\t\t\t};\n\n\t\t\tself.sortedItems.forEach(item => {\n\t\t\t\tif (item.group) {\n\t\t\t\t\tif (!result[item.group]) {\n\t\t\t\t\t\tresult[item.group] = [];\n\t\t\t\t\t}\n\t\t\t\t\tresult[item.group].push(item);\n\t\t\t\t} else {\n\t\t\t\t\tresult.none.push(item);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// Sort grouped items by index.\n\t\t\tfor (const groupName of Object.keys(result)) {\n\t\t\t\tif (groupName !== 'none') {\n\t\t\t\t\tresult[groupName] = sortBy(result[groupName], ['groupIndex']);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tget sortedItems() {\n\t\t\treturn sortBy([...self.items.values()], ['index']);\n\t\t},\n\t\tisVisible: (item) => {\n\t\t\tlet result = false;\n\n\t\t\tif (!item.group) {\n\t\t\t\tresult = true;\n\t\t\t} else if (item.acquired) {\n\t\t\t\tresult = true;\n\t\t\t} else if (self.hasAcquiredAnyItemsInGroup(item.group)) {\n\t\t\t\tresult = false;\n\t\t\t} else if (item.isDefault) {\n\t\t\t\tresult = true;\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t}))\n\t.actions(self => {\n\t\tconst updateOrder = (sourceItem, destItem) => {\n\t\t\tconst sourceItemIndex = sourceItem.index;\n\t\t\tconst destItemIndex = destItem.index;\n\n\t\t\tif (sourceItemIndex === destItemIndex) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst swappedItems = move(self.sortedItems, sourceItemIndex, destItemIndex);\n\n\t\t\tswappedItems.forEach((item, i) => item.setIndex(i));\n\t\t};\n\n\t\treturn {\n\t\t\tupdateOrder,\n\t\t}\n\t})\n;\n\nexport default ItemListStore;\n","import { types, getRoot } from 'mobx-state-tree';\nimport GameStore from 'Game.store';\n\nconst LocationStore = types\n\t.model({\n\t\tid: types.identifier,\n\t\tname: types.string,\n\t\tlongName: types.string,\n\t\timage: '',\n\t\tgame: types.reference(GameStore),\n\t\tcoords: types.array(types.integer),\n\t\titemRequirements: types.array(types.string),\n\t\tprogression: types.optional(types.enumeration('Progression types', ['UNAVAILABLE', 'AVAILABLE', 'COMPLETE']), 'UNAVAILABLE'),\n\t\tisFavorite: false,\n\t})\n\t.views((self) => ({\n\t\tget details() {\n\t\t\tlet itemRequirements;\n\n\t\t\tif (self.itemRequirements) {\n\t\t\t\titemRequirements = self.itemRequirements.map(req => getRoot(self).itemList.getItemByName(req))\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tlongName: self.longName,\n\t\t\t\titemRequirements,\n\t\t\t};\n\t\t},\n\t\tget defaultMarkerType() {\n\t\t\treturn 'UNAVAILABLE';\n\t\t},\n\t\tget tooltipContent() {\n\t\t\treturn self.longName;\n\t\t},\n\t\tget hidden() {\n\t\t\tif (!self.isFavorite && getRoot(self).hideCompleted && self.progression === 'COMPLETE') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}))\n\t.actions((self) => {\n\t\tconst setProgression = (progression) => {\n\t\t\tself.progression = progression;\n\t\t}\n\t\tconst setFavorite = (newFavorite) => {\n\t\t\tself.isFavorite = newFavorite;\n\t\t}\n\n\t\treturn {\n\t\t\tsetProgression,\n\t\t\tsetFavorite,\n\t\t};\n\t})\n;\n\nexport default LocationStore;\n","import { types } from 'mobx-state-tree';\nimport LocationStore from 'Location.store';\n\nconst LocationDetailStore = types\n\t.model({\n\t\tid: types.identifier,\n\t\tselectedLocation: types.maybeNull(types.reference(LocationStore)),\n\t\tisVisible: true,\n\t})\n\t.views((self) => ({\n\t\tget selectedLocationDetails() {\n\t\t\treturn self.selectedLocation.details;\n\t\t},\n\t\tget displayHelp() {\n\t\t\treturn !self.selectedLocation;\n\t\t}\n\t}))\n\t.actions((self) => {\n\t\tconst setSelectedLocation = (event, marker, mapStoreLocation) => {\n\t\t\tself.selectedLocation = mapStoreLocation;\n\t\t};\n\t\tconst setVisibility = (isVisible) => {\n\t\t\tself.isVisible = isVisible;\n\t\t};\n\n\t\treturn {\n\t\t\tsetSelectedLocation,\n\t\t\tsetVisibility,\n\t\t};\n\t})\n;\n\nexport default LocationDetailStore;\n","import { types } from 'mobx-state-tree';\nimport GameStore from 'Game.store';\nimport LocationStore from 'Location.store';\nimport LocationDetailStore from 'LocationDetail.store';\n\nconst MapStore = types\n\t.model({\n\t\tid: types.identifier,\n\t\tname: types.string,\n\t\tlongName: types.string,\n\t\tgame: types.reference(GameStore),\n\t\tlocations: types.map(LocationStore),\n\t\tselectedLocation: types.maybe(types.reference(LocationStore)),\n\t\tlocationDetail: types.reference(LocationDetailStore),\n\t\tdisplayHelp: true,\n\t\tisVisible: true,\n\t\ttileLayerTemplate: types.string,\n\t\toffset: 0,\n\t\tx: types.optional(types.maybeNull(types.number), null),\n\t\ty: types.optional(types.maybeNull(types.number), null),\n\t\tcontainerWidth: types.optional(types.maybeNull(types.number), null),\n\t\tcontainerHeight: types.optional(types.maybeNull(types.number), null),\n\t\tisLocked: false,\n\t})\n\t.volatile(() => ({\n\t\tcomponent: {},\n\t}))\n\t.views((self) => ({\n\t\tget selectedLocationDetails() {\n\t\t\treturn self.selectedLocation.details;\n\t\t},\n\t}))\n\t.actions((self) => {\n\t\tconst setComponent = (component) => {\n\t\t\tself.component = component;\n\t\t};\n\t\tconst showHelp = () => {\n\t\t\tself.displayHelp = true;\n\t\t}\n\t\tconst setMapVisibility = (isVisible) => {\n\t\t\tself.isVisible = isVisible;\n\t\t}\n\t\tconst setPos = (newPos) => {\n\t\t\tself.x = newPos.x;\n\t\t\tself.y = newPos.y;\n\t\t}\n\t\tconst setWidth = (newWidth) => {\n\t\t\tself.containerWidth = newWidth;\n\t\t}\n\t\tconst setHeight = (newHeight) => {\n\t\t\tself.containerHeight = newHeight;\n\t\t}\n\t\tconst setLocked = (isLocked) => {\n\t\t\tself.isLocked = isLocked;\n\t\t};\n\t\tconst setSelectedLocation = (event, marker, mapStoreLocation) => {\n\t\t\tself.selectedLocation = mapStoreLocation;\n\t\t};\n\n\t\treturn {\n\t\t\tsetComponent,\n\t\t\tsetSelectedLocation,\n\t\t\tshowHelp,\n\t\t\tsetMapVisibility,\n\t\t\tsetPos,\n\t\t\tsetWidth,\n\t\t\tsetHeight,\n\t\t\tsetLocked,\n\t\t};\n\t})\n;\n\nexport default MapStore;\n","import { types, applySnapshot } from 'mobx-state-tree';\nimport GameStore from 'Game.store';\nimport ItemListStore from 'ItemList.store';\nimport MapStore from 'Map.store';\nimport LocationDetailStore from 'LocationDetail.store';\nimport { find } from 'lodash';\n\nconst AppStore = types\n\t.model({\n\t\tgames: types.map(GameStore),\n\t\titemList: ItemListStore,\n\t\tmaps: types.map(MapStore),\n\t\tlocationDetail: LocationDetailStore,\n\t\tisModalOpen: false,\n\t\tactiveModal: types.maybeNull(types.enumeration('Modals', ['FILE_IMPORT', 'FILE_EXPORT'])),\n\t\tvalidationMessages: types.array(types.string),\n\t\tLOCAL_STORAGE_KEY: 'zetroid-tracker',\n\t\thideCompleted: false,\n\t\tshouldSync: true,\n\t})\n\t.views((self) => ({\n\t\tgetGameByName: (name) => {\n\t\t\treturn find([...self.games.values()], { name });\n\t\t},\n\t\tgetMapByName: (name) => {\n\t\t\treturn find([...self.maps.values()], { name });\n\t\t},\n\t\tget selectedGame() {\n\t\t\treturn find([...self.games.values()], { selected: true });\n\t\t},\n\t}))\n\t.actions((self) => {\n\t\tconst selectGame = (gameToSelect) => {\n\t\t\tconst selectedGame = self.getGameByName(gameToSelect);\n\n\t\t\t[...self.games.values()].forEach((game) => {\n\t\t\t\tif (selectedGame === game) {\n\t\t\t\t\tgame.setSelected(true);\n\t\t\t\t} else {\n\t\t\t\t\tgame.setSelected(false);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tconst openModal = (modalName) => {\n\t\t\tself.isModalOpen = true;\n\t\t\tself.activeModal = modalName;\n\t\t};\n\t\tconst closeModal = () => {\n\t\t\tself.activeModal = null;\n\t\t\tself.isModalOpen = false;\n\t\t};\n\t\tconst loadSnapshot = (json) => {\n\t\t\tlet parsedJson;\n\n\t\t\ttry {\n\t\t\t\tparsedJson = JSON.parse(json);\n\t\t\t\tself.closeModal();\n\t\t\t\tapplySnapshot(self, parsedJson);\n\n\t\t\t} catch (error) {\n\t\t\t\t// Invalid JSON\n\t\t\t\tself.validationMessages = ['Invalid JSON.'];\n\t\t\t}\n\t\t};\n\t\tconst flushLocalStorage = () => {\n\t\t\tif (window.localStorage) {\n\t\t\t\twindow.localStorage.removeItem(self.LOCAL_STORAGE_KEY);\n\t\t\t}\n\t\t};\n\t\tconst setHideCompleted = (isHidden) => {\n\t\t\tself.hideCompleted = isHidden;\n\t\t};\n\n\t\treturn {\n\t\t\tselectGame,\n\t\t\topenModal,\n\t\t\tcloseModal,\n\t\t\tloadSnapshot,\n\t\t\tflushLocalStorage,\n\t\t\tsetHideCompleted,\n\t\t};\n\t})\n;\n\nexport default AppStore;\n","const itemsData = [\n\t{\n\t\tgroup: 'mp-upgrade',\n\t\tgame: 'zelda3',\n\t\titems: [\n\t\t\t{ name: 'mp-upgrade-11',  longName: '1/1 Magic',         game: 'zelda3', image: 'mpupgrade0', group: 'mp-upgrade', groupIndex: 0, isDefault: true, },\n\t\t\t{ name: 'mp-upgrade-12',  longName: '1/2 Magic',         game: 'zelda3', image: 'mpupgrade1', group: 'mp-upgrade', groupIndex: 1, },\n\t\t\t{ name: 'mp-upgrade-14',  longName: '1/4 Magic',         game: 'zelda3', image: 'mpupgrade2', group: 'mp-upgrade', groupIndex: 2, },\n\t\t]\n\t},\n\t{\n\t\tgroup: 'agahnim',\n\t\tgame: 'zelda3',\n\t\titems: [\n\t\t\t{ name: 'agahnim-alive',  longName: 'Agahnim',           game: 'zelda3', image: 'agahnim0', group: 'agahnim', groupIndex: 0, isDefault: true, },\n\t\t\t{ name: 'agahnim-dead',   longName: 'Agahnim Defeated',  game: 'zelda3', image: 'agahnim1', group: 'agahnim', groupIndex: 1, },\n\t\t],\n\t},\n\t// { name: 'arrow-upgrade',  longName: 'Arrow Upgrade',     game: 'zelda3', image: '', },\n\t{\n\t\tgroup: 'armor',\n\t\tgame: 'zelda3',\n\t\titems: [\n\t\t\t{ name: 'jerkin',         longName: 'Green Jerkin',      game: 'zelda3', image: 'tunic1', group: 'armor', groupIndex: 0, isDefault: true, },\n\t\t\t{ name: 'blue-mail',      longName: 'Blue Mail',         game: 'zelda3', image: 'tunic2', group: 'armor', groupIndex: 1, },\n\t\t\t{ name: 'red-mail',       longName: 'Red Mail',          game: 'zelda3', image: 'tunic3', group: 'armor', groupIndex: 2, },\n\t\t],\n\t},\n\t{\n\t\tgroup: 'boomerang',\n\t\tgame: 'zelda3',\n\t\titems: [\n\t\t\t{ name: 'boomerang',      longName: 'Boomerang',         game: 'zelda3', image: 'boomerang1', group: 'boomerang', groupIndex: 0, isDefault: true, },\n\t\t\t{ name: 'm-boomerang',    longName: 'Magical Boomerang', game: 'zelda3', image: 'boomerang2', group: 'boomerang', groupIndex: 1,  },\n\t\t\t{ name: 'all-boomerangs',    longName: 'All Boomerangs', game: 'zelda3', image: 'boomerang3', group: 'boomerang', groupIndex: 2,  },\n\t\t],\n\t},\n\t{\n\t\tgroup: 'bomb',\n\t\tgame: 'zelda3',\n\t\titems: [\n\t\t\t{ name: 'bomb',           longName: 'Bomb',              game: 'zelda3', image: 'bomb1', group: 'bomb', groupIndex: 0, isDefault: true, },\n\t\t\t{ name: 'oj-bomb',        longName: 'Bomb',              game: 'zelda3', image: 'bomb2', group: 'bomb', groupIndex: 1 },\n\t\t],\n\t},\n\t{\n\t\tgroup: 'sword',\n\t\tgame: 'zelda3',\n\t\titems: [\n\t\t\t{ name: 'sword',          longName: 'Fighter’s Sword',   game: 'zelda3', image: 'sword1', group: 'sword', groupIndex: 0, isDefault: true, },\n\t\t\t{ name: 'master-sword',   longName: 'Master Sword',      game: 'zelda3', image: 'sword2', group: 'sword', groupIndex: 1, },\n\t\t\t{ name: 'tempered-sword', longName: 'Tempered Sword',    game: 'zelda3', image: 'sword3', group: 'sword', groupIndex: 2, },\n\t\t\t{ name: 'golden-sword',   longName: 'Golden Sword',      game: 'zelda3', image: 'sword4', group: 'sword', groupIndex: 3, },\n\t\t],\n\t},\n\t{\n\t\tgroup: 'shield',\n\t\tgame: 'zelda3',\n\t\titems: [\n\t\t\t{ name: 'shield',         longName: 'Fighter’s Shield',  game: 'zelda3', image: 'shield1', group: 'shield', groupIndex: 0, isDefault: true, },\n\t\t\t{ name: 'red-shield',     longName: 'Red Shield',        game: 'zelda3', image: 'shield2', group: 'shield', groupIndex: 1, },\n\t\t\t{ name: 'mirror-shield',  longName: 'Mirror Shield',     game: 'zelda3', image: 'shield3', group: 'shield', groupIndex: 2, },\n\t\t],\n\t},\n\t{\n\t\tgroup: 'glove',\n\t\tgame: 'zelda3',\n\t\titems: [\n\t\t\t{ name: 'glove',          longName: 'Power Glove',       game: 'zelda3', image: 'glove1', group: 'glove', groupIndex: 0, isDefault: true, },\n\t\t\t{ name: 'titan-mitt',     longName: 'Titan’s Mitt',      game: 'zelda3', image: 'glove2', group: 'glove', groupIndex: 1, },\n\t\t],\n\t},\n\t{ name: 'book',           longName: 'Book of Mudora',    game: 'zelda3', image: 'book', },\n\t{ name: 'bombos',         longName: 'Bombos Medallion',  game: 'zelda3', image: 'bombos', },\n\t{ name: 'bottle',         longName: 'Bottle',            game: 'zelda3', image: 'bottle0', maxQty: 4 },\n\t{ name: 'bow',            longName: 'Bow',               game: 'zelda3', image: 'bow', },\n\t{ name: 'net',            longName: 'Bug-Catching Net',  game: 'zelda3', image: 'net', },\n\t{ name: 'somaria',        longName: 'Cane of Somaria',   game: 'zelda3', image: 'somaria', },\n\t{ name: 'byrna',          longName: 'Cane of Byrna',     game: 'zelda3', image: 'byrna', },\n\t{ name: 'ether',          longName: 'Ether Medallion',   game: 'zelda3', image: 'ether', },\n\t{ name: 'fire-rod',       longName: 'Fire Rod',          game: 'zelda3', image: 'firerod', },\n\t{ name: 'flute',          longName: 'Flute',             game: 'zelda3', image: 'flute', },\n\n\t{ name: 'heart-c',        longName: 'Heart Container',   game: 'zelda3', image: 'heartcontainer', },\n\t{ name: 'heart-p',        longName: 'Heart Piece',       game: 'zelda3', image: 'heartpiece', maxQty: 24, },\n\t{ name: 'hookshot',       longName: 'Hookshot',          game: 'zelda3', image: 'hookshot', },\n\t{ name: 'ice-rod',        longName: 'Ice Rod',           game: 'zelda3', image: 'icerod', },\n\t{ name: 'lantern',        longName: 'Lantern',           game: 'zelda3', image: 'lantern', },\n\t{ name: 'cape',           longName: 'Magic Cape',        game: 'zelda3', image: 'cape', },\n\t{ name: 'hammer',         longName: 'Magic Hammer',      game: 'zelda3', image: 'hammer', },\n\t{ name: 'powder',         longName: 'Magic Powder',      game: 'zelda3', image: 'powder', },\n\t{ name: 'mirror',         longName: 'Magic Mirror',      game: 'zelda3', image: 'mirror', },\n\t{ name: 'moon-pearl',     longName: 'Moon Pearl',        game: 'zelda3', image: 'moonpearl', },\n\t{ name: 'mushroom',       longName: 'Mushroom',          game: 'zelda3', image: 'mushroom', },\n\t{ name: 'boots',          longName: 'Pegasus Boots',     game: 'zelda3', image: 'boots', },\n\t{ name: 'quake',          longName: 'Quake Medallion',   game: 'zelda3', image: 'quake', },\n\n\t{ name: 'shovel',         longName: 'Shovel',            game: 'zelda3', image: 'shovel', },\n\t{ name: 's-arrow',        longName: 'Silver Arrow',      game: 'zelda3', image: 'silvers', },\n\t{ name: 'flippers',       longName: 'Zora’s Flippers',   game: 'zelda3', image: 'flippers', },\n\n\n\n\n\n\t{ name: 'bracelet', longName: 'Power Bracelet', game: 'zelda1', },\n\t{ name: 'lantern', longName: 'Lantern', game: 'zelda1', },\n\t{ name: 'food', longName: 'Food', game: 'zelda1', },\n\t{ name: 'ladder', longName: 'Ladder', game: 'zelda1', },\n\t{ name: 'letter', longName: 'Letter', game: 'zelda1', },\n\t{ name: 'm-key', longName: 'Magic Key', game: 'zelda1', },\n\t{ name: 'm-rod', longName: 'Magic Rod', game: 'zelda1', },\n\t{ name: 'raft', longName: 'Raft', game: 'zelda1', },\n\t{ name: 'recorder', longName: 'Recorder', game: 'zelda1', },\n\t{ name: 'ring', longName: 'Red Ring', game: 'zelda1', },\n\t{ name: 'triforce-1', longName: 'Triforce Piece 1', game: 'zelda1', },\n\t{ name: 'triforce-2', longName: 'Triforce Piece 2', game: 'zelda1', },\n\t{ name: 'triforce-3', longName: 'Triforce Piece 3', game: 'zelda1', },\n\t{ name: 'triforce-4', longName: 'Triforce Piece 4', game: 'zelda1', },\n\t{ name: 'triforce-5', longName: 'Triforce Piece 5', game: 'zelda1', },\n\t{ name: 'triforce-6', longName: 'Triforce Piece 6', game: 'zelda1', },\n\t{ name: 'triforce-7', longName: 'Triforce Piece 7', game: 'zelda1', },\n\t{ name: 'triforce-8', longName: 'Triforce Piece 8', game: 'zelda1', },\n\t{ name: 'charge', longName: 'Charge Beam', game: 'metroid3', },\n\t{ name: 'ice', longName: 'Ice Beam', game: 'metroid3', },\n\t{ name: 'wave', longName: 'Wave Beam', game: 'metroid3', },\n\t{ name: 'spazer', longName: 'Spazer', game: 'metroid3', },\n\t{ name: 'plasma', longName: 'Plasma', game: 'metroid3', },\n\t{ name: 'varia', longName: 'Varia Suit', game: 'metroid3', },\n\t{ name: 'gravity', longName: 'Gravity Suit', game: 'metroid3', },\n\t{ name: 'morph', longName: 'Morph Ball', game: 'metroid3', },\n\t{ name: 'bombs', longName: 'Bombs', game: 'metroid3', },\n\t{ name: 'spring', longName: 'Spring Ball', game: 'metroid3', },\n\t{ name: 'screw', longName: 'Screw Attack', game: 'metroid3', },\n\t{ name: 'jump', longName: 'High Jump Boots', game: 'metroid3', },\n\t{ name: 'space', longName: 'Space Jump', game: 'metroid3', },\n\t{ name: 'speed', longName: 'Speed Booster', game: 'metroid3', },\n\t{ name: 'missile', longName: 'Missle', game: 'metroid3', },\n\t{ name: 's-missile', longName: 'Super Missle', game: 'metroid3', },\n\t{ name: 'powerbomb', longName: 'Powerbomb', game: 'metroid3', },\n\t{ name: 'grappling', longName: 'Grappling Hook', game: 'metroid3', },\n\t{ name: 'xray', longName: 'X-Ray Scanner', game: 'metroid3', },\n\t{ name: 'kraid', longName: 'Kraid', game: 'metroid3', },\n\t{ name: 'phantoon', longName: 'Phantoon', game: 'metroid3', },\n\t{ name: 'draygon', longName: 'Draygon', game: 'metroid3', },\n\t{ name: 'ridley', longName: 'Ridley', game: 'metroid3', },\n\t{ name: 'etank', longName: 'Energy Tank', game: 'metroid3', },\n\t{ name: 'rtank', longName: 'Reserve Tank', game: 'metroid3', },\n\t{ name: 'long', longName: 'Long Beam', game: 'metroid1', },\n\t{ name: 'kraidtotem', longName: 'Kraid Totem', game: 'metroid1', },\n\t{ name: 'ridleytotem', longName: 'Ridley Totem', game: 'metroid1', },\n\t// Zelda 3 bosses\n\t// { name: 'boss0', longName: '', },\n\t// { name: 'boss1', longName: '', },\n\t// { name: 'boss2', longName: '', },\n\t// { name: 'boss3', longName: '', },\n\t// { name: 'boss4', longName: '', },\n\t// { name: 'boss5', longName: '', },\n\t// { name: 'boss6', longName: '', },\n\t// { name: 'boss7', longName: '', },\n\t// { name: 'boss8', longName: '', },\n\t// { name: 'boss9', longName: '', },\n\t// { name: 'boss10', longName: '', },\n];\n\nexport default itemsData;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'App';\nimport { unprotect, applySnapshot, getSnapshot, destroy, onSnapshot } from 'mobx-state-tree';\nimport { randomId } from './util';\nimport AppStore from 'App.store';\nimport MapStore from 'Map.store';\nimport GameStore from 'Game.store';\nimport { gamesData, locationsData } from 'data/data';\nimport ItemStore from 'Item.store';\nimport itemsData from 'data/items';\nimport LocationStore from 'Location.store';\nimport LocationDetailStore from 'LocationDetail.store';\nimport ItemListStore from 'ItemList.store';\nimport * as serviceWorker from 'serviceWorker';\nimport { isUndefined } from 'lodash';\n\nconst appStore = AppStore.create({\n\tid: randomId(),\n\tgames: {},\n\t// shouldSync: false,\n\titemList: ItemListStore.create({\n\t\tid: randomId(),\n\t\titems: [],\n\t\tsortOrder: [],\n\t}),\n\tmaps: {},\n\tlocationDetail: LocationDetailStore.create({\n\t\tid: randomId(),\n\t\tselectedLocation: null,\n\t}),\n});\n\nunprotect(appStore);\n// Create game models\ngamesData.forEach((game) => {\n\tappStore.games.put(GameStore.create({\n\t\tid: randomId(),\n\t\tname: game.name,\n\t\tlongName: game.longName,\n\t}));\n});\n// Select the game.\nappStore.selectGame('zelda3');\n// Create map models.\nappStore.maps.put(MapStore.create({\n\tid: randomId(),\n\tname: 'zelda3-lw',\n\tlongName: 'Light World Map',\n\tgame: appStore.getGameByName('zelda3'),\n\ttileLayerTemplate: `${process.env.PUBLIC_URL}/img/maps/zelda3/lw/{z}/zelda3-lw.{x}.{y}.png`,\n\tlocations: {},\n\tlocationDetail: appStore.locationDetail,\n}));\nappStore.maps.put(MapStore.create({\n\tid: randomId(),\n\tname: 'zelda3-dw',\n\tlongName: 'Dark World Map',\n\tgame: appStore.getGameByName('zelda3'),\n\ttileLayerTemplate: `${process.env.PUBLIC_URL}/img/maps/zelda3/dw/{z}/zelda3-dw.{x}.{y}.png`,\n\tlocations: {},\n\tlocationDetail: appStore.locationDetail,\n\toffset: 100,\n}));\n// Create item models.\nitemsData\n\t.filter(item => item.game === appStore.selectedGame.name)\n\t// .filter(item => item.group === 'mp-upgrade' || item.name === 'hookshot' || item.maxQty > 1)\n\t.forEach((item, i) => {\n\t\tconst isItemGroup = !!(item.group && item.items.length);\n\t\tconst itemData = {\n\t\t\tid: randomId(),\n\t\t\tindex: isUndefined(item.index) ? i : item.index,\n\t\t\tname: item.name,\n\t\t\tgame: appStore.getGameByName(item.game),\n\t\t\tmaxQty: item.maxQty || 1,\n\t\t}\n\n\t\tif (isItemGroup) {\n\t\t\titemData.isDefault = item.isDefault || false;\n\t\t\titemData.group = item.group;\n\t\t\titemData.groupIndex = item.groupIndex || null;\n\t\t} else {\n\t\t\titemData.longName = item.longName;\n\t\t\titemData.image = item.image\n\t\t}\n\n\t\tconst subItemData = isItemGroup && item.items.map(data => {\n\t\t\treturn ItemStore.create(Object.assign({}, itemData, data, {\n\t\t\t\tid: randomId(),\n\t\t\t\tgame: appStore.getGameByName(data.game),\n\t\t\t}));\n\t\t});\n\t\tif (subItemData.length) {\n\t\t\titemData.items = subItemData;\n\t\t}\n\t\tappStore.itemList.sortOrder.push(i);\n\t\tappStore.itemList.items.push(ItemStore.create(itemData));\n\t})\n;\n// Create location models.\nlocationsData.forEach(loc => {\n\tconst selectedMap = appStore.getMapByName(loc.map);\n\n\tselectedMap.locations.put(LocationStore.create({\n\t\tid: `loc-${randomId()}`,\n\t\tname: loc.name,\n\t\tlongName: loc.longName,\n\t\tcoords: loc.coords,\n\t\tgame: appStore.getGameByName(loc.game),\n\t\titemRequirements: loc.itemRequirements,\n\t}));\n\n});\n// Globals to help with debugging.\n// appStore.games.set(zelda1.id, zelda1);\nwindow.applySnapshot = applySnapshot;\nwindow.getSnapshot = getSnapshot;\nwindow.destroy = destroy;\nwindow.appStore = appStore;\nwindow.mapStore = appStore.getMapByName('zelda3-lw');\n\nif (appStore.shouldSync) {\n\tonSnapshot(appStore, model => {\n\t\tif (window.localStorage) {\n\t\t\twindow.localStorage.setItem(appStore.LOCAL_STORAGE_KEY, JSON.stringify(model))\n\t\t}\n\t});\n\tif (window.localStorage && window.localStorage.getItem(appStore.LOCAL_STORAGE_KEY)) {\n\t\tapplySnapshot(appStore, JSON.parse(window.localStorage.getItem(appStore.LOCAL_STORAGE_KEY)));\n\t}\n}\nReactDOM.render(<App store={appStore} />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const gamesData = [\n\t{ name: 'zelda1', longName: 'The Legend of Zelda', },\n\t{ name: 'zelda3', longName: 'The Legend of Zelda: A Link to the Past' },\n\t{ name: 'metroid1', longName: 'Metroid' },\n\t{ name: 'metroid3', longName: 'Super Metroid' },\n];\nconst locationsData = [\n\t{\n\t\tname: 'linkhouse',\n\t\tlongName: 'Link’s House',\n\t\tcoords: [-2825,2240],\n\t\tgame: 'zelda3',\n\t\tmap: 'zelda3-lw',\n\t\titemRequirements: ['bomb', 'somaria', 'bottle', 'bow', 'net', 'golden-sword', 'cape', 'hammer'],\n\t},\n\t{\n\t\tname: 'hyrule-castle',\n\t\tlongName: 'Hyrule Castle',\n\t\tcoords: [-1800,2050],\n\t\tgame: 'zelda3',\n\t\tmap: 'zelda3-lw',\n\t\titemRequirements: ['boots', 'hookshot'],\n\t},\n\t{\n\t\tname: 'pyramid',\n\t\tlongName: 'Pyramid',\n\t\tcoords: [-1840,2375],\n\t\tgame: 'zelda3',\n\t\tmap: 'zelda3-dw',\n\t\titemRequirements: ['boots', 'hookshot'],\n\t},\n];\n\nexport {\n\tgamesData,\n\tlocationsData,\n}\n"],"sourceRoot":""}